/**
 * @license almond 0.3.1 Copyright (c) 2011-2014, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/jrburke/almond for details
 */

//     (c) 2010-2011 Jeremy Ashkenas, DocumentCloud Inc.

//     (c) 2011-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors

//     Backbone may be freely distributed under the MIT license.

// Copyright (c)2014 Derick Bailey, Muted Solutions, LLC.

// Distributed under MIT license

/*!
 * Includes BabySitter
 * https://github.com/marionettejs/backbone.babysitter/
 *
 * Includes Wreqr
 * https://github.com/marionettejs/backbone.wreqr/
 */

/** @license
 *
 * SoundManager 2: JavaScript Sound for the Web
 * ----------------------------------------------
 * http://schillmania.com/projects/soundmanager2/
 *
 * Copyright (c) 2007, Scott Schiller. All rights reserved.
 * Code provided under the BSD License:
 * http://schillmania.com/projects/soundmanager2/license.txt
 *
 * V2.97a.20150601
 */

/**
 * @license RequireJS text 2.0.10 Copyright (c) 2010-2012, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/requirejs/text for details
 */

/*! @source http://purl.eligrey.com/github/l10n.js/blob/master/l10n.js*/

/*!
 * jQuery blockUI plugin
 * Version 2.70.0-2014.11.23
 * Requires jQuery v1.7 or later
 *
 * Examples at: http://malsup.com/jquery/block/
 * Copyright (c) 2007-2013 M. Alsup
 * Dual licensed under the MIT and GPL licenses:
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.gnu.org/licenses/gpl.html
 *
 * Thanks to Amir-Hossein Sobhi for some excellent contributions!
 */

/*! Copyright (c) 2013 Brandon Aaron (http://brandon.aaron.sh)
 * Licensed under the MIT License (LICENSE.txt).
 *
 * Version: 3.1.9
 *
 * Requires: jQuery 1.2.2+
 */

/*!
 * jScrollPane - v2.0.19 - 2013-11-16
 * http://jscrollpane.kelvinluck.com/
 *
 * Copyright (c) 2013 Kelvin Luck
 * Dual licensed under the MIT or GPL licenses.
 */

// Copyright (c) 2013 Kelvin Luck

// Dual licensed under the MIT or GPL Version 2 licenses.

!function(){function e(e,t,s){e.fn.jScrollPane||(e.fn.jScrollPane=function(i){function n(i,n){function a(t){var n,o,d,c,u,h,g=!1,v=!1;if(B=t,N===s)u=i.scrollTop(),h=i.scrollLeft(),i.css({overflow:"hidden",padding:0}),U=i.innerWidth()+yt,F=i.innerHeight(),i.width(U),N=e('<div class="jspPane" />').css("padding",bt).append(i.children()),Z=e('<div class="jspContainer" />').css({width:U+"px",height:F+"px"}).append(N).appendTo(i);else{if(i.css("width",""),g=B.stickToBottom&&T(),v=B.stickToRight&&A(),c=i.innerWidth()+yt!=U||i.outerHeight()!=F,c&&(U=i.innerWidth()+yt,F=i.innerHeight(),Z.css({width:U+"px",height:F+"px"})),!c&&wt==q&&N.outerHeight()==Y)return void i.width(U);wt=q,N.css("width",""),i.width(U),Z.find(">.jspVerticalBar,>.jspHorizontalBar").remove().end()}N.css("overflow","auto"),q=t.contentWidth?t.contentWidth:N[0].scrollWidth,Y=N[0].scrollHeight,N.css("overflow",""),X=q/U,W=Y/F,K=W>1,Q=X>1,Q||K?(i.addClass("jspScrollable"),n=B.maintainPosition&&(et||it),n&&(o=C(),d=M()),r(),l(),p(),n&&(x(v?q-U:o,!1),P(g?Y-F:d,!1)),I(),E(),V(),B.enableKeyboardNavigation&&j(),B.clickOnTrack&&f(),R(),B.hijackInternalLinks&&H()):(i.removeClass("jspScrollable"),N.css({top:0,left:0,width:Z.width()-yt}),L(),$(),D(),m()),B.autoReinitialise&&!vt?vt=setInterval(function(){a(B)},B.autoReinitialiseDelay):!B.autoReinitialise&&vt&&clearInterval(vt),u&&i.scrollTop(0)&&P(u,!1),h&&i.scrollLeft(0)&&x(h,!1),i.trigger("jsp-initialised",[Q||K])}function r(){K&&(Z.append(e('<div class="jspVerticalBar" />').append(e('<div class="jspCap jspCapTop" />'),e('<div class="jspTrack" />').append(e('<div class="jspDrag" />').append(e('<div class="jspDragTop" />'),e('<div class="jspDragBottom" />'))),e('<div class="jspCap jspCapBottom" />'))),nt=Z.find(">.jspVerticalBar"),at=nt.find(">.jspTrack"),G=at.find(">.jspDrag"),B.showArrows&&(dt=e('<a class="jspArrow jspArrowUp" />').bind("mousedown.jsp",u(0,-1)).bind("click.jsp",O),pt=e('<a class="jspArrow jspArrowDown" />').bind("mousedown.jsp",u(0,1)).bind("click.jsp",O),B.arrowScrollOnHover&&(dt.bind("mouseover.jsp",u(0,-1,dt)),pt.bind("mouseover.jsp",u(0,1,pt))),c(at,B.verticalArrowPositions,dt,pt)),ot=F,Z.find(">.jspVerticalBar>.jspCap:visible,>.jspVerticalBar>.jspArrow").each(function(){ot-=e(this).outerHeight()}),G.hover(function(){G.addClass("jspHover")},function(){G.removeClass("jspHover")}).bind("mousedown.jsp",function(t){e("html").bind("dragstart.jsp selectstart.jsp",O),G.addClass("jspActive");var s=t.pageY-G.position().top;return e("html").bind("mousemove.jsp",function(e){v(e.pageY-s,!1)}).bind("mouseup.jsp mouseleave.jsp",g),!1}),o())}function o(){at.height(ot+"px"),et=0,rt=B.verticalGutter+at.outerWidth(),N.width(U-rt-yt);try{0===nt.position().left&&N.css("margin-left",rt+"px")}catch(e){}}function l(){Q&&(Z.append(e('<div class="jspHorizontalBar" />').append(e('<div class="jspCap jspCapLeft" />'),e('<div class="jspTrack" />').append(e('<div class="jspDrag" />').append(e('<div class="jspDragLeft" />'),e('<div class="jspDragRight" />'))),e('<div class="jspCap jspCapRight" />'))),ct=Z.find(">.jspHorizontalBar"),ut=ct.find(">.jspTrack"),tt=ut.find(">.jspDrag"),B.showArrows&&(mt=e('<a class="jspArrow jspArrowLeft" />').bind("mousedown.jsp",u(-1,0)).bind("click.jsp",O),gt=e('<a class="jspArrow jspArrowRight" />').bind("mousedown.jsp",u(1,0)).bind("click.jsp",O),B.arrowScrollOnHover&&(mt.bind("mouseover.jsp",u(-1,0,mt)),gt.bind("mouseover.jsp",u(1,0,gt))),c(ut,B.horizontalArrowPositions,mt,gt)),tt.hover(function(){tt.addClass("jspHover")},function(){tt.removeClass("jspHover")}).bind("mousedown.jsp",function(t){e("html").bind("dragstart.jsp selectstart.jsp",O),tt.addClass("jspActive");var s=t.pageX-tt.position().left;return e("html").bind("mousemove.jsp",function(e){y(e.pageX-s,!1)}).bind("mouseup.jsp mouseleave.jsp",g),!1}),ht=Z.innerWidth(),d())}function d(){Z.find(">.jspHorizontalBar>.jspCap:visible,>.jspHorizontalBar>.jspArrow").each(function(){ht-=e(this).outerWidth()}),ut.width(ht+"px"),it=0}function p(){if(Q&&K){var t=ut.outerHeight(),s=at.outerWidth();ot-=t,e(ct).find(">.jspCap:visible,>.jspArrow").each(function(){ht+=e(this).outerWidth()}),ht-=s,F-=s,U-=t,ut.parent().append(e('<div class="jspCorner" />').css("width",t+"px")),o(),d()}Q&&N.width(Z.outerWidth()-yt+"px"),Y=N.outerHeight(),W=Y/F,Q&&(ft=Math.ceil(1/X*ht),ft>B.horizontalDragMaxWidth?ft=B.horizontalDragMaxWidth:ft<B.horizontalDragMinWidth&&(ft=B.horizontalDragMinWidth),tt.width(ft+"px"),st=ht-ft,w(it)),K&&(lt=Math.ceil(1/W*ot),lt>B.verticalDragMaxHeight?lt=B.verticalDragMaxHeight:lt<B.verticalDragMinHeight&&(lt=B.verticalDragMinHeight),G.height(lt+"px"),J=ot-lt,b(et))}function c(e,t,s,i){var n,a="before",r="after";"os"==t&&(t=/Mac/.test(navigator.platform)?"after":"split"),t==a?r=t:t==r&&(a=t,n=s,s=i,i=n),e[a](s)[r](i)}function u(e,t,s){return function(){return h(e,t,this,s),this.blur(),!1}}function h(t,s,i,n){i=e(i).addClass("jspActive");var a,r,o=!0,l=function(){0!==t&&_t.scrollByX(t*B.arrowButtonSpeed),0!==s&&_t.scrollByY(s*B.arrowButtonSpeed),r=setTimeout(l,o?B.initialDelay:B.arrowRepeatFreq),o=!1};l(),a=n?"mouseout.jsp":"mouseup.jsp",n=n||e("html"),n.bind(a,function(){i.removeClass("jspActive"),r&&clearTimeout(r),r=null,n.unbind(a)})}function f(){m(),K&&at.bind("mousedown.jsp",function(t){if(t.originalTarget===s||t.originalTarget==t.currentTarget){var i,n=e(this),a=n.offset(),r=t.pageY-a.top-et,o=!0,l=function(){var e=n.offset(),s=t.pageY-e.top-lt/2,a=F*B.scrollPagePercent,p=J*a/(Y-F);if(0>r)et-p>s?_t.scrollByY(-a):v(s);else{if(!(r>0))return void d();s>et+p?_t.scrollByY(a):v(s)}i=setTimeout(l,o?B.initialDelay:B.trackClickRepeatFreq),o=!1},d=function(){i&&clearTimeout(i),i=null,e(document).unbind("mouseup.jsp",d)};return l(),e(document).bind("mouseup.jsp",d),!1}}),Q&&ut.bind("mousedown.jsp",function(t){if(t.originalTarget===s||t.originalTarget==t.currentTarget){var i,n=e(this),a=n.offset(),r=t.pageX-a.left-it,o=!0,l=function(){var e=n.offset(),s=t.pageX-e.left-ft/2,a=U*B.scrollPagePercent,p=st*a/(q-U);if(0>r)it-p>s?_t.scrollByX(-a):y(s);else{if(!(r>0))return void d();s>it+p?_t.scrollByX(a):y(s)}i=setTimeout(l,o?B.initialDelay:B.trackClickRepeatFreq),o=!1},d=function(){i&&clearTimeout(i),i=null,e(document).unbind("mouseup.jsp",d)};return l(),e(document).bind("mouseup.jsp",d),!1}})}function m(){ut&&ut.unbind("mousedown.jsp"),at&&at.unbind("mousedown.jsp")}function g(){e("html").unbind("dragstart.jsp selectstart.jsp mousemove.jsp mouseup.jsp mouseleave.jsp"),G&&G.removeClass("jspActive"),tt&&tt.removeClass("jspActive")}function v(e,t){K&&(0>e?e=0:e>J&&(e=J),t===s&&(t=B.animateScroll),t?_t.animate(G,"top",e,b):(G.css("top",e),b(e)))}function b(e){e===s&&(e=G.position().top),Z.scrollTop(0),et=e;var t=0===et,n=et==J,a=e/J,r=-a*(Y-F);(kt!=t||xt!=n)&&(kt=t,xt=n,i.trigger("jsp-arrow-change",[kt,xt,Pt,St])),_(t,n),N.css("top",r),i.trigger("jsp-scroll-y",[-r,t,n]).trigger("scroll")}function y(e,t){Q&&(0>e?e=0:e>st&&(e=st),t===s&&(t=B.animateScroll),t?_t.animate(tt,"left",e,w):(tt.css("left",e),w(e)))}function w(e){e===s&&(e=tt.position().left),Z.scrollTop(0),it=e;var t=0===it,n=it==st,a=e/st,r=-a*(q-U);(Pt!=t||St!=n)&&(Pt=t,St=n,i.trigger("jsp-arrow-change",[kt,xt,Pt,St])),k(t,n),N.css("left",r),i.trigger("jsp-scroll-x",[-r,t,n]).trigger("scroll")}function _(e,t){B.showArrows&&(dt[e?"addClass":"removeClass"]("jspDisabled"),pt[t?"addClass":"removeClass"]("jspDisabled"))}function k(e,t){B.showArrows&&(mt[e?"addClass":"removeClass"]("jspDisabled"),gt[t?"addClass":"removeClass"]("jspDisabled"))}function P(e,t){var s=e/(Y-F);v(s*J,t)}function x(e,t){var s=e/(q-U);y(s*st,t)}function S(t,s,i){var n,a,r,o,l,d,p,c,u,h=0,f=0;try{n=e(t)}catch(m){return}for(a=n.outerHeight(),r=n.outerWidth(),Z.scrollTop(0),Z.scrollLeft(0);!n.is(".jspPane");)if(h+=n.position().top,f+=n.position().left,n=n.offsetParent(),/^body|html$/i.test(n[0].nodeName))return;o=M(),d=o+F,o>h||s?c=h-B.horizontalGutter:h+a>d&&(c=h-F+a+B.horizontalGutter),isNaN(c)||P(c,i),l=C(),p=l+U,l>f||s?u=f-B.horizontalGutter:f+r>p&&(u=f-U+r+B.horizontalGutter),isNaN(u)||x(u,i)}function C(){return-N.position().left}function M(){return-N.position().top}function T(){var e=Y-F;return e>20&&e-M()<10}function A(){var e=q-U;return e>20&&e-C()<10}function E(){Z.unbind(Mt).bind(Mt,function(e,t,s,i){var n=it,a=et,r=e.deltaFactor||B.mouseWheelSpeed;return _t.scrollBy(s*r,-i*r,!1),n==it&&a==et})}function L(){Z.unbind(Mt)}function O(){return!1}function I(){N.find(":input,a").unbind("focus.jsp").bind("focus.jsp",function(e){S(e.target,!1)})}function $(){N.find(":input,a").unbind("focus.jsp")}function j(){function t(){var e=it,t=et;switch(s){case 40:_t.scrollByY(B.keyboardSpeed,!1);break;case 38:_t.scrollByY(-B.keyboardSpeed,!1);break;case 34:case 32:_t.scrollByY(F*B.scrollPagePercent,!1);break;case 33:_t.scrollByY(-F*B.scrollPagePercent,!1);break;case 39:_t.scrollByX(B.keyboardSpeed,!1);break;case 37:_t.scrollByX(-B.keyboardSpeed,!1)}return n=e!=it||t!=et}var s,n,a=[];Q&&a.push(ct[0]),K&&a.push(nt[0]),N.focus(function(){i.focus()}),i.attr("tabindex",0).unbind("keydown.jsp keypress.jsp").bind("keydown.jsp",function(i){if(i.target===this||a.length&&e(i.target).closest(a).length){var r=it,o=et;switch(i.keyCode){case 40:case 38:case 34:case 32:case 33:case 39:case 37:s=i.keyCode,t();break;case 35:P(Y-F),s=null;break;case 36:P(0),s=null}return n=i.keyCode==s&&r!=it||o!=et,!n}}).bind("keypress.jsp",function(e){return e.keyCode==s&&t(),!n}),B.hideFocus?(i.css("outline","none"),"hideFocus"in Z[0]&&i.attr("hideFocus",!0)):(i.css("outline",""),"hideFocus"in Z[0]&&i.attr("hideFocus",!1))}function D(){i.attr("tabindex","-1").removeAttr("tabindex").unbind("keydown.jsp keypress.jsp")}function R(){if(location.hash&&location.hash.length>1){var t,s,i=escape(location.hash.substr(1));try{t=e("#"+i+', a[name="'+i+'"]')}catch(n){return}t.length&&N.find(i)&&(0===Z.scrollTop()?s=setInterval(function(){Z.scrollTop()>0&&(S(t,!0),e(document).scrollTop(Z.position().top),clearInterval(s))},50):(S(t,!0),e(document).scrollTop(Z.position().top)))}}function H(){e(document.body).data("jspHijack")||(e(document.body).data("jspHijack",!0),e(document.body).delegate("a[href*=#]","click",function(s){var i,n,a,r,o,l,d=this.href.substr(0,this.href.indexOf("#")),p=location.href;if(-1!==location.href.indexOf("#")&&(p=location.href.substr(0,location.href.indexOf("#"))),d===p){i=escape(this.href.substr(this.href.indexOf("#")+1));try{n=e("#"+i+', a[name="'+i+'"]')}catch(c){return}n.length&&(a=n.closest(".jspScrollable"),r=a.data("jsp"),r.scrollToElement(n,!0),a[0].scrollIntoView&&(o=e(t).scrollTop(),l=n.offset().top,(o>l||l>o+e(t).height())&&a[0].scrollIntoView()),s.preventDefault())}}))}function V(){var e,t,s,i,n,a=!1;Z.unbind("touchstart.jsp touchmove.jsp touchend.jsp click.jsp-touchclick").bind("touchstart.jsp",function(r){var o=r.originalEvent.touches[0];e=C(),t=M(),s=o.pageX,i=o.pageY,n=!1,a=!0}).bind("touchmove.jsp",function(r){if(a){var o=r.originalEvent.touches[0],l=it,d=et;return _t.scrollTo(e+s-o.pageX,t+i-o.pageY),n=n||Math.abs(s-o.pageX)>5||Math.abs(i-o.pageY)>5,l==it&&d==et}}).bind("touchend.jsp",function(){a=!1}).bind("click.jsp-touchclick",function(){return n?(n=!1,!1):void 0})}function z(){var e=M(),t=C();i.removeClass("jspScrollable").unbind(".jsp"),i.replaceWith(Ct.append(N.children())),Ct.scrollTop(e),Ct.scrollLeft(t),vt&&clearInterval(vt)}var B,N,U,F,Z,q,Y,X,W,K,Q,G,J,et,tt,st,it,nt,at,rt,ot,lt,dt,pt,ct,ut,ht,ft,mt,gt,vt,bt,yt,wt,_t=this,kt=!0,Pt=!0,xt=!1,St=!1,Ct=i.clone(!1,!1).empty(),Mt=e.fn.mwheelIntent?"mwheelIntent.jsp":"mousewheel.jsp";"border-box"===i.css("box-sizing")?(bt=0,yt=0):(bt=i.css("paddingTop")+" "+i.css("paddingRight")+" "+i.css("paddingBottom")+" "+i.css("paddingLeft"),yt=(parseInt(i.css("paddingLeft"),10)||0)+(parseInt(i.css("paddingRight"),10)||0)),e.extend(_t,{removeKeyboardNav:function(){D()},initKeyboardNav:function(){j()},reinitialise:function(t){t=e.extend({},B,t),a(t)},scrollToElement:function(e,t,s){S(e,t,s)},scrollTo:function(e,t,s){x(e,s),P(t,s)},scrollToX:function(e,t){x(e,t)},scrollToY:function(e,t){P(e,t)},scrollToPercentX:function(e,t){x(e*(q-U),t)},scrollToPercentY:function(e,t){P(e*(Y-F),t)},scrollBy:function(e,t,s){_t.scrollByX(e,s),_t.scrollByY(t,s)},scrollByX:function(e,t){var s=C()+Math[0>e?"floor":"ceil"](e),i=s/(q-U);y(i*st,t)},scrollByY:function(e,t){var s=M()+Math[0>e?"floor":"ceil"](e),i=s/(Y-F);v(i*J,t)},positionDragX:function(e,t){y(e,t)},positionDragY:function(e,t){v(e,t)},animate:function(e,t,s,i){var n={};n[t]=s,e.animate(n,{duration:B.animateDuration,easing:B.animateEase,queue:!1,step:i})},getContentPositionX:function(){return C()},getContentPositionY:function(){return M()},getContentWidth:function(){return q},getContentHeight:function(){return Y},getPercentScrolledX:function(){return C()/(q-U)},getPercentScrolledY:function(){return M()/(Y-F)},getIsScrollableH:function(){return Q},getIsScrollableV:function(){return K},getContentPane:function(){return N},scrollToBottom:function(e){v(J,e)},hijackInternalLinks:e.noop,destroy:function(){z()}}),a(n)}return i=e.extend({},e.fn.jScrollPane.defaults,i),e.each(["arrowButtonSpeed","trackClickSpeed","keyboardSpeed"],function(){i[this]=i[this]||i.speed}),this.each(function(){var t=e(this),s=t.data("jsp");s?s.reinitialise(i):(e("script",t).filter('[type="text/javascript"],:not([type])').remove(),s=new n(t,i),t.data("jsp",s))})},e.fn.jScrollPane.defaults={showArrows:!1,maintainPosition:!0,stickToBottom:!1,stickToRight:!1,clickOnTrack:!0,autoReinitialise:!1,autoReinitialiseDelay:500,verticalDragMinHeight:0,verticalDragMaxHeight:99999,horizontalDragMinWidth:0,horizontalDragMaxWidth:99999,contentWidth:s,animateScroll:!1,animateDuration:300,animateEase:"linear",hijackInternalLinks:!1,verticalGutter:4,horizontalGutter:4,mouseWheelSpeed:3,arrowButtonSpeed:0,arrowRepeatFreq:50,arrowScrollOnHover:!1,trackClickSpeed:0,trackClickRepeatFreq:70,verticalArrowPositions:"split",horizontalArrowPositions:"split",enableKeyboardNavigation:!0,hideFocus:!1,keyboardSpeed:0,initialDelay:300,speed:30,scrollPagePercent:.8})}function t(e){if(!e.fn.cssExtended){var t=function(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},s=!!CSSStyleDeclaration.prototype.getPropertyValue;s||(CSSStyleDeclaration.prototype.getPropertyValue=function(e){return this.getAttribute(e)},CSSStyleDeclaration.prototype.setProperty=function(e,s,i){this.setAttribute(e,s);var i="undefined"!=typeof i?i:"";if(""!=i){var n=new RegExp(t(e)+"\\s*:\\s*"+t(s)+"(\\s*;)?","gmi");this.cssText=this.cssText.replace(n,e+": "+s+" !"+i+";")}},CSSStyleDeclaration.prototype.removeProperty=function(e){return this.removeAttribute(e)},CSSStyleDeclaration.prototype.getPropertyPriority=function(e){var s=new RegExp(t(e)+"\\s*:\\s*[^\\s]*\\s*!important(\\s*;)?","gmi");return s.test(this.cssText)?"important":""}),e.fn.cssExtended=function(e,t,s){var i=this.get(0);if("undefined"==typeof i)return this;var n=this.get(0).style;return"undefined"!=typeof e?"undefined"!=typeof t?(s="undefined"!=typeof s?s:"",n.setProperty(e,t,s),this):n.getPropertyValue(e):n}}}function s(e,t){for(var s=e+"";s.length<t;)s="0"+s;return s}function n(e,t){if("undefined"!=typeof AP_Player&&AP_Player.debug_output){var s="";"undefined"!=typeof t&&(s=t.replace(/<br \/>/g,"%lineBreak%"),s=jQuery(s).text(),s=s.replace(/%lineBreak%/g,"\n	")),console.log("SPP: "+e+s)}}function a(e){if("elapsed"!==e.type&&"remaining"!==e.type)return void n("Invalid user trigger type");if("undefined"!=typeof e.player_uid&&"undefined"==typeof SmartPodcastPlayer._by_uid[e.player_uid])return void n("Player UID "+e.player_uid+" doesn't exist.");if("function"!=typeof e.callback)return void n("Invalid callback");if("undefined"==typeof e.seconds||isNaN(parseFloat(e.seconds))||!isFinite(e.seconds))return void n("Invalid number of seconds: "+e.seconds);var t={type:e.type,callback:e.callback,seconds:e.seconds,episode:e.episode};if("undefined"==typeof e.player_uid)for(var s in SmartPodcastPlayer._by_uid)SmartPodcastPlayer._by_uid[s].userTriggers.push(t);else SmartPodcastPlayer._by_uid[e.player_uid].userTriggers.push(t)}function r(e){AP_Player.ctct_html&&(e(".ctct-inline-form.spp-ctct").length>0||(ctctInline=e(e.parseHTML(AP_Player.ctct_html)),ctctInline&&ctctInline.addClass("spp-ctct").hide().appendTo("body")))}function o(e,t,s){var i=t||"16px Roboto",n=jQuery("<div></div>").html(e).css({position:"absolute","float":"left",visibility:"hidden",font:i,width:s}).appendTo(jQuery("body")),a=n.height();return n.remove(),a}var l,d,p;!function(e){function t(e,t){return w.call(e,t)}function s(e,t){var s,i,n,a,r,o,l,d,p,c,u,h=t&&t.split("/"),f=b.map,m=f&&f["*"]||{};if(e&&"."===e.charAt(0))if(t){for(e=e.split("/"),r=e.length-1,b.nodeIdCompat&&k.test(e[r])&&(e[r]=e[r].replace(k,"")),e=h.slice(0,h.length-1).concat(e),p=0;p<e.length;p+=1)if(u=e[p],"."===u)e.splice(p,1),p-=1;else if(".."===u){if(1===p&&(".."===e[2]||".."===e[0]))break;p>0&&(e.splice(p-1,2),p-=2)}e=e.join("/")}else 0===e.indexOf("./")&&(e=e.substring(2));if((h||m)&&f){for(s=e.split("/"),p=s.length;p>0;p-=1){if(i=s.slice(0,p).join("/"),h)for(c=h.length;c>0;c-=1)if(n=f[h.slice(0,c).join("/")],n&&(n=n[i])){a=n,o=p;break}if(a)break;!l&&m&&m[i]&&(l=m[i],d=p)}!a&&l&&(a=l,o=d),a&&(s.splice(0,o,a),e=s.join("/"))}return e}function i(t,s){return function(){var i=_.call(arguments,0);return"string"!=typeof i[0]&&1===i.length&&i.push(null),h.apply(e,i.concat([t,s]))}}function n(e){return function(t){return s(t,e)}}function a(e){return function(t){g[e]=t}}function r(s){if(t(v,s)){var i=v[s];delete v[s],y[s]=!0,u.apply(e,i)}if(!t(g,s)&&!t(y,s))throw new Error("No "+s);return g[s]}function o(e){var t,s=e?e.indexOf("!"):-1;return s>-1&&(t=e.substring(0,s),e=e.substring(s+1,e.length)),[t,e]}function c(e){return function(){return b&&b.config&&b.config[e]||{}}}var u,h,f,m,g={},v={},b={},y={},w=Object.prototype.hasOwnProperty,_=[].slice,k=/\.js$/;f=function(e,t){var i,a=o(e),l=a[0];return e=a[1],l&&(l=s(l,t),i=r(l)),l?e=i&&i.normalize?i.normalize(e,n(t)):s(e,t):(e=s(e,t),a=o(e),l=a[0],e=a[1],l&&(i=r(l))),{f:l?l+"!"+e:e,n:e,pr:l,p:i}},m={require:function(e){return i(e)},exports:function(e){var t=g[e];return"undefined"!=typeof t?t:g[e]={}},module:function(e){return{id:e,uri:"",exports:g[e],config:c(e)}}},u=function(s,n,o,l){var d,p,c,u,h,b,w=[],_=typeof o;if(l=l||s,"undefined"===_||"function"===_){for(n=!n.length&&o.length?["require","exports","module"]:n,h=0;h<n.length;h+=1)if(u=f(n[h],l),p=u.f,"require"===p)w[h]=m.require(s);else if("exports"===p)w[h]=m.exports(s),b=!0;else if("module"===p)d=w[h]=m.module(s);else if(t(g,p)||t(v,p)||t(y,p))w[h]=r(p);else{if(!u.p)throw new Error(s+" missing "+p);u.p.load(u.n,i(l,!0),a(p),{}),w[h]=g[p]}c=o?o.apply(g[s],w):void 0,s&&(d&&d.exports!==e&&d.exports!==g[s]?g[s]=d.exports:c===e&&b||(g[s]=c))}else s&&(g[s]=o)},l=d=h=function(t,s,i,n,a){if("string"==typeof t)return m[t]?m[t](s):r(f(t,s).f);if(!t.splice){if(b=t,b.deps&&h(b.deps,b.callback),!s)return;s.splice?(t=s,s=i,i=null):t=e}return s=s||function(){},"function"==typeof i&&(i=n,n=a),n?u(e,t,s,i):setTimeout(function(){u(e,t,s,i)},4),h},h.config=function(e){return h(e)},l._defined=g,p=function(e,s,i){if("string"!=typeof e)throw new Error("See almond README: incorrect module build, no module name");s.splice||(i=s,s=[]),t(g,e)||t(v,e)||(v[e]=[e,s,i])},p.amd={jQuery:!0}}(),p("vendor/almond",function(){}),function(e,t){"undefined"!=typeof exports?t(e,exports,d("underscore")):"function"==typeof p&&p.amd?p("backbone",["underscore","jquery","exports"],function(s,i,n){e.Backbone=t(e,n,s,i)}):e.Backbone=t(e,{},e._,e.jQuery||e.Zepto||e.ender||e.$)}(this,function(e,t,s,i){{var n=e.Backbone,a=[],r=(a.push,a.slice);a.splice}t.VERSION="1.1.0",t.$=i,t.noConflict=function(){return e.Backbone=n,this},t.emulateHTTP=!1,t.emulateJSON=!1;var o=t.Events={on:function(e,t,s){if(!d(this,"on",e,[t,s])||!t)return this;this._events||(this._events={});var i=this._events[e]||(this._events[e]=[]);return i.push({callback:t,context:s,ctx:s||this}),this},once:function(e,t,i){if(!d(this,"once",e,[t,i])||!t)return this;var n=this,a=s.once(function(){n.off(e,a),t.apply(this,arguments)});return a._callback=t,this.on(e,a,i)},off:function(e,t,i){var n,a,r,o,l,p,c,u;if(!this._events||!d(this,"off",e,[t,i]))return this;if(!e&&!t&&!i)return this._events={},this;for(o=e?[e]:s.keys(this._events),l=0,p=o.length;p>l;l++)if(e=o[l],r=this._events[e]){if(this._events[e]=n=[],t||i)for(c=0,u=r.length;u>c;c++)a=r[c],(t&&t!==a.callback&&t!==a.callback._callback||i&&i!==a.context)&&n.push(a);n.length||delete this._events[e]}return this},trigger:function(e){if(!this._events)return this;var t=r.call(arguments,1);if(!d(this,"trigger",e,t))return this;var s=this._events[e],i=this._events.all;return s&&p(s,t),i&&p(i,arguments),this},stopListening:function(e,t,i){var n=this._listeningTo;if(!n)return this;var a=!t&&!i;i||"object"!=typeof t||(i=this),e&&((n={})[e._listenId]=e);for(var r in n)e=n[r],e.off(t,i,this),(a||s.isEmpty(e._events))&&delete this._listeningTo[r];return this}},l=/\s+/,d=function(e,t,s,i){if(!s)return!0;if("object"==typeof s){for(var n in s)e[t].apply(e,[n,s[n]].concat(i));return!1}if(l.test(s)){for(var a=s.split(l),r=0,o=a.length;o>r;r++)e[t].apply(e,[a[r]].concat(i));return!1}return!0},p=function(e,t){var s,i=-1,n=e.length,a=t[0],r=t[1],o=t[2];switch(t.length){case 0:for(;++i<n;)(s=e[i]).callback.call(s.ctx);return;case 1:for(;++i<n;)(s=e[i]).callback.call(s.ctx,a);return;case 2:for(;++i<n;)(s=e[i]).callback.call(s.ctx,a,r);return;case 3:for(;++i<n;)(s=e[i]).callback.call(s.ctx,a,r,o);return;default:for(;++i<n;)(s=e[i]).callback.apply(s.ctx,t)}},c={listenTo:"on",listenToOnce:"once"};s.each(c,function(e,t){o[t]=function(t,i,n){var a=this._listeningTo||(this._listeningTo={}),r=t._listenId||(t._listenId=s.uniqueId("l"));return a[r]=t,n||"object"!=typeof i||(n=this),t[e](i,n,this),this}}),o.bind=o.on,o.unbind=o.off,s.extend(t,o);var u=t.Model=function(e,t){var i=e||{};t||(t={}),this.cid=s.uniqueId("c"),this.attributes={},t.collection&&(this.collection=t.collection),t.parse&&(i=this.parse(i,t)||{}),i=s.defaults({},i,s.result(this,"defaults")),this.set(i,t),this.changed={},this.initialize.apply(this,arguments)};s.extend(u.prototype,o,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(){return s.clone(this.attributes)},sync:function(){return t.sync.apply(this,arguments)},get:function(e){return this.attributes[e]},escape:function(e){return s.escape(this.get(e))},has:function(e){return null!=this.get(e)},set:function(e,t,i){var n,a,r,o,l,d,p,c;if(null==e)return this;if("object"==typeof e?(a=e,i=t):(a={})[e]=t,i||(i={}),!this._validate(a,i))return!1;r=i.unset,l=i.silent,o=[],d=this._changing,this._changing=!0,d||(this._previousAttributes=s.clone(this.attributes),this.changed={}),c=this.attributes,p=this._previousAttributes,this.idAttribute in a&&(this.id=a[this.idAttribute]);for(n in a)t=a[n],s.isEqual(c[n],t)||o.push(n),s.isEqual(p[n],t)?delete this.changed[n]:this.changed[n]=t,r?delete c[n]:c[n]=t;if(!l){o.length&&(this._pending=!0);for(var u=0,h=o.length;h>u;u++)this.trigger("change:"+o[u],this,c[o[u]],i)}if(d)return this;if(!l)for(;this._pending;)this._pending=!1,this.trigger("change",this,i);return this._pending=!1,this._changing=!1,this},unset:function(e,t){return this.set(e,void 0,s.extend({},t,{unset:!0}))},clear:function(e){var t={};for(var i in this.attributes)t[i]=void 0;return this.set(t,s.extend({},e,{unset:!0}))},hasChanged:function(e){return null==e?!s.isEmpty(this.changed):s.has(this.changed,e)},changedAttributes:function(e){if(!e)return this.hasChanged()?s.clone(this.changed):!1;var t,i=!1,n=this._changing?this._previousAttributes:this.attributes;for(var a in e)s.isEqual(n[a],t=e[a])||((i||(i={}))[a]=t);return i},previous:function(e){return null!=e&&this._previousAttributes?this._previousAttributes[e]:null},previousAttributes:function(){return s.clone(this._previousAttributes)},fetch:function(e){e=e?s.clone(e):{},void 0===e.parse&&(e.parse=!0);var t=this,i=e.success;return e.success=function(s){return t.set(t.parse(s,e),e)?(i&&i(t,s,e),void t.trigger("sync",t,s,e)):!1},R(this,e),this.sync("read",this,e)},save:function(e,t,i){var n,a,r,o=this.attributes;if(null==e||"object"==typeof e?(n=e,i=t):(n={})[e]=t,i=s.extend({validate:!0},i),n&&!i.wait){if(!this.set(n,i))return!1}else if(!this._validate(n,i))return!1;n&&i.wait&&(this.attributes=s.extend({},o,n)),void 0===i.parse&&(i.parse=!0);var l=this,d=i.success;return i.success=function(e){l.attributes=o;var t=l.parse(e,i);return i.wait&&(t=s.extend(n||{},t)),s.isObject(t)&&!l.set(t,i)?!1:(d&&d(l,e,i),void l.trigger("sync",l,e,i))},R(this,i),a=this.isNew()?"create":i.patch?"patch":"update","patch"===a&&(i.attrs=n),r=this.sync(a,this,i),n&&i.wait&&(this.attributes=o),r},destroy:function(e){e=e?s.clone(e):{};var t=this,i=e.success,n=function(){t.trigger("destroy",t,t.collection,e)};if(e.success=function(s){(e.wait||t.isNew())&&n(),i&&i(t,s,e),t.isNew()||t.trigger("sync",t,s,e)},this.isNew())return e.success(),!1;R(this,e);var a=this.sync("delete",this,e);return e.wait||n(),a},url:function(){var e=s.result(this,"urlRoot")||s.result(this.collection,"url")||D();return this.isNew()?e:e+("/"===e.charAt(e.length-1)?"":"/")+encodeURIComponent(this.id)},parse:function(e){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return null==this.id},isValid:function(e){return this._validate({},s.extend(e||{},{validate:!0}))},_validate:function(e,t){if(!t.validate||!this.validate)return!0;e=s.extend({},this.attributes,e);var i=this.validationError=this.validate(e,t)||null;return i?(this.trigger("invalid",this,i,s.extend(t,{validationError:i})),!1):!0}});var h=["keys","values","pairs","invert","pick","omit"];s.each(h,function(e){u.prototype[e]=function(){var t=r.call(arguments);return t.unshift(this.attributes),s[e].apply(s,t)}});var f=t.Collection=function(e,t){t||(t={}),t.model&&(this.model=t.model),void 0!==t.comparator&&(this.comparator=t.comparator),this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,s.extend({silent:!0},t))},m={add:!0,remove:!0,merge:!0},g={add:!0,remove:!1};s.extend(f.prototype,o,{model:u,initialize:function(){},toJSON:function(e){return this.map(function(t){return t.toJSON(e)})},sync:function(){return t.sync.apply(this,arguments)},add:function(e,t){return this.set(e,s.extend({merge:!1},t,g))},remove:function(e,t){var i=!s.isArray(e);e=i?[e]:s.clone(e),t||(t={});var n,a,r,o;for(n=0,a=e.length;a>n;n++)o=e[n]=this.get(e[n]),o&&(delete this._byId[o.id],delete this._byId[o.cid],r=this.indexOf(o),this.models.splice(r,1),this.length--,t.silent||(t.index=r,o.trigger("remove",o,this,t)),this._removeReference(o));return i?e[0]:e},set:function(e,t){t=s.defaults({},t,m),t.parse&&(e=this.parse(e,t));var i=!s.isArray(e);e=i?e?[e]:[]:s.clone(e);var n,a,r,o,l,d,p,c=t.at,h=this.model,f=this.comparator&&null==c&&t.sort!==!1,g=s.isString(this.comparator)?this.comparator:null,v=[],b=[],y={},w=t.add,_=t.merge,k=t.remove,P=!f&&w&&k?[]:!1;for(n=0,a=e.length;a>n;n++){if(l=e[n],r=l instanceof u?o=l:l[h.prototype.idAttribute],d=this.get(r))k&&(y[d.cid]=!0),_&&(l=l===o?o.attributes:l,t.parse&&(l=d.parse(l,t)),d.set(l,t),f&&!p&&d.hasChanged(g)&&(p=!0)),e[n]=d;else if(w){if(o=e[n]=this._prepareModel(l,t),!o)continue;v.push(o),o.on("all",this._onModelEvent,this),this._byId[o.cid]=o,null!=o.id&&(this._byId[o.id]=o)}P&&P.push(d||o)}if(k){for(n=0,a=this.length;a>n;++n)y[(o=this.models[n]).cid]||b.push(o);b.length&&this.remove(b,t)}if(v.length||P&&P.length)if(f&&(p=!0),this.length+=v.length,null!=c)for(n=0,a=v.length;a>n;n++)this.models.splice(c+n,0,v[n]);else{P&&(this.models.length=0);var x=P||v;for(n=0,a=x.length;a>n;n++)this.models.push(x[n])}if(p&&this.sort({silent:!0}),!t.silent){for(n=0,a=v.length;a>n;n++)(o=v[n]).trigger("add",o,this,t);(p||P&&P.length)&&this.trigger("sort",this,t)}return i?e[0]:e},reset:function(e,t){t||(t={});for(var i=0,n=this.models.length;n>i;i++)this._removeReference(this.models[i]);return t.previousModels=this.models,this._reset(),e=this.add(e,s.extend({silent:!0},t)),t.silent||this.trigger("reset",this,t),e},push:function(e,t){return this.add(e,s.extend({at:this.length},t))},pop:function(e){var t=this.at(this.length-1);return this.remove(t,e),t},unshift:function(e,t){return this.add(e,s.extend({at:0},t))},shift:function(e){var t=this.at(0);return this.remove(t,e),t},slice:function(){return r.apply(this.models,arguments)},get:function(e){return null==e?void 0:this._byId[e.id]||this._byId[e.cid]||this._byId[e]},at:function(e){return this.models[e]},where:function(e,t){return s.isEmpty(e)?t?void 0:[]:this[t?"find":"filter"](function(t){for(var s in e)if(e[s]!==t.get(s))return!1;return!0})},findWhere:function(e){return this.where(e,!0)},sort:function(e){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return e||(e={}),s.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(s.bind(this.comparator,this)),e.silent||this.trigger("sort",this,e),this},pluck:function(e){return s.invoke(this.models,"get",e)},fetch:function(e){e=e?s.clone(e):{},void 0===e.parse&&(e.parse=!0);var t=e.success,i=this;return e.success=function(s){var n=e.reset?"reset":"set";i[n](s,e),t&&t(i,s,e),i.trigger("sync",i,s,e)},R(this,e),this.sync("read",this,e)},create:function(e,t){if(t=t?s.clone(t):{},!(e=this._prepareModel(e,t)))return!1;t.wait||this.add(e,t);var i=this,n=t.success;return t.success=function(e,t,s){s.wait&&i.add(e,s),n&&n(e,t,s)},e.save(null,t),e},parse:function(e){return e},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(e,t){if(e instanceof u)return e.collection||(e.collection=this),e;t=t?s.clone(t):{},t.collection=this;var i=new this.model(e,t);return i.validationError?(this.trigger("invalid",this,i.validationError,t),!1):i},_removeReference:function(e){this===e.collection&&delete e.collection,e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,s,i){("add"!==e&&"remove"!==e||s===this)&&("destroy"===e&&this.remove(t,i),t&&e==="change:"+t.idAttribute&&(delete this._byId[t.previous(t.idAttribute)],null!=t.id&&(this._byId[t.id]=t)),this.trigger.apply(this,arguments))}});var v=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","difference","indexOf","shuffle","lastIndexOf","isEmpty","chain"];s.each(v,function(e){f.prototype[e]=function(){var t=r.call(arguments);return t.unshift(this.models),s[e].apply(s,t)}});var b=["groupBy","countBy","sortBy"];s.each(b,function(e){f.prototype[e]=function(t,i){var n=s.isFunction(t)?t:function(e){return e.get(t)};return s[e](this.models,n,i)}});var y=t.View=function(e){this.cid=s.uniqueId("view"),e||(e={}),s.extend(this,s.pick(e,_)),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},w=/^(\S+)\s*(.*)$/,_=["model","collection","el","id","attributes","className","tagName","events"];s.extend(y.prototype,o,{tagName:"div",$:function(e){return this.$el.find(e)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(e,s){return this.$el&&this.undelegateEvents(),this.$el=e instanceof t.$?e:t.$(e),this.el=this.$el[0],s!==!1&&this.delegateEvents(),this},delegateEvents:function(e){if(!e&&!(e=s.result(this,"events")))return this;this.undelegateEvents();for(var t in e){var i=e[t];if(s.isFunction(i)||(i=this[e[t]]),i){var n=t.match(w),a=n[1],r=n[2];i=s.bind(i,this),a+=".delegateEvents"+this.cid,""===r?this.$el.on(a,i):this.$el.on(a,r,i)}}return this},undelegateEvents:function(){return this.$el.off(".delegateEvents"+this.cid),this},_ensureElement:function(){if(this.el)this.setElement(s.result(this,"el"),!1);
else{var e=s.extend({},s.result(this,"attributes"));this.id&&(e.id=s.result(this,"id")),this.className&&(e["class"]=s.result(this,"className"));var i=t.$("<"+s.result(this,"tagName")+">").attr(e);this.setElement(i,!1)}}}),t.sync=function(e,i,n){var a=P[e];s.defaults(n||(n={}),{emulateHTTP:t.emulateHTTP,emulateJSON:t.emulateJSON});var r={type:a,dataType:"json"};if(n.url||(r.url=s.result(i,"url")||D()),null!=n.data||!i||"create"!==e&&"update"!==e&&"patch"!==e||(r.contentType="application/json",r.data=JSON.stringify(n.attrs||i.toJSON(n))),n.emulateJSON&&(r.contentType="application/x-www-form-urlencoded",r.data=r.data?{model:r.data}:{}),n.emulateHTTP&&("PUT"===a||"DELETE"===a||"PATCH"===a)){r.type="POST",n.emulateJSON&&(r.data._method=a);var o=n.beforeSend;n.beforeSend=function(e){return e.setRequestHeader("X-HTTP-Method-Override",a),o?o.apply(this,arguments):void 0}}"GET"===r.type||n.emulateJSON||(r.processData=!1),"PATCH"===r.type&&k&&(r.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});var l=n.xhr=t.ajax(s.extend(r,n));return i.trigger("request",i,l,n),l};var k=!("undefined"==typeof window||!window.ActiveXObject||window.XMLHttpRequest&&(new XMLHttpRequest).dispatchEvent),P={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};t.ajax=function(){return t.$.ajax.apply(t.$,arguments)};var x=t.Router=function(e){e||(e={}),e.routes&&(this.routes=e.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},S=/\((.*?)\)/g,C=/(\(\?)?:\w+/g,M=/\*\w+/g,T=/[\-{}\[\]+?.,\\\^$|#\s]/g;s.extend(x.prototype,o,{initialize:function(){},route:function(e,i,n){s.isRegExp(e)||(e=this._routeToRegExp(e)),s.isFunction(i)&&(n=i,i=""),n||(n=this[i]);var a=this;return t.history.route(e,function(s){var r=a._extractParameters(e,s);n&&n.apply(a,r),a.trigger.apply(a,["route:"+i].concat(r)),a.trigger("route",i,r),t.history.trigger("route",a,i,r)}),this},navigate:function(e,s){return t.history.navigate(e,s),this},_bindRoutes:function(){if(this.routes){this.routes=s.result(this,"routes");for(var e,t=s.keys(this.routes);null!=(e=t.pop());)this.route(e,this.routes[e])}},_routeToRegExp:function(e){return e=e.replace(T,"\\$&").replace(S,"(?:$1)?").replace(C,function(e,t){return t?e:"([^/]+)"}).replace(M,"(.*?)"),new RegExp("^"+e+"$")},_extractParameters:function(e,t){var i=e.exec(t).slice(1);return s.map(i,function(e){return e?decodeURIComponent(e):null})}});var A=t.History=function(){this.handlers=[],s.bindAll(this,"checkUrl"),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},E=/^[#\/]|\s+$/g,L=/^\/+|\/+$/g,O=/msie [\w.]+/,I=/\/$/,$=/[?#].*$/;A.started=!1,s.extend(A.prototype,o,{interval:50,getHash:function(e){var t=(e||this).location.href.match(/#(.*)$/);return t?t[1]:""},getFragment:function(e,t){if(null==e)if(this._hasPushState||!this._wantsHashChange||t){e=this.location.pathname;var s=this.root.replace(I,"");e.indexOf(s)||(e=e.slice(s.length))}else e=this.getHash();return e.replace(E,"")},start:function(e){if(A.started)throw new Error("Backbone.history has already been started");A.started=!0,this.options=s.extend({root:"/"},this.options,e),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var i=this.getFragment(),n=document.documentMode,a=O.exec(navigator.userAgent.toLowerCase())&&(!n||7>=n);this.root=("/"+this.root+"/").replace(L,"/"),a&&this._wantsHashChange&&(this.iframe=t.$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(i)),this._hasPushState?t.$(window).on("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!a?t.$(window).on("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=i;var r=this.location,o=r.pathname.replace(/[^\/]$/,"$&/")===this.root;if(this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!o)return this.fragment=this.getFragment(null,!0),this.location.replace(this.root+this.location.search+"#"+this.fragment),!0;this._hasPushState&&o&&r.hash&&(this.fragment=this.getHash().replace(E,""),this.history.replaceState({},document.title,this.root+this.fragment+r.search))}return this.options.silent?void 0:this.loadUrl()},stop:function(){t.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl),clearInterval(this._checkUrlInterval),A.started=!1},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(){var e=this.getFragment();return e===this.fragment&&this.iframe&&(e=this.getFragment(this.getHash(this.iframe))),e===this.fragment?!1:(this.iframe&&this.navigate(e),void this.loadUrl())},loadUrl:function(e){return e=this.fragment=this.getFragment(e),s.any(this.handlers,function(t){return t.route.test(e)?(t.callback(e),!0):void 0})},navigate:function(e,t){if(!A.started)return!1;t&&t!==!0||(t={trigger:!!t});var s=this.root+(e=this.getFragment(e||""));if(e=e.replace($,""),this.fragment!==e){if(this.fragment=e,""===e&&"/"!==s&&(s=s.slice(0,-1)),this._hasPushState)this.history[t.replace?"replaceState":"pushState"]({},document.title,s);else{if(!this._wantsHashChange)return this.location.assign(s);this._updateHash(this.location,e,t.replace),this.iframe&&e!==this.getFragment(this.getHash(this.iframe))&&(t.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,e,t.replace))}return t.trigger?this.loadUrl(e):void 0}},_updateHash:function(e,t,s){if(s){var i=e.href.replace(/(javascript:|#).*$/,"");e.replace(i+"#"+t)}else e.hash="#"+t}}),t.history=new A;var j=function(e,t){var i,n=this;i=e&&s.has(e,"constructor")?e.constructor:function(){return n.apply(this,arguments)},s.extend(i,n,t);var a=function(){this.constructor=i};return a.prototype=n.prototype,i.prototype=new a,e&&s.extend(i.prototype,e),i.__super__=n.prototype,i};u.extend=f.extend=x.extend=y.extend=A.extend=j;var D=function(){throw new Error('A "url" property or function must be specified')},R=function(e,t){var s=t.error;t.error=function(i){s&&s(e,i,t),e.trigger("error",e,i,t)}};return t}),function(e,t){if("object"==typeof exports){var s=d("underscore"),i=d("backbone");module.exports=t(s,i)}else"function"==typeof p&&p.amd&&p("backbone.wreqr",["underscore","backbone"],t)}(this,function(e,t){"use strict";return t.Wreqr=function(e,t,s){var i={};return i.Handlers=function(e,t){var s=function(e){this.options=e,this._wreqrHandlers={},t.isFunction(this.initialize)&&this.initialize(e)};return s.extend=e.Model.extend,t.extend(s.prototype,e.Events,{setHandlers:function(e){t.each(e,function(e,s){var i=null;t.isObject(e)&&!t.isFunction(e)&&(i=e.context,e=e.callback),this.setHandler(s,e,i)},this)},setHandler:function(e,t,s){var i={callback:t,context:s};this._wreqrHandlers[e]=i,this.trigger("handler:add",e,t,s)},hasHandler:function(e){return!!this._wreqrHandlers[e]},getHandler:function(e){var t=this._wreqrHandlers[e];if(!t)throw new Error("Handler not found for '"+e+"'");return function(){var e=Array.prototype.slice.apply(arguments);return t.callback.apply(t.context,e)}},removeHandler:function(e){delete this._wreqrHandlers[e]},removeAllHandlers:function(){this._wreqrHandlers={}}}),s}(e,s),i.CommandStorage=function(){var t=function(e){this.options=e,this._commands={},s.isFunction(this.initialize)&&this.initialize(e)};return s.extend(t.prototype,e.Events,{getCommands:function(e){var t=this._commands[e];return t||(t={command:e,instances:[]},this._commands[e]=t),t},addCommand:function(e,t){var s=this.getCommands(e);s.instances.push(t)},clearCommands:function(e){var t=this.getCommands(e);t.instances=[]}}),t}(),i.Commands=function(e){return e.Handlers.extend({storageType:e.CommandStorage,constructor:function(t){this.options=t||{},this._initializeStorage(this.options),this.on("handler:add",this._executeCommands,this);var s=Array.prototype.slice.call(arguments);e.Handlers.prototype.constructor.apply(this,s)},execute:function(e,t){e=arguments[0],t=Array.prototype.slice.call(arguments,1),this.hasHandler(e)?this.getHandler(e).apply(this,t):this.storage.addCommand(e,t)},_executeCommands:function(e,t,i){var n=this.storage.getCommands(e);s.each(n.instances,function(e){t.apply(i,e)}),this.storage.clearCommands(e)},_initializeStorage:function(e){var t,i=e.storageType||this.storageType;t=s.isFunction(i)?new i:i,this.storage=t}})}(i),i.RequestResponse=function(e){return e.Handlers.extend({request:function(){var e=arguments[0],t=Array.prototype.slice.call(arguments,1);return this.getHandler(e).apply(this,t)}})}(i),i.EventAggregator=function(e,t){var s=function(){};return s.extend=e.Model.extend,t.extend(s.prototype,e.Events),s}(e,s),i}(t,t.Marionette,e),t.Wreqr}),function(e,t){if("object"==typeof exports){var s=d("underscore"),i=d("backbone");module.exports=t(s,i)}else"function"==typeof p&&p.amd&&p("backbone.babysitter",["underscore","backbone"],t)}(this,function(e,t){"option strict";return t.ChildViewContainer=function(e,t){var s=function(e){this._views={},this._indexByModel={},this._indexByCustom={},this._updateLength(),t.each(e,this.add,this)};t.extend(s.prototype,{add:function(e,t){var s=e.cid;return this._views[s]=e,e.model&&(this._indexByModel[e.model.cid]=s),t&&(this._indexByCustom[t]=s),this._updateLength(),this},findByModel:function(e){return this.findByModelCid(e.cid)},findByModelCid:function(e){var t=this._indexByModel[e];return this.findByCid(t)},findByCustom:function(e){var t=this._indexByCustom[e];return this.findByCid(t)},findByIndex:function(e){return t.values(this._views)[e]},findByCid:function(e){return this._views[e]},remove:function(e){var s=e.cid;return e.model&&delete this._indexByModel[e.model.cid],t.any(this._indexByCustom,function(e,t){return e===s?(delete this._indexByCustom[t],!0):void 0},this),delete this._views[s],this._updateLength(),this},call:function(e){this.apply(e,t.tail(arguments))},apply:function(e,s){t.each(this._views,function(i){t.isFunction(i[e])&&i[e].apply(i,s||[])})},_updateLength:function(){this.length=t.size(this._views)}});var i=["forEach","each","map","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","toArray","first","initial","rest","last","without","isEmpty","pluck"];return t.each(i,function(e){s.prototype[e]=function(){var s=t.values(this._views),i=[s].concat(t.toArray(arguments));return t[e].apply(t,i)}}),s}(t,e),t.ChildViewContainer}),function(e,t){if("object"==typeof exports){var s=d("underscore"),i=d("backbone"),n=d("backbone.wreqr"),a=d("backbone.babysitter");module.exports=t(s,i,n,a)}else"function"==typeof p&&p.amd&&p("marionette",["underscore","backbone","backbone.wreqr","backbone.babysitter"],t)}(this,function(e,t){!function(e,t,s){"use strict";function i(e){return r.call(e)}function n(e,t){var s=new Error(e);throw s.name=t||"Error",s}var a={};t.Marionette=a,a.$=t.$;var r=Array.prototype.slice;return a.extend=t.Model.extend,a.getOption=function(e,t){if(e&&t){var s;return s=e.options&&t in e.options&&void 0!==e.options[t]?e.options[t]:e[t]}},a.normalizeMethods=function(e){var t,i={};return s.each(e,function(e,n){t=e,s.isFunction(t)||(t=this[t]),t&&(i[n]=t)},this),i},a.triggerMethod=function(){function e(e,t,s){return s.toUpperCase()}var t=/(^|:)(\w)/gi,i=function(i){var n="on"+i.replace(t,e),a=this[n];return s.isFunction(this.trigger)&&this.trigger.apply(this,arguments),s.isFunction(a)?a.apply(this,s.tail(arguments)):void 0};return i}(),a.MonitorDOMRefresh=function(e){function t(e){e._isShown=!0,n(e)}function i(e){e._isRendered=!0,n(e)}function n(e){e._isShown&&e._isRendered&&a(e)&&s.isFunction(e.triggerMethod)&&e.triggerMethod("dom:refresh")}function a(t){return e.contains(t.el)}return function(e){e.listenTo(e,"show",function(){t(e)}),e.listenTo(e,"render",function(){i(e)})}}(document.documentElement),function(e){function t(e,t,i,a){var r=a.split(/\s+/);s.each(r,function(s){var a=e[s];a||n("Method '"+s+"' was configured as an event handler, but does not exist."),e.listenTo(t,i,a,e)})}function i(e,t,s,i){e.listenTo(t,s,i,e)}function a(e,t,i,n){var a=n.split(/\s+/);s.each(a,function(s){var n=e[s];e.stopListening(t,i,n,e)})}function r(e,t,s,i){e.stopListening(t,s,i,e)}function o(e,t,i,n,a){t&&i&&(s.isFunction(i)&&(i=i.call(e)),s.each(i,function(i,r){s.isFunction(i)?n(e,t,r,i):a(e,t,r,i)}))}e.bindEntityEvents=function(e,s,n){o(e,s,n,i,t)},e.unbindEntityEvents=function(e,t,s){o(e,t,s,r,a)}}(a),a.Callbacks=function(){this._deferred=a.$.Deferred(),this._callbacks=[]},s.extend(a.Callbacks.prototype,{add:function(e,t){this._callbacks.push({cb:e,ctx:t}),this._deferred.done(function(s,i){t&&(s=t),e.call(s,i)})},run:function(e,t){this._deferred.resolve(t,e)},reset:function(){var e=this._callbacks;this._deferred=a.$.Deferred(),this._callbacks=[],s.each(e,function(e){this.add(e.cb,e.ctx)},this)}}),a.Controller=function(e){this.triggerMethod=a.triggerMethod,this.options=e||{},s.isFunction(this.initialize)&&this.initialize(this.options)},a.Controller.extend=a.extend,s.extend(a.Controller.prototype,t.Events,{close:function(){this.stopListening(),this.triggerMethod("close"),this.unbind()}}),a.Region=function(e){if(this.options=e||{},this.el=a.getOption(this,"el"),!this.el){var t=new Error("An 'el' must be specified for a region.");throw t.name="NoElError",t}if(this.initialize){var s=Array.prototype.slice.apply(arguments);this.initialize.apply(this,s)}},s.extend(a.Region,{buildRegion:function(e,t){var i="string"==typeof e,n="string"==typeof e.selector,a="undefined"==typeof e.regionType,r="function"==typeof e;if(!r&&!i&&!n)throw new Error("Region must be specified as a Region type, a selector string or an object with selector property");var o,l;i&&(o=e),e.selector&&(o=e.selector,delete e.selector),r&&(l=e),!r&&a&&(l=t),e.regionType&&(l=e.regionType,delete e.regionType),(i||r)&&(e={}),e.el=o;var d=new l(e);return e.parentEl&&(d.getEl=function(t){var i=e.parentEl;return s.isFunction(i)&&(i=i()),i.find(t)}),d}}),s.extend(a.Region.prototype,t.Events,{show:function(e){this.ensureEl();var t=e.isClosed||s.isUndefined(e.$el),i=e!==this.currentView;i&&this.close(),e.render(),(i||t)&&this.open(e),this.currentView=e,a.triggerMethod.call(this,"show",e),a.triggerMethod.call(e,"show")},ensureEl:function(){this.$el&&0!==this.$el.length||(this.$el=this.getEl(this.el))},getEl:function(e){return a.$(e)},open:function(e){this.$el.empty().append(e.el)},close:function(){var e=this.currentView;e&&!e.isClosed&&(e.close?e.close():e.remove&&e.remove(),a.triggerMethod.call(this,"close",e),delete this.currentView)},attachView:function(e){this.currentView=e},reset:function(){this.close(),delete this.$el}}),a.Region.extend=a.extend,a.RegionManager=function(e){var t=e.Controller.extend({constructor:function(t){this._regions={},e.Controller.prototype.constructor.call(this,t)},addRegions:function(e,t){var i={};return s.each(e,function(e,n){"string"==typeof e&&(e={selector:e}),e.selector&&(e=s.defaults({},e,t));var a=this.addRegion(n,e);i[n]=a},this),i},addRegion:function(t,i){var n,a=s.isObject(i),r=s.isString(i),o=!!i.selector;return n=r||a&&o?e.Region.buildRegion(i,e.Region):s.isFunction(i)?e.Region.buildRegion(i,e.Region):i,this._store(t,n),this.triggerMethod("region:add",t,n),n},get:function(e){return this._regions[e]},removeRegion:function(e){var t=this._regions[e];this._remove(e,t)},removeRegions:function(){s.each(this._regions,function(e,t){this._remove(t,e)},this)},closeRegions:function(){s.each(this._regions,function(e){e.close()},this)},close:function(){this.removeRegions();var t=Array.prototype.slice.call(arguments);e.Controller.prototype.close.apply(this,t)},_store:function(e,t){this._regions[e]=t,this._setLength()},_remove:function(e,t){t.close(),delete this._regions[e],this._setLength(),this.triggerMethod("region:remove",e,t)},_setLength:function(){this.length=s.size(this._regions)}}),i=["forEach","each","map","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","toArray","first","initial","rest","last","without","isEmpty","pluck"];return s.each(i,function(e){t.prototype[e]=function(){var t=s.values(this._regions),i=[t].concat(s.toArray(arguments));return s[e].apply(s,i)}}),t}(a),a.TemplateCache=function(e){this.templateId=e},s.extend(a.TemplateCache,{templateCaches:{},get:function(e){var t=this.templateCaches[e];return t||(t=new a.TemplateCache(e),this.templateCaches[e]=t),t.load()},clear:function(){var e,t=i(arguments),s=t.length;if(s>0)for(e=0;s>e;e++)delete this.templateCaches[t[e]];else this.templateCaches={}}}),s.extend(a.TemplateCache.prototype,{load:function(){if(this.compiledTemplate)return this.compiledTemplate;var e=this.loadTemplate(this.templateId);return this.compiledTemplate=this.compileTemplate(e),this.compiledTemplate},loadTemplate:function(e){var t=a.$(e).html();return t&&0!==t.length||n("Could not find template: '"+e+"'","NoTemplateError"),t},compileTemplate:function(e){return s.template(e)}}),a.Renderer={render:function(e,t){if(!e){var s=new Error("Cannot render the template since it's false, null or undefined.");throw s.name="TemplateNotFoundError",s}var i;return(i="function"==typeof e?e:a.TemplateCache.get(e))(t)}},a.View=t.View.extend({constructor:function(e){s.bindAll(this,"render");var i=Array.prototype.slice.apply(arguments);this.options=s.extend({},s.result(this,"options"),s.isFunction(e)?e.call(this):e),this.events=this.normalizeUIKeys(s.result(this,"events")),t.View.prototype.constructor.apply(this,i),a.MonitorDOMRefresh(this),this.listenTo(this,"show",this.onShowCalled,this)},triggerMethod:a.triggerMethod,normalizeMethods:a.normalizeMethods,getTemplate:function(){return a.getOption(this,"template")},mixinTemplateHelpers:function(e){e=e||{};var t=a.getOption(this,"templateHelpers");return s.isFunction(t)&&(t=t.call(this)),s.extend(e,t)},normalizeUIKeys:function(e){return"undefined"!=typeof e?(s.each(s.keys(e),function(t){var s=t.split("@ui.");2===s.length&&(e[s[0]+this.ui[s[1]]]=e[t],delete e[t])},this),e):void 0},configureTriggers:function(){if(this.triggers){var e={},t=this.normalizeUIKeys(s.result(this,"triggers"));return s.each(t,function(t,i){var n=s.isObject(t),a=n?t.event:t;e[i]=function(e){if(e){var s=e.preventDefault,i=e.stopPropagation,r=n?t.preventDefault:s,o=n?t.stopPropagation:i;r&&s&&s.apply(e),o&&i&&i.apply(e)}var l={view:this,model:this.model,collection:this.collection};this.triggerMethod(a,l)}},this),e}},delegateEvents:function(e){this._delegateDOMEvents(e),a.bindEntityEvents(this,this.model,a.getOption(this,"modelEvents")),a.bindEntityEvents(this,this.collection,a.getOption(this,"collectionEvents"))},_delegateDOMEvents:function(e){e=e||this.events,s.isFunction(e)&&(e=e.call(this));var i={},n=this.configureTriggers();s.extend(i,e,n),t.View.prototype.delegateEvents.call(this,i)},undelegateEvents:function(){var e=Array.prototype.slice.call(arguments);t.View.prototype.undelegateEvents.apply(this,e),a.unbindEntityEvents(this,this.model,a.getOption(this,"modelEvents")),a.unbindEntityEvents(this,this.collection,a.getOption(this,"collectionEvents"))},onShowCalled:function(){},close:function(){if(!this.isClosed){var e=this.triggerMethod("before:close");e!==!1&&(this.isClosed=!0,this.triggerMethod("close"),this.unbindUIElements(),this.remove())}},bindUIElements:function(){if(this.ui){this._uiBindings||(this._uiBindings=this.ui);var e=s.result(this,"_uiBindings");this.ui={},s.each(s.keys(e),function(t){var s=e[t];this.ui[t]=this.$(s)},this)}},unbindUIElements:function(){this.ui&&this._uiBindings&&(s.each(this.ui,function(e,t){delete this.ui[t]},this),this.ui=this._uiBindings,delete this._uiBindings)}}),a.ItemView=a.View.extend({constructor:function(){a.View.prototype.constructor.apply(this,i(arguments))},serializeData:function(){var e={};return this.model?e=this.model.toJSON():this.collection&&(e={items:this.collection.toJSON()}),e},render:function(){this.isClosed=!1,this.triggerMethod("before:render",this),this.triggerMethod("item:before:render",this);var e=this.serializeData();e=this.mixinTemplateHelpers(e);var t=this.getTemplate(),s=a.Renderer.render(t,e);return this.$el.html(s),this.bindUIElements(),this.triggerMethod("render",this),this.triggerMethod("item:rendered",this),this},close:function(){this.isClosed||(this.triggerMethod("item:before:close"),a.View.prototype.close.apply(this,i(arguments)),this.triggerMethod("item:closed"))}}),a.CollectionView=a.View.extend({itemViewEventPrefix:"itemview",constructor:function(){this._initChildViewStorage(),a.View.prototype.constructor.apply(this,i(arguments)),this._initialEvents(),this.initRenderBuffer()},initRenderBuffer:function(){this.elBuffer=document.createDocumentFragment(),this._bufferedChildren=[]},startBuffering:function(){this.initRenderBuffer(),this.isBuffering=!0},endBuffering:function(){this.isBuffering=!1,this.appendBuffer(this,this.elBuffer),this._triggerShowBufferedChildren(),this.initRenderBuffer()},_triggerShowBufferedChildren:function(){this._isShown&&(s.each(this._bufferedChildren,function(e){a.triggerMethod.call(e,"show")}),this._bufferedChildren=[])},_initialEvents:function(){this.collection&&(this.listenTo(this.collection,"add",this.addChildView,this),this.listenTo(this.collection,"remove",this.removeItemView,this),this.listenTo(this.collection,"reset",this.render,this))},addChildView:function(e){this.closeEmptyView();var t=this.getItemView(e),s=this.collection.indexOf(e);this.addItemView(e,t,s)},onShowCalled:function(){this.children.each(function(e){a.triggerMethod.call(e,"show")})},triggerBeforeRender:function(){this.triggerMethod("before:render",this),this.triggerMethod("collection:before:render",this)},triggerRendered:function(){this.triggerMethod("render",this),this.triggerMethod("collection:rendered",this)},render:function(){return this.isClosed=!1,this.triggerBeforeRender(),this._renderChildren(),this.triggerRendered(),this},_renderChildren:function(){this.startBuffering(),this.closeEmptyView(),this.closeChildren(),this.isEmpty(this.collection)?this.showEmptyView():this.showCollection(),this.endBuffering()},showCollection:function(){var e;this.collection.each(function(t,s){e=this.getItemView(t),this.addItemView(t,e,s)},this)},showEmptyView:function(){var e=this.getEmptyView();if(e&&!this._showingEmptyView){this._showingEmptyView=!0;var s=new t.Model;this.addItemView(s,e,0)}},closeEmptyView:function(){this._showingEmptyView&&(this.closeChildren(),delete this._showingEmptyView)},getEmptyView:function(){return a.getOption(this,"emptyView")},getItemView:function(){var e=a.getOption(this,"itemView");return e||n("An `itemView` must be specified","NoItemViewError"),e},addItemView:function(e,t,i){var n=a.getOption(this,"itemViewOptions");s.isFunction(n)&&(n=n.call(this,e,i));var r=this.buildItemView(e,t,n);return this.addChildViewEventForwarding(r),this.triggerMethod("before:item:added",r),this.children.add(r),this.renderItemView(r,i),this._isShown&&!this.isBuffering&&a.triggerMethod.call(r,"show"),this.triggerMethod("after:item:added",r),r},addChildViewEventForwarding:function(e){var t=a.getOption(this,"itemViewEventPrefix");this.listenTo(e,"all",function(){var n=i(arguments),r=n[0],o=this.normalizeMethods(this.getItemEvents());n[0]=t+":"+r,n.splice(1,0,e),"undefined"!=typeof o&&s.isFunction(o[r])&&o[r].apply(this,n),a.triggerMethod.apply(this,n)},this)},getItemEvents:function(){return s.isFunction(this.itemEvents)?this.itemEvents.call(this):this.itemEvents},renderItemView:function(e,t){e.render(),this.appendHtml(this,e,t)},buildItemView:function(e,t,i){var n=s.extend({model:e},i);return new t(n)},removeItemView:function(e){var t=this.children.findByModel(e);this.removeChildView(t),this.checkEmpty()},removeChildView:function(e){e&&(this.stopListening(e),e.close?e.close():e.remove&&e.remove(),this.children.remove(e)),this.triggerMethod("item:removed",e)},isEmpty:function(){return!this.collection||0===this.collection.length},checkEmpty:function(){this.isEmpty(this.collection)&&this.showEmptyView()},appendBuffer:function(e,t){e.$el.append(t)},appendHtml:function(e,t){e.isBuffering?(e.elBuffer.appendChild(t.el),e._bufferedChildren.push(t)):e.$el.append(t.el)},_initChildViewStorage:function(){this.children=new t.ChildViewContainer},close:function(){this.isClosed||(this.triggerMethod("collection:before:close"),this.closeChildren(),this.triggerMethod("collection:closed"),a.View.prototype.close.apply(this,i(arguments)))},closeChildren:function(){this.children.each(function(e){this.removeChildView(e)},this),this.checkEmpty()}}),a.CompositeView=a.CollectionView.extend({constructor:function(){a.CollectionView.prototype.constructor.apply(this,i(arguments))},_initialEvents:function(){this.once("render",function(){this.collection&&(this.listenTo(this.collection,"add",this.addChildView,this),this.listenTo(this.collection,"remove",this.removeItemView,this),this.listenTo(this.collection,"reset",this._renderChildren,this))})},getItemView:function(){var e=a.getOption(this,"itemView")||this.constructor;return e||n("An `itemView` must be specified","NoItemViewError"),e},serializeData:function(){var e={};return this.model&&(e=this.model.toJSON()),e},render:function(){this.isRendered=!0,this.isClosed=!1,this.resetItemViewContainer(),this.triggerBeforeRender();var e=this.renderModel();return this.$el.html(e),this.bindUIElements(),this.triggerMethod("composite:model:rendered"),this._renderChildren(),this.triggerMethod("composite:rendered"),this.triggerRendered(),this},_renderChildren:function(){this.isRendered&&(this.triggerMethod("composite:collection:before:render"),a.CollectionView.prototype._renderChildren.call(this),this.triggerMethod("composite:collection:rendered"))},renderModel:function(){var e={};e=this.serializeData(),e=this.mixinTemplateHelpers(e);var t=this.getTemplate();return a.Renderer.render(t,e)},appendBuffer:function(e,t){var s=this.getItemViewContainer(e);s.append(t)},appendHtml:function(e,t){if(e.isBuffering)e.elBuffer.appendChild(t.el),e._bufferedChildren.push(t);else{var s=this.getItemViewContainer(e);s.append(t.el)}},getItemViewContainer:function(e){if("$itemViewContainer"in e)return e.$itemViewContainer;var t,i=a.getOption(e,"itemViewContainer");if(i){var r=s.isFunction(i)?i.call(this):i;t=e.$(r),t.length<=0&&n("The specified `itemViewContainer` was not found: "+e.itemViewContainer,"ItemViewContainerMissingError")}else t=e.$el;return e.$itemViewContainer=t,t},resetItemViewContainer:function(){this.$itemViewContainer&&delete this.$itemViewContainer}}),a.Layout=a.ItemView.extend({regionType:a.Region,constructor:function(e){e=e||{},this._firstRender=!0,this._initializeRegions(e),a.ItemView.prototype.constructor.call(this,e)},render:function(){this.isClosed&&this._initializeRegions(),this._firstRender?this._firstRender=!1:this.isClosed||this._reInitializeRegions();var e=Array.prototype.slice.apply(arguments),t=a.ItemView.prototype.render.apply(this,e);return t},close:function(){if(!this.isClosed){this.regionManager.close();var e=Array.prototype.slice.apply(arguments);a.ItemView.prototype.close.apply(this,e)}},addRegion:function(e,t){var s={};return s[e]=t,this._buildRegions(s)[e]},addRegions:function(e){return this.regions=s.extend({},this.regions,e),this._buildRegions(e)},removeRegion:function(e){return delete this.regions[e],this.regionManager.removeRegion(e)},_buildRegions:function(e){var t=this,s={regionType:a.getOption(this,"regionType"),parentEl:function(){return t.$el}};return this.regionManager.addRegions(e,s)},_initializeRegions:function(e){var t;this._initRegionManager(),t=s.isFunction(this.regions)?this.regions(e):this.regions||{},this.addRegions(t)},_reInitializeRegions:function(){this.regionManager.closeRegions(),this.regionManager.each(function(e){e.reset()})},_initRegionManager:function(){this.regionManager=new a.RegionManager,this.listenTo(this.regionManager,"region:add",function(e,t){this[e]=t,this.trigger("region:add",e,t)}),this.listenTo(this.regionManager,"region:remove",function(e,t){delete this[e],this.trigger("region:remove",e,t)})}}),a.AppRouter=t.Router.extend({constructor:function(e){t.Router.prototype.constructor.apply(this,i(arguments)),this.options=e||{};var s=a.getOption(this,"appRoutes"),n=this._getController();this.processAppRoutes(n,s)},appRoute:function(e,t){var s=this._getController();this._addAppRoute(s,e,t)},processAppRoutes:function(e,t){if(t){var i=s.keys(t).reverse();s.each(i,function(s){this._addAppRoute(e,s,t[s])},this)}},_getController:function(){return a.getOption(this,"controller")},_addAppRoute:function(e,t,i){var n=e[i];if(!n)throw new Error("Method '"+i+"' was not found on the controller");this.route(t,i,s.bind(n,e))}}),a.Application=function(e){this._initRegionManager(),this._initCallbacks=new a.Callbacks,this.vent=new t.Wreqr.EventAggregator,this.commands=new t.Wreqr.Commands,this.reqres=new t.Wreqr.RequestResponse,this.submodules={},s.extend(this,e),this.triggerMethod=a.triggerMethod},s.extend(a.Application.prototype,t.Events,{execute:function(){var e=Array.prototype.slice.apply(arguments);this.commands.execute.apply(this.commands,e)},request:function(){var e=Array.prototype.slice.apply(arguments);return this.reqres.request.apply(this.reqres,e)},addInitializer:function(e){this._initCallbacks.add(e)},start:function(e){this.triggerMethod("initialize:before",e),this._initCallbacks.run(e,this),this.triggerMethod("initialize:after",e),this.triggerMethod("start",e)},addRegions:function(e){return this._regionManager.addRegions(e)},closeRegions:function(){this._regionManager.closeRegions()},removeRegion:function(e){this._regionManager.removeRegion(e)},getRegion:function(e){return this._regionManager.get(e)},module:function(e,t){var s=a.Module;t&&(s=t.moduleClass||s);var n=i(arguments);return n.unshift(this),s.create.apply(s,n)},_initRegionManager:function(){this._regionManager=new a.RegionManager,this.listenTo(this._regionManager,"region:add",function(e,t){this[e]=t}),this.listenTo(this._regionManager,"region:remove",function(e){delete this[e]})}}),a.Application.extend=a.extend,a.Module=function(e,t,i){this.moduleName=e,this.options=s.extend({},this.options,i),this.initialize=i.initialize||this.initialize,this.submodules={},this._setupInitializersAndFinalizers(),this.app=t,this.startWithParent=!0,this.triggerMethod=a.triggerMethod,s.isFunction(this.initialize)&&this.initialize(this.options,e,t)},a.Module.extend=a.extend,s.extend(a.Module.prototype,t.Events,{initialize:function(){},addInitializer:function(e){this._initializerCallbacks.add(e)},addFinalizer:function(e){this._finalizerCallbacks.add(e)},start:function(e){this._isInitialized||(s.each(this.submodules,function(t){t.startWithParent&&t.start(e)}),this.triggerMethod("before:start",e),this._initializerCallbacks.run(e,this),this._isInitialized=!0,this.triggerMethod("start",e))},stop:function(){this._isInitialized&&(this._isInitialized=!1,a.triggerMethod.call(this,"before:stop"),s.each(this.submodules,function(e){e.stop()}),this._finalizerCallbacks.run(void 0,this),this._initializerCallbacks.reset(),this._finalizerCallbacks.reset(),a.triggerMethod.call(this,"stop"))},addDefinition:function(e,t){this._runModuleDefinition(e,t)},_runModuleDefinition:function(e,i){if(e){var n=s.flatten([this,this.app,t,a,a.$,s,i]);e.apply(this,n)}},_setupInitializersAndFinalizers:function(){this._initializerCallbacks=new a.Callbacks,this._finalizerCallbacks=new a.Callbacks}}),s.extend(a.Module,{create:function(e,t,n){var a=e,r=i(arguments);r.splice(0,3),t=t.split(".");var o=t.length,l=[];return l[o-1]=n,s.each(t,function(t,s){var i=a;a=this._getModule(i,t,e,n),this._addModuleDefinition(i,a,l[s],r)},this),a},_getModule:function(e,t,i,n){var r=a.Module,o=s.extend({},n);n&&(r=n.moduleClass||r);var l=e[t];return l||(l=new r(t,i,o),e[t]=l,e.submodules[t]=l),l},_addModuleDefinition:function(e,t,i,n){var a,r;s.isFunction(i)?(a=i,r=!0):s.isObject(i)?(a=i.define,r="undefined"!=typeof i.startWithParent?i.startWithParent:!0):r=!0,a&&t.addDefinition(a,n),t.startWithParent=t.startWithParent&&r,t.startWithParent&&!t.startWithParentIsConfigured&&(t.startWithParentIsConfigured=!0,e.addInitializer(function(e){t.startWithParent&&t.start(e)
}))}}),a}(this,t,e);return t.Marionette}),function(e,t){function s(s,i){function n(e){return ht.preferFlash&&at&&!ht.ignoreFlash&&ht.flash[e]!==t&&ht.flash[e]}function a(e){return function(t){var s,i=this._s;return s=i&&i._a?e.call(this,t):null}}this.setupOptions={url:s||null,flashVersion:8,debugMode:!0,debugFlash:!1,useConsole:!0,consoleOnly:!0,waitForWindowLoad:!1,bgColor:"#ffffff",useHighPerformance:!1,flashPollingInterval:null,html5PollingInterval:null,flashLoadTimeout:1e3,wmode:null,allowScriptAccess:"always",useFlashBlock:!1,useHTML5Audio:!0,forceUseGlobalHTML5Audio:!1,ignoreMobileRestrictions:!1,html5Test:/^(probably|maybe)$/i,preferFlash:!1,noSWFCache:!1,idPrefix:"sound"},this.defaultOptions={autoLoad:!1,autoPlay:!1,from:null,loops:1,onid3:null,onload:null,whileloading:null,onplay:null,onpause:null,onresume:null,whileplaying:null,onposition:null,onstop:null,onfailure:null,onfinish:null,multiShot:!0,multiShotEvents:!1,position:null,pan:0,stream:!0,to:null,type:null,usePolicyFile:!1,volume:100},this.flash9Options={isMovieStar:null,usePeakData:!1,useWaveformData:!1,useEQData:!1,onbufferchange:null,ondataerror:null},this.movieStarOptions={bufferTime:3,serverURL:null,onconnect:null,duration:null},this.audioFormats={mp3:{type:['audio/mpeg; codecs="mp3"',"audio/mpeg","audio/mp3","audio/MPA","audio/mpa-robust"],required:!0},mp4:{related:["aac","m4a","m4b"],type:['audio/mp4; codecs="mp4a.40.2"',"audio/aac","audio/x-m4a","audio/MP4A-LATM","audio/mpeg4-generic"],required:!1},ogg:{type:["audio/ogg; codecs=vorbis"],required:!1},opus:{type:["audio/ogg; codecs=opus","audio/opus"],required:!1},wav:{type:['audio/wav; codecs="1"',"audio/wav","audio/wave","audio/x-wav"],required:!1}},this.movieID="sm2-container",this.id=i||"sm2movie",this.debugID="soundmanager-debug",this.debugURLParam=/([#?&])debug=1/i,this.versionNumber="V2.97a.20150601",this.version=null,this.movieURL=null,this.altURL=null,this.swfLoaded=!1,this.enabled=!1,this.oMC=null,this.sounds={},this.soundIDs=[],this.muted=!1,this.didFlashBlock=!1,this.filePattern=null,this.filePatterns={flash8:/\.mp3(\?.*)?$/i,flash9:/\.mp3(\?.*)?$/i},this.features={buffering:!1,peakData:!1,waveformData:!1,eqData:!1,movieStar:!1},this.sandbox={},this.html5={usingFlash:null},this.flash={},this.html5Only=!1,this.ignoreFlash=!1;var r,o,l,d,p,c,u,h,f,m,g,v,b,y,w,_,k,P,x,S,C,M,T,A,E,L,O,I,$,j,D,R,H,V,z,B,N,U,F,Z,q,Y,X,W,K,Q,G,J,et,tt,st,it,nt,at,rt,ot,lt,dt,pt,ct,ut,ht=this,ft=null,mt=null,gt=navigator.userAgent,vt=e.location.href.toString(),bt=document,yt=[],wt=!1,_t=!1,kt=!1,Pt=!1,xt=!1,St=8,Ct=null,Mt=null,Tt=!1,At=!1,Et=0,Lt=null,Ot=[],It=null,$t=Array.prototype.slice,jt=!1,Dt=0,Rt=1e3,Ht=gt.match(/(ipad|iphone|ipod)/i),Vt=gt.match(/android/i),zt=gt.match(/msie/i),Bt=gt.match(/webkit/i),Nt=gt.match(/safari/i)&&!gt.match(/chrome/i),Ut=gt.match(/opera/i),Ft=gt.match(/(mobile|pre\/|xoom)/i)||Ht||Vt,Zt=!vt.match(/usehtml5audio/i)&&!vt.match(/sm2\-ignorebadua/i)&&Nt&&!gt.match(/silk/i)&&gt.match(/OS X 10_6_([3-7])/i),qt=(e.console!==t&&console.log!==t,bt.hasFocus!==t?bt.hasFocus():null),Yt=Nt&&(bt.hasFocus===t||!bt.hasFocus()),Xt=!Yt,Wt=/(mp3|mp4|mpa|m4a|m4b)/i,Kt="about:blank",Qt="data:audio/wave;base64,/UklGRiYAAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YQIAAAD//w==",Gt=bt.location?bt.location.protocol.match(/http/i):null,Jt=Gt?"":"http://",es=/^\s*audio\/(?:x-)?(?:mpeg4|aac|flv|mov|mp4||m4v|m4a|m4b|mp4v|3gp|3g2)\s*(?:$|;)/i,ts=["mpeg4","aac","flv","mov","mp4","m4v","f4v","m4a","m4b","mp4v","3gp","3g2"],ss=new RegExp("\\.("+ts.join("|")+")(\\?.*)?$","i");this.mimePattern=/^\s*audio\/(?:x-)?(?:mp(?:eg|3))\s*(?:$|;)/i,this.useAltURL=!Gt,z={swfBox:"sm2-object-box",swfDefault:"movieContainer",swfError:"swf_error",swfTimedout:"swf_timedout",swfLoaded:"swf_loaded",swfUnblocked:"swf_unblocked",sm2Debug:"sm2_debug",highPerf:"high_performance",flashDebug:"flash_debug"},this.hasHTML5=function(){try{return Audio!==t&&(Ut&&opera!==t&&opera.version()<10?new Audio(null):new Audio).canPlayType!==t}catch(e){return!1}}(),this.setup=function(e){var s=!ht.url;return e!==t&&kt&&It&&ht.ok()&&(e.flashVersion!==t||e.url!==t||e.html5Test!==t),f(e),jt||(Ft?(!ht.setupOptions.ignoreMobileRestrictions||ht.setupOptions.forceUseGlobalHTML5Audio)&&(Ot.push(x.globalHTML5),jt=!0):ht.setupOptions.forceUseGlobalHTML5Audio&&(Ot.push(x.globalHTML5),jt=!0)),!ut&&Ft&&(ht.setupOptions.ignoreMobileRestrictions?Ot.push(x.ignoreMobile):(ht.setupOptions.useHTML5Audio=!0,ht.setupOptions.preferFlash=!1,Ht?ht.ignoreFlash=!0:(Vt&&!gt.match(/android\s2\.3/i)||!Vt)&&(jt=!0))),e&&(s&&T&&e.url!==t&&ht.beginDelayedInit(),T||e.url===t||"complete"!==bt.readyState||setTimeout(C,1)),ut=!0,ht},this.ok=function(){return It?kt&&!Pt:ht.useHTML5Audio&&ht.hasHTML5},this.supported=this.ok,this.getMovie=function(t){return o(t)||bt[t]||e[t]},this.createSound=function(e,s){function i(){return a=B(a),ht.sounds[a.id]=new r(a),ht.soundIDs.push(a.id),ht.sounds[a.id]}var n,a,o=null;if(!kt||!ht.ok())return!1;if(s!==t&&(e={id:e,url:s}),a=h(e),a.url=X(a.url),a.id===t&&(a.id=ht.setupOptions.idPrefix+Dt++),F(a.id,!0))return ht.sounds[a.id];if(Q(a))o=i(),o._setup_html5(a);else{if(ht.html5Only)return i();if(ht.html5.usingFlash&&a.url&&a.url.match(/data\:/i))return i();c>8&&null===a.isMovieStar&&(a.isMovieStar=!!(a.serverURL||(a.type?a.type.match(es):!1)||a.url&&a.url.match(ss))),a=N(a,n),o=i(),8===c?mt._createSound(a.id,a.loops||1,a.usePolicyFile):(mt._createSound(a.id,a.url,a.usePeakData,a.useWaveformData,a.useEQData,a.isMovieStar,a.isMovieStar?a.bufferTime:!1,a.loops||1,a.serverURL,a.duration||null,a.autoPlay,!0,a.autoLoad,a.usePolicyFile),a.serverURL||(o.connected=!0,a.onconnect&&a.onconnect.apply(o))),a.serverURL||!a.autoLoad&&!a.autoPlay||o.load(a)}return!a.serverURL&&a.autoPlay&&o.play(),o},this.destroySound=function(e,t){if(!F(e))return!1;var s,i=ht.sounds[e];for(i.stop(),i._iO={},i.unload(),s=0;s<ht.soundIDs.length;s++)if(ht.soundIDs[s]===e){ht.soundIDs.splice(s,1);break}return t||i.destruct(!0),i=null,delete ht.sounds[e],!0},this.load=function(e,t){return F(e)?ht.sounds[e].load(t):!1},this.unload=function(e){return F(e)?ht.sounds[e].unload():!1},this.onPosition=function(e,t,s,i){return F(e)?ht.sounds[e].onposition(t,s,i):!1},this.onposition=this.onPosition,this.clearOnPosition=function(e,t,s){return F(e)?ht.sounds[e].clearOnPosition(t,s):!1},this.play=function(e,t){var s=null,i=t&&!(t instanceof Object);if(!kt||!ht.ok())return!1;if(F(e,i))i&&(t={url:t});else{if(!i)return!1;i&&(t={url:t}),t&&t.url&&(t.id=e,s=ht.createSound(t).play())}return null===s&&(s=ht.sounds[e].play(t)),s},this.start=this.play,this.setPosition=function(e,t){return F(e)?ht.sounds[e].setPosition(t):!1},this.stop=function(e){return F(e)?ht.sounds[e].stop():!1},this.stopAll=function(){var e;for(e in ht.sounds)ht.sounds.hasOwnProperty(e)&&ht.sounds[e].stop()},this.pause=function(e){return F(e)?ht.sounds[e].pause():!1},this.pauseAll=function(){var e;for(e=ht.soundIDs.length-1;e>=0;e--)ht.sounds[ht.soundIDs[e]].pause()},this.resume=function(e){return F(e)?ht.sounds[e].resume():!1},this.resumeAll=function(){var e;for(e=ht.soundIDs.length-1;e>=0;e--)ht.sounds[ht.soundIDs[e]].resume()},this.togglePause=function(e){return F(e)?ht.sounds[e].togglePause():!1},this.setPan=function(e,t){return F(e)?ht.sounds[e].setPan(t):!1},this.setVolume=function(e,s){var i,n;{if(e===t||isNaN(e)||s!==t)return F(e)?ht.sounds[e].setVolume(s):!1;for(i=0,n=ht.soundIDs.length;n>i;i++)ht.sounds[ht.soundIDs[i]].setVolume(e)}},this.mute=function(e){var t=0;if(e instanceof String&&(e=null),e)return F(e)?ht.sounds[e].mute():!1;for(t=ht.soundIDs.length-1;t>=0;t--)ht.sounds[ht.soundIDs[t]].mute();return ht.muted=!0,!0},this.muteAll=function(){ht.mute()},this.unmute=function(e){var t;if(e instanceof String&&(e=null),e)return F(e)?ht.sounds[e].unmute():!1;for(t=ht.soundIDs.length-1;t>=0;t--)ht.sounds[ht.soundIDs[t]].unmute();return ht.muted=!1,!0},this.unmuteAll=function(){ht.unmute()},this.toggleMute=function(e){return F(e)?ht.sounds[e].toggleMute():!1},this.getMemoryUse=function(){var e=0;return mt&&8!==c&&(e=parseInt(mt._getMemoryUse(),10)),e},this.disable=function(s){var i;if(s===t&&(s=!1),Pt)return!1;for(Pt=!0,i=ht.soundIDs.length-1;i>=0;i--)$(ht.sounds[ht.soundIDs[i]]);return u(s),it.remove(e,"load",b),!0},this.canPlayMIME=function(e){var t;return ht.hasHTML5&&(t=G({type:e})),!t&&It&&(t=e&&ht.ok()?!!((c>8?e.match(es):null)||e.match(ht.mimePattern)):null),t},this.canPlayURL=function(e){var t;return ht.hasHTML5&&(t=G({url:e})),!t&&It&&(t=e&&ht.ok()?!!e.match(ht.filePattern):null),t},this.canPlayLink=function(e){return e.type!==t&&e.type&&ht.canPlayMIME(e.type)?!0:ht.canPlayURL(e.href)},this.getSoundById=function(e){if(!e)return null;var t=ht.sounds[e];return t},this.onready=function(t,s){var i="onready",n=!1;if("function"!=typeof t)throw R("needFunction",i);return s||(s=e),g(i,t,s),v(),n=!0,n},this.ontimeout=function(t,s){var i="ontimeout",n=!1;if("function"!=typeof t)throw R("needFunction",i);return s||(s=e),g(i,t,s),v({type:i}),n=!0,n},this._writeDebug=function(){return!0},this._wD=this._writeDebug,this._debug=function(){},this.reboot=function(t,s){var i,n,a;for(i=ht.soundIDs.length-1;i>=0;i--)ht.sounds[ht.soundIDs[i]].destruct();if(mt)try{zt&&(Mt=mt.innerHTML),Ct=mt.parentNode.removeChild(mt)}catch(r){}if(Mt=Ct=It=mt=null,ht.enabled=T=kt=Tt=At=wt=_t=Pt=jt=ht.swfLoaded=!1,ht.soundIDs=[],ht.sounds={},Dt=0,ut=!1,t)yt=[];else for(i in yt)if(yt.hasOwnProperty(i))for(n=0,a=yt[i].length;a>n;n++)yt[i][n].fired=!1;return ht.html5={usingFlash:null},ht.flash={},ht.html5Only=!1,ht.ignoreFlash=!1,e.setTimeout(function(){s||ht.beginDelayedInit()},20),ht},this.reset=function(){return ht.reboot(!0,!0)},this.getMoviePercent=function(){return mt&&"PercentLoaded"in mt?mt.PercentLoaded():null},this.beginDelayedInit=function(){xt=!0,C(),setTimeout(function(){return At?!1:(E(),S(),At=!0,!0)},20),y()},this.destruct=function(){ht.disable(!0)},r=function(e){var s,i,n,a,r,o,l,d,p,u,f=this,m=!1,g=[],v=0,b=null;p={duration:null,time:null},this.id=e.id,this.sID=this.id,this.url=e.url,this.options=h(e),this.instanceOptions=this.options,this._iO=this.instanceOptions,this.pan=this.options.pan,this.volume=this.options.volume,this.isHTML5=!1,this._a=null,u=this.url?!1:!0,this.id3={},this._debug=function(){},this.load=function(e){var s,i=null;if(e!==t?f._iO=h(e,f.options):(e=f.options,f._iO=e,b&&b!==f.url&&(f._iO.url=f.url,f.url=null)),f._iO.url||(f._iO.url=f.url),f._iO.url=X(f._iO.url),f.instanceOptions=f._iO,s=f._iO,!s.url&&!f.url)return f;if(s.url===f.url&&0!==f.readyState&&2!==f.readyState)return 3===f.readyState&&s.onload&&ct(f,function(){s.onload.apply(f,[!!f.duration])}),f;if(f.loaded=!1,f.readyState=1,f.playState=0,f.id3={},Q(s))i=f._setup_html5(s),i._called_load||(f._html5_canplay=!1,f.url!==s.url&&(f._a.src=s.url,f.setPosition(0)),f._a.autobuffer="auto",f._a.preload="auto",f._a._called_load=!0);else{if(ht.html5Only)return f;if(f._iO.url&&f._iO.url.match(/data\:/i))return f;try{f.isHTML5=!1,f._iO=N(B(s)),f._iO.autoPlay&&(f._iO.position||f._iO.from)&&(f._iO.autoPlay=!1),s=f._iO,8===c?mt._load(f.id,s.url,s.stream,s.autoPlay,s.usePolicyFile):mt._load(f.id,s.url,!!s.stream,!!s.autoPlay,s.loops||1,!!s.autoLoad,s.usePolicyFile)}catch(n){L({type:"SMSOUND_LOAD_JS_EXCEPTION",fatal:!0})}}return f.url=s.url,f},this.unload=function(){return 0!==f.readyState&&(f.isHTML5?(a(),f._a&&(f._a.pause(),b=et(f._a))):8===c?mt._unload(f.id,Kt):mt._unload(f.id),s()),f},this.destruct=function(e){f.isHTML5?(a(),f._a&&(f._a.pause(),et(f._a),jt||n(),f._a._s=null,f._a=null)):(f._iO.onfailure=null,mt._destroySound(f.id)),e||ht.destroySound(f.id,!0)},this.play=function(e,s){var i,n,a,l,p,g,v=!0,b=null;if(s=s===t?!0:s,e||(e={}),f.url&&(f._iO.url=f.url),f._iO=h(f._iO,f.options),f._iO=h(e,f._iO),f._iO.url=X(f._iO.url),f.instanceOptions=f._iO,!f.isHTML5&&f._iO.serverURL&&!f.connected)return f.getAutoPlay()||f.setAutoPlay(!0),f;if(Q(f._iO)&&(f._setup_html5(f._iO),r()),1!==f.playState||f.paused||(i=f._iO.multiShot,i||(f.isHTML5&&f.setPosition(f._iO.position),b=f)),null!==b)return b;if(e.url&&e.url!==f.url&&(f.readyState||f.isHTML5||8!==c||!u?f.load(f._iO):u=!1),f.loaded||(0===f.readyState?(f.isHTML5||ht.html5Only?f.isHTML5?f.load(f._iO):b=f:(f._iO.autoPlay=!0,f.load(f._iO)),f.instanceOptions=f._iO):2===f.readyState&&(b=f)),null!==b)return b;if(!f.isHTML5&&9===c&&f.position>0&&f.position===f.duration&&(e.position=0),f.paused&&f.position>=0&&(!f._iO.serverURL||f.position>0))f.resume();else{if(f._iO=h(e,f._iO),(!f.isHTML5&&null!==f._iO.position&&f._iO.position>0||null!==f._iO.from&&f._iO.from>0||null!==f._iO.to)&&0===f.instanceCount&&0===f.playState&&!f._iO.serverURL){if(a=function(){f._iO=h(e,f._iO),f.play(f._iO)},f.isHTML5&&!f._html5_canplay?(f.load({_oncanplay:a}),b=!1):f.isHTML5||f.loaded||f.readyState&&2===f.readyState||(f.load({onload:a}),b=!1),null!==b)return b;f._iO=d()}(!f.instanceCount||f._iO.multiShotEvents||f.isHTML5&&f._iO.multiShot&&!jt||!f.isHTML5&&c>8&&!f.getAutoPlay())&&f.instanceCount++,f._iO.onposition&&0===f.playState&&o(f),f.playState=1,f.paused=!1,f.position=f._iO.position===t||isNaN(f._iO.position)?0:f._iO.position,f.isHTML5||(f._iO=N(B(f._iO))),f._iO.onplay&&s&&(f._iO.onplay.apply(f),m=!0),f.setVolume(f._iO.volume,!0),f.setPan(f._iO.pan,!0),f.isHTML5?f.instanceCount<2?(r(),n=f._setup_html5(),f.setPosition(f._iO.position),n.play()):(l=new Audio(f._iO.url),p=function(){it.remove(l,"ended",p),f._onfinish(f),et(l),l=null},g=function(){it.remove(l,"canplay",g);try{l.currentTime=f._iO.position/Rt}catch(e){}l.play()},it.add(l,"ended",p),f._iO.volume!==t&&(l.volume=Math.max(0,Math.min(1,f._iO.volume/100))),f.muted&&(l.muted=!0),f._iO.position?it.add(l,"canplay",g):l.play()):(v=mt._start(f.id,f._iO.loops||1,9===c?f.position:f.position/Rt,f._iO.multiShot||!1),9!==c||v||f._iO.onplayerror&&f._iO.onplayerror.apply(f))}return f},this.start=this.play,this.stop=function(e){var t,s=f._iO;return 1===f.playState&&(f._onbufferchange(0),f._resetOnPosition(0),f.paused=!1,f.isHTML5||(f.playState=0),l(),s.to&&f.clearOnPosition(s.to),f.isHTML5?f._a&&(t=f.position,f.setPosition(0),f.position=t,f._a.pause(),f.playState=0,f._onTimer(),a()):(mt._stop(f.id,e),s.serverURL&&f.unload()),f.instanceCount=0,f._iO={},s.onstop&&s.onstop.apply(f)),f},this.setAutoPlay=function(e){f._iO.autoPlay=e,f.isHTML5||(mt._setAutoPlay(f.id,e),e&&(f.instanceCount||1!==f.readyState||f.instanceCount++))},this.getAutoPlay=function(){return f._iO.autoPlay},this.setPosition=function(e){e===t&&(e=0);var s,i,n=f.isHTML5?Math.max(e,0):Math.min(f.duration||f._iO.duration,Math.max(e,0));if(f.position=n,i=f.position/Rt,f._resetOnPosition(f.position),f._iO.position=n,f.isHTML5){if(f._a){if(f._html5_canplay){if(f._a.currentTime!==i)try{f._a.currentTime=i,(0===f.playState||f.paused)&&f._a.pause()}catch(a){}}else if(i)return f;f.paused&&f._onTimer(!0)}}else s=9===c?f.position:i,f.readyState&&2!==f.readyState&&mt._setPosition(f.id,s,f.paused||!f.playState,f._iO.multiShot);return f},this.pause=function(e){return f.paused||0===f.playState&&1!==f.readyState?f:(f.paused=!0,f.isHTML5?(f._setup_html5().pause(),a()):(e||e===t)&&mt._pause(f.id,f._iO.multiShot),f._iO.onpause&&f._iO.onpause.apply(f),f)},this.resume=function(){var e=f._iO;return f.paused?(f.paused=!1,f.playState=1,f.isHTML5?(f._setup_html5().play(),r()):(e.isMovieStar&&!e.serverURL&&f.setPosition(f.position),mt._pause(f.id,e.multiShot)),!m&&e.onplay?(e.onplay.apply(f),m=!0):e.onresume&&e.onresume.apply(f),f):f},this.togglePause=function(){return 0===f.playState?(f.play({position:9!==c||f.isHTML5?f.position/Rt:f.position}),f):(f.paused?f.resume():f.pause(),f)},this.setPan=function(e,s){return e===t&&(e=0),s===t&&(s=!1),f.isHTML5||mt._setPan(f.id,e),f._iO.pan=e,s||(f.pan=e,f.options.pan=e),f},this.setVolume=function(e,s){return e===t&&(e=100),s===t&&(s=!1),f.isHTML5?f._a&&(ht.muted&&!f.muted&&(f.muted=!0,f._a.muted=!0),f._a.volume=Math.max(0,Math.min(1,e/100))):mt._setVolume(f.id,ht.muted&&!f.muted||f.muted?0:e),f._iO.volume=e,s||(f.volume=e,f.options.volume=e),f},this.mute=function(){return f.muted=!0,f.isHTML5?f._a&&(f._a.muted=!0):mt._setVolume(f.id,0),f},this.unmute=function(){f.muted=!1;var e=f._iO.volume!==t;return f.isHTML5?f._a&&(f._a.muted=!1):mt._setVolume(f.id,e?f._iO.volume:f.options.volume),f},this.toggleMute=function(){return f.muted?f.unmute():f.mute()},this.onPosition=function(e,s,i){return g.push({position:parseInt(e,10),method:s,scope:i!==t?i:f,fired:!1}),f},this.onposition=this.onPosition,this.clearOnPosition=function(e,t){var s;if(e=parseInt(e,10),isNaN(e))return!1;for(s=0;s<g.length;s++)e===g[s].position&&(t&&t!==g[s].method||(g[s].fired&&v--,g.splice(s,1)))},this._processOnPosition=function(){var e,t,s=g.length;if(!s||!f.playState||v>=s)return!1;for(e=s-1;e>=0;e--)t=g[e],!t.fired&&f.position>=t.position&&(t.fired=!0,v++,t.method.apply(t.scope,[t.position]),s=g.length);return!0},this._resetOnPosition=function(e){var t,s,i=g.length;if(!i)return!1;for(t=i-1;t>=0;t--)s=g[t],s.fired&&e<=s.position&&(s.fired=!1,v--);return!0},d=function(){var e,t,s=f._iO,i=s.from,n=s.to;return t=function(){f.clearOnPosition(n,t),f.stop()},e=function(){null===n||isNaN(n)||f.onPosition(n,t)},null===i||isNaN(i)||(s.position=i,s.multiShot=!1,e()),s},o=function(){var e,t=f._iO.onposition;if(t)for(e in t)t.hasOwnProperty(e)&&f.onPosition(parseInt(e,10),t[e])},l=function(){var e,t=f._iO.onposition;if(t)for(e in t)t.hasOwnProperty(e)&&f.clearOnPosition(parseInt(e,10))},r=function(){f.isHTML5&&Z(f)},a=function(){f.isHTML5&&q(f)},s=function(e){e||(g=[],v=0),m=!1,f._hasTimer=null,f._a=null,f._html5_canplay=!1,f.bytesLoaded=null,f.bytesTotal=null,f.duration=f._iO&&f._iO.duration?f._iO.duration:null,f.durationEstimate=null,f.buffered=[],f.eqData=[],f.eqData.left=[],f.eqData.right=[],f.failures=0,f.isBuffering=!1,f.instanceOptions={},f.instanceCount=0,f.loaded=!1,f.metadata={},f.readyState=0,f.muted=!1,f.paused=!1,f.peakData={left:0,right:0},f.waveformData={left:[],right:[]},f.playState=0,f.position=null,f.id3={}},s(),this._onTimer=function(e){var t,s,i=!1,n={};return f._hasTimer||e?(f._a&&(e||(f.playState>0||1===f.readyState)&&!f.paused)&&(t=f._get_html5_duration(),t!==p.duration&&(p.duration=t,f.duration=t,i=!0),f.durationEstimate=f.duration,s=f._a.currentTime*Rt||0,s!==p.time&&(p.time=s,i=!0),(i||e)&&f._whileplaying(s,n,n,n,n)),i):void 0},this._get_html5_duration=function(){var e=f._iO,t=f._a&&f._a.duration?f._a.duration*Rt:e&&e.duration?e.duration:null,s=t&&!isNaN(t)&&1/0!==t?t:null;return s},this._apply_loop=function(e,t){e.loop=t>1?"loop":""},this._setup_html5=function(e){var t,n=h(f._iO,e),a=jt?ft:f._a,r=decodeURI(n.url);if(jt?r===decodeURI(nt)&&(t=!0):r===decodeURI(b)&&(t=!0),a){if(a._s)if(jt)a._s&&a._s.playState&&!t&&a._s.stop();else if(!jt&&r===decodeURI(b))return f._apply_loop(a,n.loops),a;t||(b&&s(!1),a.src=n.url,f.url=n.url,b=n.url,nt=n.url,a._called_load=!1)}else n.autoLoad||n.autoPlay?(f._a=new Audio(n.url),f._a.load()):f._a=Ut&&opera.version()<10?new Audio(null):new Audio,a=f._a,a._called_load=!1,jt&&(ft=a);return f.isHTML5=!0,f._a=a,a._s=f,i(),f._apply_loop(a,n.loops),n.autoLoad||n.autoPlay?f.load():(a.autobuffer=!1,a.preload="auto"),a},i=function(){function e(e,t,s){return f._a?f._a.addEventListener(e,t,s||!1):null}if(f._a._added_events)return!1;var t;f._a._added_events=!0;for(t in lt)lt.hasOwnProperty(t)&&e(t,lt[t]);return!0},n=function(){function e(e,t,s){return f._a?f._a.removeEventListener(e,t,s||!1):null}var t;f._a._added_events=!1;for(t in lt)lt.hasOwnProperty(t)&&e(t,lt[t])},this._onload=function(e){var t=!!e||!f.isHTML5&&8===c&&f.duration;return f.loaded=t,f.readyState=t?3:2,f._onbufferchange(0),f._iO.onload&&ct(f,function(){f._iO.onload.apply(f,[t])}),!0},this._onbufferchange=function(e){return 0===f.playState?!1:e&&f.isBuffering||!e&&!f.isBuffering?!1:(f.isBuffering=1===e,f._iO.onbufferchange&&f._iO.onbufferchange.apply(f,[e]),!0)},this._onsuspend=function(){return f._iO.onsuspend&&f._iO.onsuspend.apply(f),!0},this._onfailure=function(e,t,s){f.failures++,f._iO.onfailure&&1===f.failures&&f._iO.onfailure(e,t,s)},this._onwarning=function(e,t,s){f._iO.onwarning&&f._iO.onwarning(e,t,s)},this._onfinish=function(){var e=f._iO.onfinish;f._onbufferchange(0),f._resetOnPosition(0),f.instanceCount&&(f.instanceCount--,f.instanceCount||(l(),f.playState=0,f.paused=!1,f.instanceCount=0,f.instanceOptions={},f._iO={},a(),f.isHTML5&&(f.position=0)),(!f.instanceCount||f._iO.multiShotEvents)&&e&&ct(f,function(){e.apply(f)}))},this._whileloading=function(e,t,s,i){var n=f._iO;f.bytesLoaded=e,f.bytesTotal=t,f.duration=Math.floor(s),f.bufferLength=i,f.durationEstimate=f.isHTML5||n.isMovieStar?f.duration:n.duration?f.duration>n.duration?f.duration:n.duration:parseInt(f.bytesTotal/f.bytesLoaded*f.duration,10),f.isHTML5||(f.buffered=[{start:0,end:f.duration}]),(3!==f.readyState||f.isHTML5)&&n.whileloading&&n.whileloading.apply(f)},this._whileplaying=function(e,s,i,n,a){var r,o=f._iO;return isNaN(e)||null===e?!1:(f.position=Math.max(0,e),f._processOnPosition(),!f.isHTML5&&c>8&&(o.usePeakData&&s!==t&&s&&(f.peakData={left:s.leftPeak,right:s.rightPeak}),o.useWaveformData&&i!==t&&i&&(f.waveformData={left:i.split(","),right:n.split(",")}),o.useEQData&&a!==t&&a&&a.leftEQ&&(r=a.leftEQ.split(","),f.eqData=r,f.eqData.left=r,a.rightEQ!==t&&a.rightEQ&&(f.eqData.right=a.rightEQ.split(",")))),1===f.playState&&(f.isHTML5||8!==c||f.position||!f.isBuffering||f._onbufferchange(0),o.whileplaying&&o.whileplaying.apply(f)),!0)},this._oncaptiondata=function(e){f.captiondata=e,f._iO.oncaptiondata&&f._iO.oncaptiondata.apply(f,[e])},this._onmetadata=function(e,t){var s,i,n={};for(s=0,i=e.length;i>s;s++)n[e[s]]=t[s];f.metadata=n,f._iO.onmetadata&&f._iO.onmetadata.call(f,f.metadata)},this._onid3=function(e,t){var s,i,n=[];for(s=0,i=e.length;i>s;s++)n[e[s]]=t[s];f.id3=h(f.id3,n),f._iO.onid3&&f._iO.onid3.apply(f)},this._onconnect=function(e){e=1===e,f.connected=e,e&&(f.failures=0,F(f.id)&&(f.getAutoPlay()?f.play(t,f.getAutoPlay()):f._iO.autoLoad&&f.load()),f._iO.onconnect&&f._iO.onconnect.apply(f,[e]))},this._ondataerror=function(){f.playState>0&&f._iO.ondataerror&&f._iO.ondataerror.apply(f)}},A=function(){return bt.body||bt.getElementsByTagName("div")[0]},o=function(e){return bt.getElementById(e)},h=function(e,s){var i,n,a=e||{};i=s===t?ht.defaultOptions:s;for(n in i)i.hasOwnProperty(n)&&a[n]===t&&(a[n]="object"!=typeof i[n]||null===i[n]?i[n]:h(a[n],i[n]));return a},ct=function(t,s){t.isHTML5||8!==c?s():e.setTimeout(s,0)},m={onready:1,ontimeout:1,defaultOptions:1,flash9Options:1,movieStarOptions:1},f=function(e,s){var i,n=!0,a=s!==t,r=ht.setupOptions,o=m;for(i in e)if(e.hasOwnProperty(i))if("object"!=typeof e[i]||null===e[i]||e[i]instanceof Array||e[i]instanceof RegExp)a&&o[s]!==t?ht[s][i]=e[i]:r[i]!==t?(ht.setupOptions[i]=e[i],ht[i]=e[i]):o[i]===t?n=!1:ht[i]instanceof Function?ht[i].apply(ht,e[i]instanceof Array?e[i]:[e[i]]):ht[i]=e[i];else{if(o[i]!==t)return f(e[i],i);n=!1}return n},it=function(){function t(e){var t=$t.call(e),s=t.length;return a?(t[1]="on"+t[1],s>3&&t.pop()):3===s&&t.push(!1),t}function s(e,t){var s=e.shift(),i=[r[t]];a?s[i](e[0],e[1]):s[i].apply(s,e)}function i(){s(t(arguments),"add")}function n(){s(t(arguments),"remove")}var a=e.attachEvent,r={add:a?"attachEvent":"addEventListener",remove:a?"detachEvent":"removeEventListener"};return{add:i,remove:n}}(),lt={abort:a(function(){}),canplay:a(function(){var e,s=this._s;if(s._html5_canplay)return!0;if(s._html5_canplay=!0,s._onbufferchange(0),e=s._iO.position===t||isNaN(s._iO.position)?null:s._iO.position/Rt,this.currentTime!==e)try{this.currentTime=e}catch(i){}s._iO._oncanplay&&s._iO._oncanplay()}),canplaythrough:a(function(){var e=this._s;e.loaded||(e._onbufferchange(0),e._whileloading(e.bytesLoaded,e.bytesTotal,e._get_html5_duration()),e._onload(!0))}),durationchange:a(function(){var e,t=this._s;e=t._get_html5_duration(),isNaN(e)||e===t.duration||(t.durationEstimate=t.duration=e)}),ended:a(function(){var e=this._s;e._onfinish()}),error:a(function(){this._s._onload(!1)}),loadeddata:a(function(){var e=this._s;e._loaded||Nt||(e.duration=e._get_html5_duration())}),loadedmetadata:a(function(){}),loadstart:a(function(){this._s._onbufferchange(1)}),play:a(function(){this._s._onbufferchange(0)}),playing:a(function(){this._s._onbufferchange(0)}),progress:a(function(e){var t,s,i=this._s,n=0,a=("progress"===e.type,e.target.buffered),r=e.loaded||0,o=e.total||1;if(i.buffered=[],a&&a.length){for(t=0,s=a.length;s>t;t++)i.buffered.push({start:a.start(t)*Rt,end:a.end(t)*Rt});n=(a.end(0)-a.start(0))*Rt,r=Math.min(1,n/(e.target.duration*Rt))}isNaN(r)||(i._whileloading(r,o,i._get_html5_duration()),r&&o&&r===o&&lt.canplaythrough.call(this,e))}),ratechange:a(function(){}),suspend:a(function(e){var t=this._s;lt.progress.call(this,e),t._onsuspend()}),stalled:a(function(){}),timeupdate:a(function(){this._s._onTimer()}),waiting:a(function(){var e=this._s;e._onbufferchange(1)})},Q=function(e){var t;return t=e&&(e.type||e.url||e.serverURL)?e.serverURL||e.type&&n(e.type)?!1:e.type?G({type:e.type}):G({url:e.url})||ht.html5Only||e.url.match(/data\:/i):!1},et=function(e){var s;return e&&(s=Nt?Kt:ht.html5.canPlayType("audio/wav")?Qt:Kt,e.src=s,e._called_unload!==t&&(e._called_load=!1)),jt&&(nt=null),s},G=function(e){if(!ht.useHTML5Audio||!ht.hasHTML5)return!1;var s,i,a,r,o=e.url||null,l=e.type||null,d=ht.audioFormats;if(l&&ht.html5[l]!==t)return ht.html5[l]&&!n(l);if(!J){J=[];for(r in d)d.hasOwnProperty(r)&&(J.push(r),d[r].related&&(J=J.concat(d[r].related)));J=new RegExp("\\.("+J.join("|")+")(\\?.*)?$","i")}return a=o?o.toLowerCase().match(J):null,a&&a.length?a=a[1]:l?(i=l.indexOf(";"),a=(-1!==i?l.substr(0,i):l).substr(6)):s=!1,a&&ht.html5[a]!==t?s=ht.html5[a]&&!n(a):(l="audio/"+a,s=ht.html5.canPlayType({type:l}),ht.html5[a]=s,s=s&&ht.html5[l]&&!n(l)),s},st=function(){function e(e){var t,s,i=!1,n=!1;if(!r||"function"!=typeof r.canPlayType)return i;if(e instanceof Array){for(a=0,s=e.length;s>a;a++)(ht.html5[e[a]]||r.canPlayType(e[a]).match(ht.html5Test))&&(n=!0,ht.html5[e[a]]=!0,ht.flash[e[a]]=!!e[a].match(Wt));i=n}else t=r&&"function"==typeof r.canPlayType?r.canPlayType(e):!1,i=!(!t||!t.match(ht.html5Test));return i}if(!ht.useHTML5Audio||!ht.hasHTML5)return ht.html5.usingFlash=!0,It=!0,!1;var s,i,n,a,r=Audio!==t?Ut&&opera.version()<10?new Audio(null):new Audio:null,o={};n=ht.audioFormats;for(s in n)if(n.hasOwnProperty(s)&&(i="audio/"+s,o[s]=e(n[s].type),o[i]=o[s],s.match(Wt)?(ht.flash[s]=!0,ht.flash[i]=!0):(ht.flash[s]=!1,ht.flash[i]=!1),n[s]&&n[s].related))for(a=n[s].related.length-1;a>=0;a--)o["audio/"+n[s].related[a]]=o[s],ht.html5[n[s].related[a]]=o[s],ht.flash[n[s].related[a]]=o[s];return o.canPlayType=r?e:null,ht.html5=h(ht.html5,o),ht.html5.usingFlash=K(),It=ht.html5.usingFlash,!0},x={},R=function(){},B=function(e){return 8===c&&e.loops>1&&e.stream&&(e.stream=!1),e},N=function(e){return e&&!e.usePolicyFile&&(e.onid3||e.usePeakData||e.useWaveformData||e.useEQData)&&(e.usePolicyFile=!0),e},U=function(){},l=function(){return!1},$=function(e){var t;for(t in e)e.hasOwnProperty(t)&&"function"==typeof e[t]&&(e[t]=l);t=null},j=function(e){e===t&&(e=!1),(Pt||e)&&ht.disable(e)},D=function(e){var t,s=null;if(e)if(e.match(/\.swf(\?.*)?$/i)){if(s=e.substr(e.toLowerCase().lastIndexOf(".swf?")+4))return e}else e.lastIndexOf("/")!==e.length-1&&(e+="/");return t=(e&&-1!==e.lastIndexOf("/")?e.substr(0,e.lastIndexOf("/")+1):"./")+ht.movieURL,ht.noSWFCache&&(t+="?ts="+(new Date).getTime()),t},k=function(){c=parseInt(ht.flashVersion,10),8!==c&&9!==c&&(ht.flashVersion=c=St);var e=ht.debugMode||ht.debugFlash?"_debug.swf":".swf";ht.useHTML5Audio&&!ht.html5Only&&ht.audioFormats.mp4.required&&9>c&&(ht.flashVersion=c=9),ht.version=ht.versionNumber+(ht.html5Only?" (HTML5-only mode)":9===c?" (AS3/Flash 9)":" (AS2/Flash 8)"),c>8?(ht.defaultOptions=h(ht.defaultOptions,ht.flash9Options),ht.features.buffering=!0,ht.defaultOptions=h(ht.defaultOptions,ht.movieStarOptions),ht.filePatterns.flash9=new RegExp("\\.(mp3|"+ts.join("|")+")(\\?.*)?$","i"),ht.features.movieStar=!0):ht.features.movieStar=!1,ht.filePattern=ht.filePatterns[8!==c?"flash9":"flash8"],ht.movieURL=(8===c?"soundmanager2.swf":"soundmanager2_flash9.swf").replace(".swf",e),ht.features.peakData=ht.features.waveformData=ht.features.eqData=c>8},O=function(e,t){return mt?void mt._setPolling(e,t):!1},I=function(){},F=this.getSoundById,V=function(){var e=[];return ht.debugMode&&e.push(z.sm2Debug),ht.debugFlash&&e.push(z.flashDebug),ht.useHighPerformance&&e.push(z.highPerf),e.join(" ")},H=function(){var e=(R("fbHandler"),ht.getMoviePercent()),t=z,s={type:"FLASHBLOCK"};return ht.html5Only?!1:void(ht.ok()?ht.oMC&&(ht.oMC.className=[V(),t.swfDefault,t.swfLoaded+(ht.didFlashBlock?" "+t.swfUnblocked:"")].join(" ")):(It&&(ht.oMC.className=V()+" "+t.swfDefault+" "+(null===e?t.swfTimedout:t.swfError)),ht.didFlashBlock=!0,v({type:"ontimeout",ignoreInit:!0,error:s}),L(s)))},g=function(e,s,i){yt[e]===t&&(yt[e]=[]),yt[e].push({method:s,scope:i||null,fired:!1})},v=function(e){if(e||(e={type:ht.ok()?"onready":"ontimeout"}),!kt&&e&&!e.ignoreInit)return!1;if("ontimeout"===e.type&&(ht.ok()||Pt&&!e.ignoreInit))return!1;var t,s,i={success:e&&e.ignoreInit?ht.ok():!Pt},n=e&&e.type?yt[e.type]||[]:[],a=[],r=[i],o=It&&!ht.ok();for(e.error&&(r[0].error=e.error),t=0,s=n.length;s>t;t++)n[t].fired!==!0&&a.push(n[t]);if(a.length)for(t=0,s=a.length;s>t;t++)a[t].scope?a[t].method.apply(a[t].scope,r):a[t].method.apply(this,r),o||(a[t].fired=!0);return!0},b=function(){e.setTimeout(function(){ht.useFlashBlock&&H(),v(),"function"==typeof ht.onload&&ht.onload.apply(e),ht.waitForWindowLoad&&it.add(e,"load",b)},1)},rt=function(){if(at!==t)return at;var s,i,n,a=!1,r=navigator,o=r.plugins,l=e.ActiveXObject;if(o&&o.length)i="application/x-shockwave-flash",n=r.mimeTypes,n&&n[i]&&n[i].enabledPlugin&&n[i].enabledPlugin.description&&(a=!0);else if(l!==t&&!gt.match(/MSAppHost/i)){try{s=new l("ShockwaveFlash.ShockwaveFlash")}catch(d){s=null}a=!!s,s=null}return at=a,a},K=function(){var e,t,s=ht.audioFormats,i=Ht&&!!gt.match(/os (1|2|3_0|3_1)\s/i);if(i?(ht.hasHTML5=!1,ht.html5Only=!0,ht.oMC&&(ht.oMC.style.display="none")):ht.useHTML5Audio&&(ht.html5&&ht.html5.canPlayType||(ht.hasHTML5=!1)),ht.useHTML5Audio&&ht.hasHTML5){W=!0;for(t in s)s.hasOwnProperty(t)&&s[t].required&&(ht.html5.canPlayType(s[t].type)?ht.preferFlash&&(ht.flash[t]||ht.flash[s[t].type])&&(e=!0):(W=!1,e=!0))}return ht.ignoreFlash&&(e=!1,W=!0),ht.html5Only=ht.hasHTML5&&ht.useHTML5Audio&&!e,!ht.html5Only},X=function(e){var t,s,i,n=0;if(e instanceof Array){for(t=0,s=e.length;s>t;t++)if(e[t]instanceof Object){if(ht.canPlayMIME(e[t].type)){n=t;break}}else if(ht.canPlayURL(e[t])){n=t;break}e[n].url&&(e[n]=e[n].url),i=e[n]}else i=e;return i},Z=function(e){e._hasTimer||(e._hasTimer=!0,!Ft&&ht.html5PollingInterval&&(null===Lt&&0===Et&&(Lt=setInterval(Y,ht.html5PollingInterval)),Et++))},q=function(e){e._hasTimer&&(e._hasTimer=!1,!Ft&&ht.html5PollingInterval&&Et--)},Y=function(){var e;if(null!==Lt&&!Et)return clearInterval(Lt),Lt=null,!1;for(e=ht.soundIDs.length-1;e>=0;e--)ht.sounds[ht.soundIDs[e]].isHTML5&&ht.sounds[ht.soundIDs[e]]._hasTimer&&ht.sounds[ht.soundIDs[e]]._onTimer()},L=function(s){s=s!==t?s:{},"function"==typeof ht.onerror&&ht.onerror.apply(e,[{type:s.type!==t?s.type:null}]),s.fatal!==t&&s.fatal&&ht.disable()},ot=function(){if(!Zt||!rt())return!1;var e,t,s=ht.audioFormats;for(t in s)if(s.hasOwnProperty(t)&&("mp3"===t||"mp4"===t)&&(ht.html5[t]=!1,s[t]&&s[t].related))for(e=s[t].related.length-1;e>=0;e--)ht.html5[s[t].related[e]]=!1},this._setSandboxType=function(){},this._externalInterfaceOK=function(){if(ht.swfLoaded)return!1;ht.swfLoaded=!0,Yt=!1,Zt&&ot(),setTimeout(p,zt?100:1)},E=function(e,s){function i(){}function n(e,t){return'<param name="'+e+'" value="'+t+'" />'}if(wt&&_t)return!1;if(ht.html5Only)return k(),i(),ht.oMC=o(ht.movieID),p(),wt=!0,_t=!0,!1;var a,r,l,d,c,u,h,f,m=s||ht.url,g=ht.altURL||m,v="JS/Flash audio component (SoundManager 2)",b=A(),y=V(),w=null,_=bt.getElementsByTagName("html")[0];
if(w=_&&_.dir&&_.dir.match(/rtl/i),e=e===t?ht.id:e,k(),ht.url=D(Gt?m:g),s=ht.url,ht.wmode=!ht.wmode&&ht.useHighPerformance?"transparent":ht.wmode,null!==ht.wmode&&(gt.match(/msie 8/i)||!zt&&!ht.useHighPerformance)&&navigator.platform.match(/win32|win64/i)&&(Ot.push(x.spcWmode),ht.wmode=null),a={name:e,id:e,src:s,quality:"high",allowScriptAccess:ht.allowScriptAccess,bgcolor:ht.bgColor,pluginspage:Jt+"www.macromedia.com/go/getflashplayer",title:v,type:"application/x-shockwave-flash",wmode:ht.wmode,hasPriority:"true"},ht.debugFlash&&(a.FlashVars="debug=1"),ht.wmode||delete a.wmode,zt)r=bt.createElement("div"),d=['<object id="'+e+'" data="'+s+'" type="'+a.type+'" title="'+a.title+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0">',n("movie",s),n("AllowScriptAccess",ht.allowScriptAccess),n("quality",a.quality),ht.wmode?n("wmode",ht.wmode):"",n("bgcolor",ht.bgColor),n("hasPriority","true"),ht.debugFlash?n("FlashVars",a.FlashVars):"","</object>"].join("");else{r=bt.createElement("embed");for(l in a)a.hasOwnProperty(l)&&r.setAttribute(l,a[l])}if(I(),y=V(),b=A())if(ht.oMC=o(ht.movieID)||bt.createElement("div"),ht.oMC.id)f=ht.oMC.className,ht.oMC.className=(f?f+" ":z.swfDefault)+(y?" "+y:""),ht.oMC.appendChild(r),zt&&(c=ht.oMC.appendChild(bt.createElement("div")),c.className=z.swfBox,c.innerHTML=d),_t=!0;else{if(ht.oMC.id=ht.movieID,ht.oMC.className=z.swfDefault+" "+y,u=null,c=null,ht.useFlashBlock||(ht.useHighPerformance?u={position:"fixed",width:"8px",height:"8px",bottom:"0px",left:"0px",overflow:"hidden"}:(u={position:"absolute",width:"6px",height:"6px",top:"-9999px",left:"-9999px"},w&&(u.left=Math.abs(parseInt(u.left,10))+"px"))),Bt&&(ht.oMC.style.zIndex=1e4),!ht.debugFlash)for(h in u)u.hasOwnProperty(h)&&(ht.oMC.style[h]=u[h]);try{zt||ht.oMC.appendChild(r),b.appendChild(ht.oMC),zt&&(c=ht.oMC.appendChild(bt.createElement("div")),c.className=z.swfBox,c.innerHTML=d),_t=!0}catch(P){throw new Error(R("domError")+" \n"+P.toString())}}return wt=!0,i(),!0},S=function(){return ht.html5Only?(E(),!1):mt?!1:ht.url?(mt=ht.getMovie(ht.id),mt||(Ct?(zt?ht.oMC.innerHTML=Mt:ht.oMC.appendChild(Ct),Ct=null,wt=!0):E(ht.id,ht.url),mt=ht.getMovie(ht.id)),"function"==typeof ht.oninitmovie&&setTimeout(ht.oninitmovie,1),!0):!1},y=function(){setTimeout(w,1e3)},_=function(){e.setTimeout(function(){ht.setup({preferFlash:!1}).reboot(),ht.didFlashBlock=!0,ht.beginDelayedInit()},1)},w=function(){var t,s=!1;return ht.url?Tt?!1:(Tt=!0,it.remove(e,"load",y),at&&Yt&&!qt?!1:(kt||(t=ht.getMoviePercent(),t>0&&100>t&&(s=!0)),void setTimeout(function(){return t=ht.getMoviePercent(),s?(Tt=!1,e.setTimeout(y,1),!1):void(!kt&&Xt&&(null===t?ht.useFlashBlock||0===ht.flashLoadTimeout?ht.useFlashBlock&&H():!ht.useFlashBlock&&W?_():v({type:"ontimeout",ignoreInit:!0,error:{type:"INIT_FLASHBLOCK"}}):0===ht.flashLoadTimeout||(!ht.useFlashBlock&&W?_():j(!0))))},ht.flashLoadTimeout))):!1},P=function(){function t(){it.remove(e,"focus",P)}return qt||!Yt?(t(),!0):(Xt=!0,qt=!0,Tt=!1,y(),t(),!0)},pt=function(){},dt=function(){},u=function(t){if(kt)return!1;if(ht.html5Only)return kt=!0,b(),!0;var s,i=ht.useFlashBlock&&ht.flashLoadTimeout&&!ht.getMoviePercent(),n=!0;return i||(kt=!0),s={type:!at&&It?"NO_FLASH":"INIT_TIMEOUT"},(Pt||t)&&(ht.useFlashBlock&&ht.oMC&&(ht.oMC.className=V()+" "+(null===ht.getMoviePercent()?z.swfTimedout:z.swfError)),v({type:"ontimeout",error:s,ignoreInit:!0}),L(s),n=!1),Pt||(ht.waitForWindowLoad&&!xt?it.add(e,"load",b):b()),n},d=function(){var e,s=ht.setupOptions;for(e in s)s.hasOwnProperty(e)&&(ht[e]===t?ht[e]=s[e]:ht[e]!==s[e]&&(ht.setupOptions[e]=ht[e]))},p=function(){function t(){it.remove(e,"load",ht.beginDelayedInit)}if(kt)return!1;if(ht.html5Only)return kt||(t(),ht.enabled=!0,u()),!0;S();try{mt._externalInterfaceTest(!1),O(!0,ht.flashPollingInterval||(ht.useHighPerformance?10:50)),ht.debugMode||mt._disableDebug(),ht.enabled=!0,ht.html5Only||it.add(e,"unload",l)}catch(s){return L({type:"JS_TO_FLASH_EXCEPTION",fatal:!0}),j(!0),u(),!1}return u(),t(),!0},C=function(){return T?!1:(T=!0,d(),I(),!at&&ht.hasHTML5&&ht.setup({useHTML5Audio:!0,preferFlash:!1}),st(),!at&&It&&(Ot.push(x.needFlash),ht.setup({flashLoadTimeout:1})),bt.removeEventListener&&bt.removeEventListener("DOMContentLoaded",C,!1),S(),!0)},tt=function(){return"complete"===bt.readyState&&(C(),bt.detachEvent("onreadystatechange",tt)),!0},M=function(){xt=!0,C(),it.remove(e,"load",M)},rt(),it.add(e,"focus",P),it.add(e,"load",y),it.add(e,"load",M),bt.addEventListener?bt.addEventListener("DOMContentLoaded",C,!1):bt.attachEvent?bt.attachEvent("onreadystatechange",tt):L({type:"NO_DOM2_EVENTS",fatal:!0})}if(!e||!e.document)throw new Error("SoundManager requires a browser with window and document objects.");var i=null;e.SM2_DEFER!==t&&SM2_DEFER||(i=new s),"object"==typeof module&&module&&"object"==typeof module.exports?(module.exports.SoundManager=s,module.exports.soundManager=i):"function"==typeof p&&p.amd&&p("soundmanager2",[],function(){function t(t){if(!e.soundManager&&t instanceof Function){var i=t(s);i instanceof s&&(e.soundManager=i)}return e.soundManager}return{constructor:s,getInstance:t}}),e.SoundManager=s,e.soundManager=i}(window),p("entities/track-model",["spp-app"],function(e){return e.module("Entities",function(e,t,s){e.Track=s.Model.extend({initialize:function(){this.on("change:isPlaying",function(){t.trigger("changeEpisodePlaying",this.Layout,this)}),this.on("change:speed",function(){t.trigger("changeSpeed",this.Layout,this)})},setLayout:function(e){this.Layout=e}})}),e.Entities}),p("text",["module"],function(e){"use strict";var t,s,i,n,a,r=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],o=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,l=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,p="undefined"!=typeof location&&location.href,c=p&&location.protocol&&location.protocol.replace(/\:/,""),u=p&&location.hostname,h=p&&(location.port||void 0),f={},m=e.config&&e.config()||{};return t={version:"2.0.10",strip:function(e){if(e){e=e.replace(o,"");var t=e.match(l);t&&(e=t[1])}else e="";return e},jsEscape:function(e){return e.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:m.createXhr||function(){var e,t,s;if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"!=typeof ActiveXObject)for(t=0;3>t;t+=1){s=r[t];try{e=new ActiveXObject(s)}catch(i){}if(e){r=[s];break}}return e},parseName:function(e){var t,s,i,n=!1,a=e.indexOf("."),r=0===e.indexOf("./")||0===e.indexOf("../");return-1!==a&&(!r||a>1)?(t=e.substring(0,a),s=e.substring(a+1,e.length)):t=e,i=s||t,a=i.indexOf("!"),-1!==a&&(n="strip"===i.substring(a+1),i=i.substring(0,a),s?s=i:t=i),{moduleName:t,ext:s,strip:n}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(e,s,i,n){var a,r,o,l=t.xdRegExp.exec(e);return l?(a=l[2],r=l[3],r=r.split(":"),o=r[1],r=r[0],!(a&&a!==s||r&&r.toLowerCase()!==i.toLowerCase()||(o||r)&&o!==n)):!0},finishLoad:function(e,s,i,n){i=s?t.strip(i):i,m.isBuild&&(f[e]=i),n(i)},load:function(e,s,i,n){if(n.isBuild&&!n.inlineText)return void i();m.isBuild=n.isBuild;var a=t.parseName(e),r=a.moduleName+(a.ext?"."+a.ext:""),o=s.toUrl(r),l=m.useXhr||t.useXhr;return 0===o.indexOf("empty:")?void i():void(!p||l(o,c,u,h)?t.get(o,function(s){t.finishLoad(e,a.strip,s,i)},function(e){i.error&&i.error(e)}):s([r],function(e){t.finishLoad(a.moduleName+"."+a.ext,a.strip,e,i)}))},write:function(e,s,i){if(f.hasOwnProperty(s)){var n=t.jsEscape(f[s]);i.asModule(e+"!"+s,"define(function () { return '"+n+"';});\n")}},writeFile:function(e,s,i,n,a){var r=t.parseName(s),o=r.ext?"."+r.ext:"",l=r.moduleName+o,d=i.toUrl(r.moduleName+o)+".js";t.load(l,i,function(){var s=function(e){return n(d,e)};s.asModule=function(e,t){return n.asModule(e,d,t)},t.write(e,l,s,a)},a)}},"node"===m.env||!m.env&&"undefined"!=typeof process&&process.versions&&process.versions.node&&!process.versions["node-webkit"]?(s=d.nodeRequire("fs"),t.get=function(e,t,i){try{var n=s.readFileSync(e,"utf8");0===n.indexOf("﻿")&&(n=n.substring(1)),t(n)}catch(a){i(a)}}):"xhr"===m.env||!m.env&&t.createXhr()?t.get=function(e,s,i,n){var a,r=t.createXhr();if(r.open("GET",e,!0),n)for(a in n)n.hasOwnProperty(a)&&r.setRequestHeader(a.toLowerCase(),n[a]);m.onXhr&&m.onXhr(r,e),r.onreadystatechange=function(){var t,n;4===r.readyState&&(t=r.status,t>399&&600>t?(n=new Error(e+" HTTP status: "+t),n.xhr=r,i(n)):s(r.responseText),m.onXhrComplete&&m.onXhrComplete(r,e))},r.send(null)}:"rhino"===m.env||!m.env&&"undefined"!=typeof Packages&&"undefined"!=typeof java?t.get=function(e,t){var s,i,n="utf-8",a=new java.io.File(e),r=java.lang.System.getProperty("line.separator"),o=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(a),n)),l="";try{for(s=new java.lang.StringBuffer,i=o.readLine(),i&&i.length()&&65279===i.charAt(0)&&(i=i.substring(1)),null!==i&&s.append(i);null!==(i=o.readLine());)s.append(r),s.append(i);l=String(s.toString())}finally{o.close()}t(l)}:("xpconnect"===m.env||!m.env&&"undefined"!=typeof Components&&Components.classes&&Components.interfaces)&&(i=Components.classes,n=Components.interfaces,Components.utils["import"]("resource://gre/modules/FileUtils.jsm"),a="@mozilla.org/windows-registry-key;1"in i,t.get=function(e,t){var s,r,o,l={};a&&(e=e.replace(/\//g,"\\")),o=new FileUtils.File(e);try{s=i["@mozilla.org/network/file-input-stream;1"].createInstance(n.nsIFileInputStream),s.init(o,1,0,!1),r=i["@mozilla.org/intl/converter-input-stream;1"].createInstance(n.nsIConverterInputStream),r.init(s,"utf-8",s.available(),n.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER),r.readString(s.available(),l),r.close(),s.close(),t(l.value)}catch(d){throw new Error((o&&o.path||"")+": "+d)}}),t}),p("text!templates/main-template.html",[],function(){return'<% if ( data.show_logo != undefined && data.show_logo != null ) { %>\r\n	<div class="spp-stpd-show-logo">\r\n		<img src="<%= data.show_logo %>" alt="<%= data.show_name %>" />\r\n	</div>\r\n<% } %>\r\n\r\n<div class="spp-stpm-main-image"></div>\r\n\r\n<div class="spp-top-matter">\r\n	<div class="spp-stpd-main-image-container">\r\n		<div class="spp-stpd-main-image"></div>\r\n	</div>\r\n	<div class="spp-show-logo">\r\n		<% if ( data.show_logo != undefined && data.show_logo != null && data.show_logo != "" ) { %>\r\n			<img src="<%= data.show_logo %>" alt="<%= data.show_name %>" />\r\n		<% } %>\r\n	</div>\r\n	<div class="spp-artist-and-title">\r\n		<p class="spp-show-title"><%= data.show_name || data.artist %><span class="spp-show-count"></span></p>\r\n		<p class="spp-track-title"><%= data.title %></p>\r\n		<% if ( data.artist != undefined && data.artist != null && data.artist !== "" ) { %>\r\n			<div class="spp-stpd-artist"><div class="spp-artist-box">\r\n				<span class="spp-artist-first-container">\r\n					<span><%= data.artist || data.show_name %></span>\r\n					<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>\r\n				</span>\r\n				<span class="spp-artist-second-container">\r\n					<span><%= data.artist || data.show_name %></span>\r\n					<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>\r\n				</span>\r\n			</div></div>\r\n		<% } %>\r\n		<div class="spp-stpd-track-title"><div class="spp-track-title-box">\r\n			<span class="spp-track-title-first-container">\r\n				<span><%= data.title %></span>\r\n				<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>\r\n			</span>\r\n			<span class="spp-track-title-second-container">\r\n				<span><%= data.title %></span>\r\n				<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>\r\n			</span>\r\n		</div></div>\r\n		<% if ( data.shortcode_options.email_portal !== "none" ) { %>\r\n			<button class="spp-news"><%= data.shortcode_options.email_outer_button_text.toLocaleString() %></button>\r\n		<% } %>\r\n	</div>\r\n	<div class="spp-stpd-controls-container">\r\n		<div class="spp-stpd-playback-controls">\r\n			<div class="spp-play-pause">\r\n				<div class="spp-control spp-play" aria-label="Play" tabindex="0">\r\n					<div class="spp-play-bar spp-play-bar-left"></div>\r\n					<div class="spp-play-bar spp-play-bar-right"></div>\r\n					<div class="spp-play-mask spp-play-mask-top"></div>\r\n					<div class="spp-play-mask spp-play-mask-bottom"></div>\r\n				</div>\r\n			</div>\r\n			<div class="spp-playback-controls-2">\r\n				<% if ( data.paid == "true" ) { %>\r\n					<% if ( data.speedcontrol == "true" ) { %>\r\n						<div class="spp-speed">\r\n							<svg xmlns="http://www.w3.org/2000/svg" class="spp-control spp-speed-050" tabindex="0" aria-labelledby="spp-svg-title-half-speed" role="img" viewBox="0 0 64 64">\n  <title id="spp-svg-title-half-speed">Speed: 50%</title>\n  <path id="_0.5" data-name="0.5" d="M64,224A32,32,0,1,1,8.42,202.42l4.243,4.243A25.988,25.988,0,1,0,34,198.1V208H28V192h6v0.1A31.974,31.974,0,0,1,64,224Zm-36.237.574a8.6,8.6,0,0,0-1.21-4.971,4.248,4.248,0,0,0-3.673-1.61,4.208,4.208,0,0,0-3.694,1.669,8.91,8.91,0,0,0-1.178,5.1v2.643a8.648,8.648,0,0,0,1.231,4.939A4.208,4.208,0,0,0,22.9,234a4.178,4.178,0,0,0,3.683-1.691,9.111,9.111,0,0,0,1.178-5.168v-2.568Zm-1.964,3.1a7.152,7.152,0,0,1-.738,3.574,2.369,2.369,0,0,1-2.16,1.134,2.4,2.4,0,0,1-2.2-1.2,7.416,7.416,0,0,1-.727-3.729v-3.167a7.132,7.132,0,0,1,.711-3.521,2.374,2.374,0,0,1,2.2-1.144,2.406,2.406,0,0,1,2.219,1.15,7.3,7.3,0,0,1,.7,3.665v3.242Zm4.1,5.9a1.168,1.168,0,0,0,.907.332,1.2,1.2,0,0,0,.918-0.332,1.155,1.155,0,0,0,.313-0.824,1.22,1.22,0,0,0-.313-0.856,1.183,1.183,0,0,0-.918-0.343,1.149,1.149,0,0,0-.907.343,1.244,1.244,0,0,0-.3.856A1.177,1.177,0,0,0,29.9,233.573Zm6.52-7.191,0.52-.428a3.219,3.219,0,0,1,2.017-.567,2.86,2.86,0,0,1,2.245.947,3.631,3.631,0,0,1,.844,2.509,3.955,3.955,0,0,1-.78,2.6,2.64,2.64,0,0,1-2.149.942,2.922,2.922,0,0,1-2.017-.679,3.155,3.155,0,0,1-.945-2.017H34.3a4.583,4.583,0,0,0,1.476,3.167A4.862,4.862,0,0,0,39.117,234a4.68,4.68,0,0,0,3.6-1.386,5.349,5.349,0,0,0,1.29-3.793,5.543,5.543,0,0,0-1.242-3.8,4.248,4.248,0,0,0-3.354-1.407,4.951,4.951,0,0,0-2.579.674l0.467-4.248h6.252v-1.83H35.635l-0.785,7.769Z" transform="translate(0 -192)"/>\n</svg>\n\r\n							<svg xmlns="http://www.w3.org/2000/svg" class="spp-control spp-speed-075" tabindex="0" aria-labelledby="spp-svg-title-three-quarter-speed" role="img" viewBox="0 0 64 64">\n  <title id="spp-svg-title-three-quarter-speed">Speed: 75%</title>\n  <path id="_.75" data-name=".75" d="M64,304A32,32,0,1,1,8.42,282.42l4.243,4.243A25.988,25.988,0,1,0,34,278.1V288H28V272h6v0.1A31.974,31.974,0,0,1,64,304Zm-44.689,9.567a1.172,1.172,0,0,0,.914.336,1.208,1.208,0,0,0,.925-0.336,1.175,1.175,0,0,0,.315-0.835,1.241,1.241,0,0,0-.315-0.868,1.184,1.184,0,0,0-.925-0.347,1.15,1.15,0,0,0-.914.347,1.267,1.267,0,0,0-.3.868A1.2,1.2,0,0,0,19.312,313.567Zm13.577-15.578H22.371v1.649h8.423L24.37,313.784h2.074l6.445-14.667v-1.128Zm3.457,8.288,0.524-.434a3.227,3.227,0,0,1,2.031-.575,2.87,2.87,0,0,1,2.261.96,3.7,3.7,0,0,1,.85,2.544,4.031,4.031,0,0,1-.786,2.636,2.65,2.65,0,0,1-2.164.955,2.932,2.932,0,0,1-2.031-.689,3.206,3.206,0,0,1-.951-2.045h-1.87a4.66,4.66,0,0,0,1.486,3.211A4.873,4.873,0,0,0,39.06,314a4.7,4.7,0,0,0,3.629-1.4,5.444,5.444,0,0,0,1.3-3.846,5.643,5.643,0,0,0-1.251-3.856,4.264,4.264,0,0,0-3.378-1.427,4.962,4.962,0,0,0-2.6.684l0.47-4.307h6.3v-1.855H35.554l-0.791,7.876Z" transform="translate(0 -272)"/>\n</svg>\n\r\n							<svg xmlns="http://www.w3.org/2000/svg" class="spp-control spp-speed-100" tabindex="0" aria-labelledby="spp-svg-title-normal-speed" role="img" viewBox="0 0 64 64">\n  <title id="spp-svg-title-normal-speed">Speed: Normal</title>\n  <path id="_1X" data-name="1X" d="M144,224a32,32,0,1,1-55.58-21.58l4.243,4.243A25.988,25.988,0,1,0,114,198.1V208h-6V192h6v0.1A31.974,31.974,0,0,1,144,224Zm-37.93-5.992h-0.314l-5.751,2.176v1.837l4.047-1.5v13.482h2.018v-16Zm5.772,0.076H109.4l5,7.9-5.121,8.026h2.463l3.906-6.211,3.884,6.211h2.474l-5.11-8.026,4.991-7.9h-2.452l-3.787,6.1Z" transform="translate(-80 -192)"/>\n</svg>\n\r\n							<svg xmlns="http://www.w3.org/2000/svg" class="spp-control spp-speed-125" tabindex="0" aria-labelledby="spp-svg-title-125-speed" role="img" viewBox="0 0 64 64">\n  <title id="spp-svg-title-125-speed">Speed: 125%</title>\n  <path id="_1.25" data-name="1.25" d="M144,304a32,32,0,1,1-55.58-21.58l4.243,4.243A25.988,25.988,0,1,0,114,278.1V288h-6V272h6v0.1A31.974,31.974,0,0,1,144,304Zm-44.913-5.868H98.772l-5.766,2.13v1.8l4.058-1.466v13.194h2.024V298.132Zm4.427,15.441a1.216,1.216,0,0,0,.931.332,1.252,1.252,0,0,0,.941-0.332,1.138,1.138,0,0,0,.321-0.824,1.2,1.2,0,0,0-.321-0.856,1.23,1.23,0,0,0-.941-0.343,1.2,1.2,0,0,0-.931.343,1.229,1.229,0,0,0-.31.856A1.164,1.164,0,0,0,103.514,313.573Zm14.971-1.4h-7.953l4.243-4.526q2.98-3.178,2.981-5.479a3.855,3.855,0,0,0-1.284-3.033,5.071,5.071,0,0,0-3.492-1.14,5.273,5.273,0,0,0-3.77,1.327A4.555,4.555,0,0,0,107.8,302.8h2.013a3.176,3.176,0,0,1,.832-2.338,3.139,3.139,0,0,1,2.334-.84,2.648,2.648,0,0,1,2,.781,2.768,2.768,0,0,1,.75,2,3.642,3.642,0,0,1-.462,1.76,12.855,12.855,0,0,1-1.681,2.209l-5.484,5.993v1.423h10.38v-1.616Zm3.729-5.789,0.533-.428a3.362,3.362,0,0,1,2.068-.567,2.968,2.968,0,0,1,2.3.947,3.579,3.579,0,0,1,.865,2.509,3.891,3.891,0,0,1-.8,2.6,2.735,2.735,0,0,1-2.2.942,3.041,3.041,0,0,1-2.067-.679,3.126,3.126,0,0,1-.969-2.017h-1.9a4.543,4.543,0,0,0,1.513,3.167A5.061,5.061,0,0,0,124.978,314a4.863,4.863,0,0,0,3.694-1.386,5.27,5.27,0,0,0,1.322-3.793,5.46,5.46,0,0,0-1.273-3.8,4.407,4.407,0,0,0-3.438-1.407,5.172,5.172,0,0,0-2.644.674l0.478-4.248h6.409v-1.83h-8.117l-0.805,7.769Z" transform="translate(-80 -272)"/>\n</svg>\n\r\n							<svg xmlns="http://www.w3.org/2000/svg" class="spp-control spp-speed-150" tabindex="0" aria-labelledby="spp-svg-title-150-speed" role="img" viewBox="0 0 64 64">\n  <title id="spp-svg-title-150-speed">Speed: 150%</title>\n  <path id="_1.5" data-name="1.5" d="M224,224a32,32,0,1,1-55.58-21.58l4.243,4.243A25.988,25.988,0,1,0,194,198.1V208h-6V192h6v0.1A31.974,31.974,0,0,1,224,224Zm-38.906-5.992h-0.316l-5.773,2.146v1.812l4.063-1.478v13.3h2.026V218.008Zm4.432,15.561a1.21,1.21,0,0,0,.931.335,1.246,1.246,0,0,0,.942-0.335,1.15,1.15,0,0,0,.322-0.83,1.151,1.151,0,0,0-1.264-1.208,1.189,1.189,0,0,0-.931.345,1.245,1.245,0,0,0-.311.863A1.171,1.171,0,0,0,189.526,233.569Zm6.69-7.247,0.534-.431a3.344,3.344,0,0,1,2.069-.572,2.962,2.962,0,0,1,2.3.955,3.62,3.62,0,0,1,.866,2.529,3.937,3.937,0,0,1-.8,2.62,2.731,2.731,0,0,1-2.206.949,3.036,3.036,0,0,1-2.069-.684,3.154,3.154,0,0,1-.969-2.033h-1.907a4.588,4.588,0,0,0,1.514,3.192A5.047,5.047,0,0,0,198.982,234a4.85,4.85,0,0,0,3.7-1.4A5.333,5.333,0,0,0,204,228.781a5.524,5.524,0,0,0-1.275-3.834,4.4,4.4,0,0,0-3.442-1.418,5.156,5.156,0,0,0-2.646.68l0.479-4.282h6.415v-1.844H195.41l-0.806,7.83Z" transform="translate(-160 -192)"/>\n</svg>\n\r\n							<svg xmlns="http://www.w3.org/2000/svg" class="spp-control spp-speed-175" tabindex="0" aria-labelledby="spp-svg-title-175-speed" role="img" viewBox="0 0 64 64">\n  <title id="spp-svg-title-175-speed">Speed: 175%</title>\n  <path id="_1.75" data-name="1.75" d="M224,304a32,32,0,1,1-55.58-21.58l4.243,4.243A25.988,25.988,0,1,0,194,278.1V288h-6V272h6v0.1A31.974,31.974,0,0,1,224,304Zm-44.022-5.992h-0.31l-5.663,2.146v1.812l3.985-1.478v13.3h1.988V298.008Zm4.348,15.561a1.173,1.173,0,0,0,.913.335,1.213,1.213,0,0,0,.925-0.335,1.161,1.161,0,0,0,.315-0.83,1.234,1.234,0,0,0-.315-0.863,1.192,1.192,0,0,0-.925-0.345,1.154,1.154,0,0,0-.913.345,1.259,1.259,0,0,0-.305.863A1.184,1.184,0,0,0,184.326,313.569ZM197.9,298.083H187.384v1.639h8.42l-6.422,14.063h2.073l6.443-14.58v-1.122Zm3.456,8.239,0.523-.431a3.238,3.238,0,0,1,2.03-.572,2.878,2.878,0,0,1,2.26.955,3.663,3.663,0,0,1,.85,2.529,3.988,3.988,0,0,1-.786,2.62,2.655,2.655,0,0,1-2.164.949,2.943,2.943,0,0,1-2.03-.684,3.18,3.18,0,0,1-.951-2.033h-1.869a4.621,4.621,0,0,0,1.485,3.192A4.89,4.89,0,0,0,204.067,314a4.709,4.709,0,0,0,3.628-1.4,5.4,5.4,0,0,0,1.3-3.823,5.59,5.59,0,0,0-1.25-3.834,4.274,4.274,0,0,0-3.376-1.418,4.985,4.985,0,0,0-2.6.68l0.47-4.282h6.294v-1.844h-7.971l-0.791,7.83Z" transform="translate(-160 -272)"/>\n</svg>\n\r\n							<svg xmlns="http://www.w3.org/2000/svg" class="spp-control spp-speed-200" tabindex="0" aria-labelledby="spp-svg-title-double-speed" role="img" viewBox="0 0 64 64">\n  <title id="spp-svg-title-double-speed">Speed: Double</title>\n  <path id="_2X" data-name="2X" d="M304,224a32,32,0,1,1-55.58-21.58l4.243,4.243A25.988,25.988,0,1,0,274,198.1V208h-6V192h6v0.1A31.974,31.974,0,0,1,304,224Zm-32.867,8.008H263.28l4.19-4.544q2.943-3.191,2.943-5.5a3.9,3.9,0,0,0-1.267-3.046,4.96,4.96,0,0,0-3.449-1.144,5.158,5.158,0,0,0-3.722,1.332,4.615,4.615,0,0,0-1.391,3.492h1.987a3.223,3.223,0,0,1,.822-2.348,3.07,3.07,0,0,1,2.3-.843,2.594,2.594,0,0,1,1.977.784,2.808,2.808,0,0,1,.741,2.009,3.7,3.7,0,0,1-.456,1.767,12.9,12.9,0,0,1-1.66,2.218l-5.414,6.016v1.429h10.248v-1.622Zm3.887-14.019H272.6l4.952,7.756-5.07,7.885h2.438l3.868-6.1,3.845,6.1h2.449l-5.059-7.885,4.941-7.756H282.54l-3.749,5.994Z" transform="translate(-240 -192)"/>\n</svg>\n\r\n							<svg xmlns="http://www.w3.org/2000/svg" class="spp-control spp-speed-300" tabindex="0" aria-labelledby="spp-svg-title-triple-speed" role="img" viewBox="0 0 64 64">\n  <title id="spp-svg-title-triple-speed">Speed: Triple</title>\n  <path id="_3X" data-name="3X" d="M384,224a32,32,0,1,1-55.58-21.58l4.243,4.243A25.988,25.988,0,1,0,354,198.1V208h-6V192h6v0.1A31.974,31.974,0,0,1,384,224Zm-39.87,2.65H345.6a3.56,3.56,0,0,1,2.378.749,2.633,2.633,0,0,1,.825,2.086,2.622,2.622,0,0,1-2.918,2.9,2.991,2.991,0,0,1-2.124-.738,2.561,2.561,0,0,1-.793-1.969H341a3.963,3.963,0,0,0,1.358,3.135A5.161,5.161,0,0,0,345.884,234a5.026,5.026,0,0,0,3.52-1.231,4.274,4.274,0,0,0,1.353-3.328,3.6,3.6,0,0,0-2.653-3.648,3.93,3.93,0,0,0,1.77-1.423,3.447,3.447,0,0,0,.651-1.969,4.245,4.245,0,0,0-1.237-3.243,4.781,4.781,0,0,0-3.414-1.166,4.838,4.838,0,0,0-3.4,1.225,4,4,0,0,0-1.338,3.077h1.956a2.58,2.58,0,0,1,.756-1.942,2.78,2.78,0,0,1,2.024-.733,2.4,2.4,0,0,1,2.695,2.739,2.481,2.481,0,0,1-.793,1.937,3.2,3.2,0,0,1-2.177.738H344.13v1.616Zm9.965-8.443h-2.378l4.873,7.726-4.989,7.854H354l3.805-6.078,3.784,6.078H364l-4.978-7.854,4.862-7.726h-2.389l-3.689,5.971Z" transform="translate(-320 -192)"/>\n</svg>\n\r\n						</div>\r\n					<% } %>\r\n				<% } %>\r\n				<div class="spp-step-back">\r\n					<svg xmlns="http://www.w3.org/2000/svg" class="spp-control" tabindex="0" aria-labelledby="spp-svg-title-back-15" role="img" viewBox="0 0 76.344 44">\n  <title id="spp-svg-title-back-15">Back 15 seconds</title>\n  <path id="RW_15" d="M36.645,62.008H36.318L31,64.289v1.927l3.566-1.571V78.784h2.074V62.008Zm7.418,8.841,0.548-.539a2.444,2.444,0,0,1,1.643-.528,2.284,2.284,0,0,1,1.963,1.032,4.533,4.533,0,0,1,.728,2.672,4.978,4.978,0,0,1-.676,2.769,2.129,2.129,0,0,1-1.876,1.026,2.208,2.208,0,0,1-1.719-.728,3.854,3.854,0,0,1-.833-2.161H41.907a5.286,5.286,0,0,0,1.375,3.394,4.573,4.573,0,0,0,6.485-.252A6.182,6.182,0,0,0,51,73.463a6.653,6.653,0,0,0-1.13-4.071,3.669,3.669,0,0,0-3.111-1.514,3.908,3.908,0,0,0-2.261.722l0.4-4.552h5.64V62.088H43.153l-0.734,8.325ZM75,73A33,33,0,0,0,9,73h4.67l-6,8-6-8H6a36,36,0,0,1,72,0H75Z" transform="translate(-1.656 -37)"/>\n</svg>\n\r\n				</div>\r\n				<div class="spp-step-forward">\r\n					<svg xmlns="http://www.w3.org/2000/svg" class="spp-control" tabindex="0" aria-labelledby="spp-svg-title-forward-60" role="img" viewBox="0 0 76.344 44">\n  <title id="spp-svg-title-forward-60">Forward 60 seconds</title>\n  <path id="FF-60" d="M185.75,62.229a6.816,6.816,0,0,0-3.714,1.017,6,6,0,0,0-2.261,3.006,15.677,15.677,0,0,0-.768,5.432V72.49a7.977,7.977,0,0,0,1.276,4.739,3.949,3.949,0,0,0,3.365,1.784,4.057,4.057,0,0,0,3.313-1.511,6.32,6.32,0,0,0,1.234-4.114,6.47,6.47,0,0,0-1.116-3.949,3.561,3.561,0,0,0-3.017-1.506,3.631,3.631,0,0,0-2.929,1.386,6.42,6.42,0,0,1,1.358-3.949,4.31,4.31,0,0,1,3.271-1.358H186.1V62.229H185.75Zm-0.271,8.517a5.133,5.133,0,0,1,.661,2.744,5.06,5.06,0,0,1-.661,2.744,2.063,2.063,0,0,1-1.831,1.04,2.121,2.121,0,0,1-1.812-1.267,6.448,6.448,0,0,1-.739-3.278V71.9a3.519,3.519,0,0,1,1.04-1.591,2.347,2.347,0,0,1,1.57-.625A2.01,2.01,0,0,1,185.479,70.746Zm15.53-1.915a9.746,9.746,0,0,0-1.175-5.125,4.313,4.313,0,0,0-6.92.091,10.389,10.389,0,0,0-1.116,5.409v2.841a9.939,9.939,0,0,0,1.18,5.227A4.261,4.261,0,0,0,199.9,77.2a10.684,10.684,0,0,0,1.11-5.472v-2.9Zm-2.09,3.443a9.267,9.267,0,0,1-.626,3.784,1.977,1.977,0,0,1-1.878,1.239,2.027,2.027,0,0,1-1.913-1.312,9.5,9.5,0,0,1-.626-3.926V68.649a8.876,8.876,0,0,1,.626-3.687,1.984,1.984,0,0,1,1.889-1.222,2.008,2.008,0,0,1,1.925,1.244,9.341,9.341,0,0,1,.6,3.869v3.42ZM157,73a33,33,0,0,1,66,0h-4.67l6,8,6-8H226a36,36,0,0,0-72,0h3Z" transform="translate(-154 -37)"/>\n</svg>\n\r\n				</div>\r\n			</div>\r\n		</div>\r\n	</div>\r\n	<% if ( data.shortcode_options.email_portal !== "none" ) { %>\r\n		<button class="spp-news spp-sticky-news"><%= data.shortcode_options.email_outer_button_text.toLocaleString() %></button>\r\n	<% } %>\r\n</div>\r\n\r\n<div class="spp-main-separator"></div>\r\n\r\n<div class="spp-truncated-show-notes">\r\n	<%= data.truncated_show_notes_140 %>\r\n	<span class="spp-control spp-more-show-notes" tabindex="0"><u><%="more".toLocaleString()%></u></span>\r\n</div>\r\n\r\n<% if ( data.shortcode_options.show_tags !== "false" ) { %>\r\n	<ul class="spp-tag-list"></ul>\r\n<% } %>\r\n\r\n<div class="spp-controls">\r\n	<div class="spp-speed">\r\n	<% if ( data.paid == "true" ) { %>\r\n		<% if ( data.speedcontrol == "true" ) { %>\r\n			<svg xmlns="http://www.w3.org/2000/svg" class="spp-control spp-speed-050" tabindex="0" aria-labelledby="spp-svg-title-half-speed" role="img" viewBox="0 0 64 64">\n  <title id="spp-svg-title-half-speed">Speed: 50%</title>\n  <path id="_0.5" data-name="0.5" d="M64,224A32,32,0,1,1,8.42,202.42l4.243,4.243A25.988,25.988,0,1,0,34,198.1V208H28V192h6v0.1A31.974,31.974,0,0,1,64,224Zm-36.237.574a8.6,8.6,0,0,0-1.21-4.971,4.248,4.248,0,0,0-3.673-1.61,4.208,4.208,0,0,0-3.694,1.669,8.91,8.91,0,0,0-1.178,5.1v2.643a8.648,8.648,0,0,0,1.231,4.939A4.208,4.208,0,0,0,22.9,234a4.178,4.178,0,0,0,3.683-1.691,9.111,9.111,0,0,0,1.178-5.168v-2.568Zm-1.964,3.1a7.152,7.152,0,0,1-.738,3.574,2.369,2.369,0,0,1-2.16,1.134,2.4,2.4,0,0,1-2.2-1.2,7.416,7.416,0,0,1-.727-3.729v-3.167a7.132,7.132,0,0,1,.711-3.521,2.374,2.374,0,0,1,2.2-1.144,2.406,2.406,0,0,1,2.219,1.15,7.3,7.3,0,0,1,.7,3.665v3.242Zm4.1,5.9a1.168,1.168,0,0,0,.907.332,1.2,1.2,0,0,0,.918-0.332,1.155,1.155,0,0,0,.313-0.824,1.22,1.22,0,0,0-.313-0.856,1.183,1.183,0,0,0-.918-0.343,1.149,1.149,0,0,0-.907.343,1.244,1.244,0,0,0-.3.856A1.177,1.177,0,0,0,29.9,233.573Zm6.52-7.191,0.52-.428a3.219,3.219,0,0,1,2.017-.567,2.86,2.86,0,0,1,2.245.947,3.631,3.631,0,0,1,.844,2.509,3.955,3.955,0,0,1-.78,2.6,2.64,2.64,0,0,1-2.149.942,2.922,2.922,0,0,1-2.017-.679,3.155,3.155,0,0,1-.945-2.017H34.3a4.583,4.583,0,0,0,1.476,3.167A4.862,4.862,0,0,0,39.117,234a4.68,4.68,0,0,0,3.6-1.386,5.349,5.349,0,0,0,1.29-3.793,5.543,5.543,0,0,0-1.242-3.8,4.248,4.248,0,0,0-3.354-1.407,4.951,4.951,0,0,0-2.579.674l0.467-4.248h6.252v-1.83H35.635l-0.785,7.769Z" transform="translate(0 -192)"/>\n</svg>\n\r\n			<svg xmlns="http://www.w3.org/2000/svg" class="spp-control spp-speed-075" tabindex="0" aria-labelledby="spp-svg-title-three-quarter-speed" role="img" viewBox="0 0 64 64">\n  <title id="spp-svg-title-three-quarter-speed">Speed: 75%</title>\n  <path id="_.75" data-name=".75" d="M64,304A32,32,0,1,1,8.42,282.42l4.243,4.243A25.988,25.988,0,1,0,34,278.1V288H28V272h6v0.1A31.974,31.974,0,0,1,64,304Zm-44.689,9.567a1.172,1.172,0,0,0,.914.336,1.208,1.208,0,0,0,.925-0.336,1.175,1.175,0,0,0,.315-0.835,1.241,1.241,0,0,0-.315-0.868,1.184,1.184,0,0,0-.925-0.347,1.15,1.15,0,0,0-.914.347,1.267,1.267,0,0,0-.3.868A1.2,1.2,0,0,0,19.312,313.567Zm13.577-15.578H22.371v1.649h8.423L24.37,313.784h2.074l6.445-14.667v-1.128Zm3.457,8.288,0.524-.434a3.227,3.227,0,0,1,2.031-.575,2.87,2.87,0,0,1,2.261.96,3.7,3.7,0,0,1,.85,2.544,4.031,4.031,0,0,1-.786,2.636,2.65,2.65,0,0,1-2.164.955,2.932,2.932,0,0,1-2.031-.689,3.206,3.206,0,0,1-.951-2.045h-1.87a4.66,4.66,0,0,0,1.486,3.211A4.873,4.873,0,0,0,39.06,314a4.7,4.7,0,0,0,3.629-1.4,5.444,5.444,0,0,0,1.3-3.846,5.643,5.643,0,0,0-1.251-3.856,4.264,4.264,0,0,0-3.378-1.427,4.962,4.962,0,0,0-2.6.684l0.47-4.307h6.3v-1.855H35.554l-0.791,7.876Z" transform="translate(0 -272)"/>\n</svg>\n\r\n			<svg xmlns="http://www.w3.org/2000/svg" class="spp-control spp-speed-100" tabindex="0" aria-labelledby="spp-svg-title-normal-speed" role="img" viewBox="0 0 64 64">\n  <title id="spp-svg-title-normal-speed">Speed: Normal</title>\n  <path id="_1X" data-name="1X" d="M144,224a32,32,0,1,1-55.58-21.58l4.243,4.243A25.988,25.988,0,1,0,114,198.1V208h-6V192h6v0.1A31.974,31.974,0,0,1,144,224Zm-37.93-5.992h-0.314l-5.751,2.176v1.837l4.047-1.5v13.482h2.018v-16Zm5.772,0.076H109.4l5,7.9-5.121,8.026h2.463l3.906-6.211,3.884,6.211h2.474l-5.11-8.026,4.991-7.9h-2.452l-3.787,6.1Z" transform="translate(-80 -192)"/>\n</svg>\n\r\n			<svg xmlns="http://www.w3.org/2000/svg" class="spp-control spp-speed-125" tabindex="0" aria-labelledby="spp-svg-title-125-speed" role="img" viewBox="0 0 64 64">\n  <title id="spp-svg-title-125-speed">Speed: 125%</title>\n  <path id="_1.25" data-name="1.25" d="M144,304a32,32,0,1,1-55.58-21.58l4.243,4.243A25.988,25.988,0,1,0,114,278.1V288h-6V272h6v0.1A31.974,31.974,0,0,1,144,304Zm-44.913-5.868H98.772l-5.766,2.13v1.8l4.058-1.466v13.194h2.024V298.132Zm4.427,15.441a1.216,1.216,0,0,0,.931.332,1.252,1.252,0,0,0,.941-0.332,1.138,1.138,0,0,0,.321-0.824,1.2,1.2,0,0,0-.321-0.856,1.23,1.23,0,0,0-.941-0.343,1.2,1.2,0,0,0-.931.343,1.229,1.229,0,0,0-.31.856A1.164,1.164,0,0,0,103.514,313.573Zm14.971-1.4h-7.953l4.243-4.526q2.98-3.178,2.981-5.479a3.855,3.855,0,0,0-1.284-3.033,5.071,5.071,0,0,0-3.492-1.14,5.273,5.273,0,0,0-3.77,1.327A4.555,4.555,0,0,0,107.8,302.8h2.013a3.176,3.176,0,0,1,.832-2.338,3.139,3.139,0,0,1,2.334-.84,2.648,2.648,0,0,1,2,.781,2.768,2.768,0,0,1,.75,2,3.642,3.642,0,0,1-.462,1.76,12.855,12.855,0,0,1-1.681,2.209l-5.484,5.993v1.423h10.38v-1.616Zm3.729-5.789,0.533-.428a3.362,3.362,0,0,1,2.068-.567,2.968,2.968,0,0,1,2.3.947,3.579,3.579,0,0,1,.865,2.509,3.891,3.891,0,0,1-.8,2.6,2.735,2.735,0,0,1-2.2.942,3.041,3.041,0,0,1-2.067-.679,3.126,3.126,0,0,1-.969-2.017h-1.9a4.543,4.543,0,0,0,1.513,3.167A5.061,5.061,0,0,0,124.978,314a4.863,4.863,0,0,0,3.694-1.386,5.27,5.27,0,0,0,1.322-3.793,5.46,5.46,0,0,0-1.273-3.8,4.407,4.407,0,0,0-3.438-1.407,5.172,5.172,0,0,0-2.644.674l0.478-4.248h6.409v-1.83h-8.117l-0.805,7.769Z" transform="translate(-80 -272)"/>\n</svg>\n\r\n			<svg xmlns="http://www.w3.org/2000/svg" class="spp-control spp-speed-150" tabindex="0" aria-labelledby="spp-svg-title-150-speed" role="img" viewBox="0 0 64 64">\n  <title id="spp-svg-title-150-speed">Speed: 150%</title>\n  <path id="_1.5" data-name="1.5" d="M224,224a32,32,0,1,1-55.58-21.58l4.243,4.243A25.988,25.988,0,1,0,194,198.1V208h-6V192h6v0.1A31.974,31.974,0,0,1,224,224Zm-38.906-5.992h-0.316l-5.773,2.146v1.812l4.063-1.478v13.3h2.026V218.008Zm4.432,15.561a1.21,1.21,0,0,0,.931.335,1.246,1.246,0,0,0,.942-0.335,1.15,1.15,0,0,0,.322-0.83,1.151,1.151,0,0,0-1.264-1.208,1.189,1.189,0,0,0-.931.345,1.245,1.245,0,0,0-.311.863A1.171,1.171,0,0,0,189.526,233.569Zm6.69-7.247,0.534-.431a3.344,3.344,0,0,1,2.069-.572,2.962,2.962,0,0,1,2.3.955,3.62,3.62,0,0,1,.866,2.529,3.937,3.937,0,0,1-.8,2.62,2.731,2.731,0,0,1-2.206.949,3.036,3.036,0,0,1-2.069-.684,3.154,3.154,0,0,1-.969-2.033h-1.907a4.588,4.588,0,0,0,1.514,3.192A5.047,5.047,0,0,0,198.982,234a4.85,4.85,0,0,0,3.7-1.4A5.333,5.333,0,0,0,204,228.781a5.524,5.524,0,0,0-1.275-3.834,4.4,4.4,0,0,0-3.442-1.418,5.156,5.156,0,0,0-2.646.68l0.479-4.282h6.415v-1.844H195.41l-0.806,7.83Z" transform="translate(-160 -192)"/>\n</svg>\n\r\n			<svg xmlns="http://www.w3.org/2000/svg" class="spp-control spp-speed-175" tabindex="0" aria-labelledby="spp-svg-title-175-speed" role="img" viewBox="0 0 64 64">\n  <title id="spp-svg-title-175-speed">Speed: 175%</title>\n  <path id="_1.75" data-name="1.75" d="M224,304a32,32,0,1,1-55.58-21.58l4.243,4.243A25.988,25.988,0,1,0,194,278.1V288h-6V272h6v0.1A31.974,31.974,0,0,1,224,304Zm-44.022-5.992h-0.31l-5.663,2.146v1.812l3.985-1.478v13.3h1.988V298.008Zm4.348,15.561a1.173,1.173,0,0,0,.913.335,1.213,1.213,0,0,0,.925-0.335,1.161,1.161,0,0,0,.315-0.83,1.234,1.234,0,0,0-.315-0.863,1.192,1.192,0,0,0-.925-0.345,1.154,1.154,0,0,0-.913.345,1.259,1.259,0,0,0-.305.863A1.184,1.184,0,0,0,184.326,313.569ZM197.9,298.083H187.384v1.639h8.42l-6.422,14.063h2.073l6.443-14.58v-1.122Zm3.456,8.239,0.523-.431a3.238,3.238,0,0,1,2.03-.572,2.878,2.878,0,0,1,2.26.955,3.663,3.663,0,0,1,.85,2.529,3.988,3.988,0,0,1-.786,2.62,2.655,2.655,0,0,1-2.164.949,2.943,2.943,0,0,1-2.03-.684,3.18,3.18,0,0,1-.951-2.033h-1.869a4.621,4.621,0,0,0,1.485,3.192A4.89,4.89,0,0,0,204.067,314a4.709,4.709,0,0,0,3.628-1.4,5.4,5.4,0,0,0,1.3-3.823,5.59,5.59,0,0,0-1.25-3.834,4.274,4.274,0,0,0-3.376-1.418,4.985,4.985,0,0,0-2.6.68l0.47-4.282h6.294v-1.844h-7.971l-0.791,7.83Z" transform="translate(-160 -272)"/>\n</svg>\n\r\n			<svg xmlns="http://www.w3.org/2000/svg" class="spp-control spp-speed-200" tabindex="0" aria-labelledby="spp-svg-title-double-speed" role="img" viewBox="0 0 64 64">\n  <title id="spp-svg-title-double-speed">Speed: Double</title>\n  <path id="_2X" data-name="2X" d="M304,224a32,32,0,1,1-55.58-21.58l4.243,4.243A25.988,25.988,0,1,0,274,198.1V208h-6V192h6v0.1A31.974,31.974,0,0,1,304,224Zm-32.867,8.008H263.28l4.19-4.544q2.943-3.191,2.943-5.5a3.9,3.9,0,0,0-1.267-3.046,4.96,4.96,0,0,0-3.449-1.144,5.158,5.158,0,0,0-3.722,1.332,4.615,4.615,0,0,0-1.391,3.492h1.987a3.223,3.223,0,0,1,.822-2.348,3.07,3.07,0,0,1,2.3-.843,2.594,2.594,0,0,1,1.977.784,2.808,2.808,0,0,1,.741,2.009,3.7,3.7,0,0,1-.456,1.767,12.9,12.9,0,0,1-1.66,2.218l-5.414,6.016v1.429h10.248v-1.622Zm3.887-14.019H272.6l4.952,7.756-5.07,7.885h2.438l3.868-6.1,3.845,6.1h2.449l-5.059-7.885,4.941-7.756H282.54l-3.749,5.994Z" transform="translate(-240 -192)"/>\n</svg>\n\r\n			<svg xmlns="http://www.w3.org/2000/svg" class="spp-control spp-speed-300" tabindex="0" aria-labelledby="spp-svg-title-triple-speed" role="img" viewBox="0 0 64 64">\n  <title id="spp-svg-title-triple-speed">Speed: Triple</title>\n  <path id="_3X" data-name="3X" d="M384,224a32,32,0,1,1-55.58-21.58l4.243,4.243A25.988,25.988,0,1,0,354,198.1V208h-6V192h6v0.1A31.974,31.974,0,0,1,384,224Zm-39.87,2.65H345.6a3.56,3.56,0,0,1,2.378.749,2.633,2.633,0,0,1,.825,2.086,2.622,2.622,0,0,1-2.918,2.9,2.991,2.991,0,0,1-2.124-.738,2.561,2.561,0,0,1-.793-1.969H341a3.963,3.963,0,0,0,1.358,3.135A5.161,5.161,0,0,0,345.884,234a5.026,5.026,0,0,0,3.52-1.231,4.274,4.274,0,0,0,1.353-3.328,3.6,3.6,0,0,0-2.653-3.648,3.93,3.93,0,0,0,1.77-1.423,3.447,3.447,0,0,0,.651-1.969,4.245,4.245,0,0,0-1.237-3.243,4.781,4.781,0,0,0-3.414-1.166,4.838,4.838,0,0,0-3.4,1.225,4,4,0,0,0-1.338,3.077h1.956a2.58,2.58,0,0,1,.756-1.942,2.78,2.78,0,0,1,2.024-.733,2.4,2.4,0,0,1,2.695,2.739,2.481,2.481,0,0,1-.793,1.937,3.2,3.2,0,0,1-2.177.738H344.13v1.616Zm9.965-8.443h-2.378l4.873,7.726-4.989,7.854H354l3.805-6.078,3.784,6.078H364l-4.978-7.854,4.862-7.726h-2.389l-3.689,5.971Z" transform="translate(-320 -192)"/>\n</svg>\n\r\n		<% } %>\r\n	<% } %>\r\n	</div>\r\n	<div class="spp-step-back">\r\n		<svg xmlns="http://www.w3.org/2000/svg" class="spp-control" tabindex="0" aria-labelledby="spp-svg-title-back-15" role="img" viewBox="0 0 76.344 44">\n  <title id="spp-svg-title-back-15">Back 15 seconds</title>\n  <path id="RW_15" d="M36.645,62.008H36.318L31,64.289v1.927l3.566-1.571V78.784h2.074V62.008Zm7.418,8.841,0.548-.539a2.444,2.444,0,0,1,1.643-.528,2.284,2.284,0,0,1,1.963,1.032,4.533,4.533,0,0,1,.728,2.672,4.978,4.978,0,0,1-.676,2.769,2.129,2.129,0,0,1-1.876,1.026,2.208,2.208,0,0,1-1.719-.728,3.854,3.854,0,0,1-.833-2.161H41.907a5.286,5.286,0,0,0,1.375,3.394,4.573,4.573,0,0,0,6.485-.252A6.182,6.182,0,0,0,51,73.463a6.653,6.653,0,0,0-1.13-4.071,3.669,3.669,0,0,0-3.111-1.514,3.908,3.908,0,0,0-2.261.722l0.4-4.552h5.64V62.088H43.153l-0.734,8.325ZM75,73A33,33,0,0,0,9,73h4.67l-6,8-6-8H6a36,36,0,0,1,72,0H75Z" transform="translate(-1.656 -37)"/>\n</svg>\n\r\n	</div>\r\n	<div class="spp-play-pause-circle">\r\n		<div class="spp-play-invisisquare">\r\n			<div class="spp-control spp-play" aria-label="Play" tabindex="0">\r\n				<div class="spp-play-bar spp-play-bar-left"></div>\r\n				<div class="spp-play-bar spp-play-bar-right"></div>\r\n				<div class="spp-play-mask spp-play-mask-top"></div>\r\n				<div class="spp-play-mask spp-play-mask-bottom"></div>\r\n			</div>\r\n		</div>\r\n	</div>\r\n	<div class="spp-step-forward">\r\n		<svg xmlns="http://www.w3.org/2000/svg" class="spp-control" tabindex="0" aria-labelledby="spp-svg-title-forward-60" role="img" viewBox="0 0 76.344 44">\n  <title id="spp-svg-title-forward-60">Forward 60 seconds</title>\n  <path id="FF-60" d="M185.75,62.229a6.816,6.816,0,0,0-3.714,1.017,6,6,0,0,0-2.261,3.006,15.677,15.677,0,0,0-.768,5.432V72.49a7.977,7.977,0,0,0,1.276,4.739,3.949,3.949,0,0,0,3.365,1.784,4.057,4.057,0,0,0,3.313-1.511,6.32,6.32,0,0,0,1.234-4.114,6.47,6.47,0,0,0-1.116-3.949,3.561,3.561,0,0,0-3.017-1.506,3.631,3.631,0,0,0-2.929,1.386,6.42,6.42,0,0,1,1.358-3.949,4.31,4.31,0,0,1,3.271-1.358H186.1V62.229H185.75Zm-0.271,8.517a5.133,5.133,0,0,1,.661,2.744,5.06,5.06,0,0,1-.661,2.744,2.063,2.063,0,0,1-1.831,1.04,2.121,2.121,0,0,1-1.812-1.267,6.448,6.448,0,0,1-.739-3.278V71.9a3.519,3.519,0,0,1,1.04-1.591,2.347,2.347,0,0,1,1.57-.625A2.01,2.01,0,0,1,185.479,70.746Zm15.53-1.915a9.746,9.746,0,0,0-1.175-5.125,4.313,4.313,0,0,0-6.92.091,10.389,10.389,0,0,0-1.116,5.409v2.841a9.939,9.939,0,0,0,1.18,5.227A4.261,4.261,0,0,0,199.9,77.2a10.684,10.684,0,0,0,1.11-5.472v-2.9Zm-2.09,3.443a9.267,9.267,0,0,1-.626,3.784,1.977,1.977,0,0,1-1.878,1.239,2.027,2.027,0,0,1-1.913-1.312,9.5,9.5,0,0,1-.626-3.926V68.649a8.876,8.876,0,0,1,.626-3.687,1.984,1.984,0,0,1,1.889-1.222,2.008,2.008,0,0,1,1.925,1.244,9.341,9.341,0,0,1,.6,3.869v3.42ZM157,73a33,33,0,0,1,66,0h-4.67l6,8,6-8H226a36,36,0,0,0-72,0h3Z" transform="translate(-154 -37)"/>\n</svg>\n\r\n	</div>\r\n	<% if ( !data.isStp\r\n			|| data.social && data.social !== "false" &&\r\n				( (data.isSticky && data.download == "true")\r\n				|| data.social_facebook === "true" || data.social_twitter === "true"\r\n				|| data.social_gplus === "true" || data.social_linkedin === "true"\r\n				|| data.social_pinterest === "true" || data.social_email === "true")\r\n			|| data.subscribe && data.subscribe !== "false" && \r\n				(  data.subscribe_itunes || data.subscribe_buzzsprout || data.subscribe_googleplay\r\n				|| data.subscribe_iheartradio || data.subscribe_pocketcasts || data.subscribe_soundcloud\r\n				|| data.subscribe_stitcher || data.subscribe_rss ) ) { %>\r\n		<div class="spp-more">\r\n			<svg xmlns="http://www.w3.org/2000/svg" class="spp-control" tabindex="0" aria-labelledby="spp-svg-title-more" role="img" viewBox="0 0 32 32">\n  <title id="spp-svg-title-more">More</title>\n  <path id="More" d="M216,128a16,16,0,1,1,16-16A16,16,0,0,1,216,128Zm0-29a13,13,0,1,0,13,13A13,13,0,0,0,216,99Zm6,15a2,2,0,1,1,2-2A2,2,0,0,1,222,114Zm-6,0a2,2,0,1,1,2-2A2,2,0,0,1,216,114Zm-6,0a2,2,0,1,1,2-2A2,2,0,0,1,210,114Z" transform="translate(-200 -96)"/>\n</svg>\n\r\n		</div>\r\n	<% } %>\r\n</div>\r\n<div class="spp-sticky-expanded-header"><%= "Currently Playing".toLocaleString() %></div>\r\n<div class="spp-sticky-expand">\r\n	<?xml version="1.0" encoding="UTF-8"?>\n<svg viewBox="0 0 15 8" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <path stroke="none" stroke-width="1" fill-rule="evenodd" transform="translate(-13.000000, -15.000000)" d="M20.3876042,15.0054326 C20.14278,15.0294623 19.909657,15.1291765 19.7222326,15.2937705 L13.4247723,20.8298584 C13.1811206,21.0413062 13.0300115,21.3428692 13.0042519,21.6684527 C12.9773108,21.9952356 13.0792217,22.3184201 13.2865611,22.5671135 C13.4927279,22.8158038 13.7879289,22.9707866 14.1053808,22.9960065 C14.4240023,23.0212357 14.7379457,22.9167144 14.9804279,22.704064 L20.5000019,17.8504528 L26.0195759,22.704064 C26.2620551,22.9167144 26.5760015,23.0224506 26.894623,22.9960065 C27.2120749,22.9707774 27.5072759,22.8157946 27.7134427,22.5671135 C27.9207821,22.3184232 28.022678,21.9952356 27.9957519,21.6696521 C27.9699803,21.3428692 27.8188712,21.0413062 27.5752315,20.8298584 L21.2777712,15.2937705 C21.0306049,15.0787181 20.7096503,14.9741844 20.3874903,15.0054326 L20.3876042,15.0054326 Z" id="Fill-1"></path>\n</svg>\r\n</div>\r\n\r\n<div class="spp-stpd-download-share-controls">\r\n		\r\n	<% if ( data.paid == "true" ) { %>\r\n	\r\n		<% if ( data.download == "true" ) { %>\r\n			<% var valid_title = data.title.indexOf(">") == -1; %>\r\n			<% if (valid_title) { %>\r\n				<a class="spp-button-download spp-control" href="<%= data.download_url %>" target="_blank" download="<%= data.title %>">\r\n					<svg xmlns="http://www.w3.org/2000/svg" class="spp-control spp-dss-image spp-download-image" aria-labelledby="spp-svg-title-download" role="img" width="24" height="24" viewBox="0 0 24 24">\n  <title id="spp-svg-title-download">Download</title>\n  <path id="Download" d="M23,24H1a1,1,0,0,1-1-1V19a1,1,0,1,1,2,0v3H22V19a1,1,0,0,1,2,0v4A1,1,0,0,1,23,24ZM12.753,17.661c-0.015.018-.019,0.04-0.036,0.057a1.031,1.031,0,0,1-1.435,0c-0.018-.018-0.025-0.043-0.041-0.062L6.282,12.7A1,1,0,0,1,7.7,11.282l3.3,3.3V1a1,1,0,0,1,2,0V14.586l3.3-3.3A1,1,0,0,1,17.718,12.7Z"/>\n</svg>\n\r\n				</a>\r\n			<% } else { %>\r\n				<a class="spp-button-download spp-control" href="<%= data.download_url %>" target="_blank" download>\r\n					<svg xmlns="http://www.w3.org/2000/svg" class="spp-control spp-dss-image spp-download-image" aria-labelledby="spp-svg-title-download" role="img" width="24" height="24" viewBox="0 0 24 24">\n  <title id="spp-svg-title-download">Download</title>\n  <path id="Download" d="M23,24H1a1,1,0,0,1-1-1V19a1,1,0,1,1,2,0v3H22V19a1,1,0,0,1,2,0v4A1,1,0,0,1,23,24ZM12.753,17.661c-0.015.018-.019,0.04-0.036,0.057a1.031,1.031,0,0,1-1.435,0c-0.018-.018-0.025-0.043-0.041-0.062L6.282,12.7A1,1,0,0,1,7.7,11.282l3.3,3.3V1a1,1,0,0,1,2,0V14.586l3.3-3.3A1,1,0,0,1,17.718,12.7Z"/>\n</svg>\n\r\n				</a>\r\n			<% } %>\r\n		<% } %>\r\n		\r\n		<% if ( (data.social && data.social !== "false") || data.subscribe && data.subscribe !== "false" && \r\n				(  data.subscribe_itunes || data.subscribe_buzzsprout || data.subscribe_googleplay\r\n				|| data.subscribe_iheartradio || data.subscribe_pocketcasts || data.subscribe_soundcloud\r\n				|| data.subscribe_stitcher || data.subscribe_rss ) ) { %>\r\n			<div class="spp-more">\r\n				<svg xmlns="http://www.w3.org/2000/svg" class="spp-control" tabindex="0" aria-labelledby="spp-svg-title-more" role="img" viewBox="0 0 32 32">\n  <title id="spp-svg-title-more">More</title>\n  <path id="More" d="M216,128a16,16,0,1,1,16-16A16,16,0,0,1,216,128Zm0-29a13,13,0,1,0,13,13A13,13,0,0,0,216,99Zm6,15a2,2,0,1,1,2-2A2,2,0,0,1,222,114Zm-6,0a2,2,0,1,1,2-2A2,2,0,0,1,216,114Zm-6,0a2,2,0,1,1,2-2A2,2,0,0,1,210,114Z" transform="translate(-200 -96)"/>\n</svg>\n\r\n			</div>\r\n		<% } %>\r\n		<iframe class="spp-downloader" style="display:none"></iframe>\r\n	<% } %>\r\n</div>\r\n\r\n<div class="spp-progress-bar-region"></div>\r\n'
}),p("text!templates/download-subscribe-share-template.html",[],function(){return'<% if ( data.download == "true" && !data.isCurrentlyStpDesktop) { %>\r\n	<div class="spp-dss-row">\r\n		<a class="spp-button-download spp-control" href="<%= data.download_url %>" target="_blank" download="<%= data.title %>">\r\n			<svg xmlns="http://www.w3.org/2000/svg" class="spp-control spp-dss-image spp-download-image" aria-labelledby="spp-svg-title-download" role="img" width="24" height="24" viewBox="0 0 24 24">\n  <title id="spp-svg-title-download">Download</title>\n  <path id="Download" d="M23,24H1a1,1,0,0,1-1-1V19a1,1,0,1,1,2,0v3H22V19a1,1,0,0,1,2,0v4A1,1,0,0,1,23,24ZM12.753,17.661c-0.015.018-.019,0.04-0.036,0.057a1.031,1.031,0,0,1-1.435,0c-0.018-.018-0.025-0.043-0.041-0.062L6.282,12.7A1,1,0,0,1,7.7,11.282l3.3,3.3V1a1,1,0,0,1,2,0V14.586l3.3-3.3A1,1,0,0,1,17.718,12.7Z"/>\n</svg>\n\r\n		</a>\r\n		<div class="spp-dss-download-text">\r\n			<div class="spp-dss-download-text-2">\r\n				<a class="spp-button-download" href="<%= data.download_url %>" target="_blank" download="<%= data.title %>" tabindex="-1">\r\n					<%="Download".toLocaleString()%>\r\n				</a>\r\n			</div>\r\n		</div>\r\n	</div>\r\n<% } %>\r\n<% if ( \r\n		( data.subscribe_itunes !== "" && data.subscribe_itunes !== "false" ) ||\r\n		( data.subscribe_buzzsprout !== "" && data.subscribe_buzzsprout !== "false" ) ||\r\n		( data.subscribe_googleplay !== "" && data.subscribe_googleplay !== "false" ) ||\r\n		( data.subscribe_iheartradio !== "" && data.subscribe_iheartradio !== "false" ) ||\r\n		( data.subscribe_pocketcasts !== "" && data.subscribe_pocketcasts !== "false" ) ||\r\n		( data.subscribe_soundcloud !== "" && data.subscribe_soundcloud !== "false" ) ||\r\n		( data.subscribe_stitcher !== "" && data.subscribe_stitcher !== "false" ) ||\r\n		( data.subscribe_rss !== "" && data.subscribe_rss !== "false" ) \r\n	) { %>\r\n	<div class="spp-dss-row">\r\n		<div class="spp-dss-image-container">\r\n			<svg xmlns="http://www.w3.org/2000/svg" class="spp-control spp-dss-image spp-subscribe-image" aria-labelledby="spp-svg-title-subscribe" role="img" viewBox="0 0 24 24">\n  <title id="spp-svg-title-subscribe">Subscribe</title>\n  <path id="RSS" d="M54,24A22,22,0,0,0,32,2V0A24,24,0,0,1,56,24H54ZM36,16a4,4,0,1,1-4,4A4,4,0,0,1,36,16Zm0,6a2,2,0,1,0-2-2A2,2,0,0,0,36,22ZM32,8A16,16,0,0,1,48,24H46A14,14,0,0,0,32,10V8Z" transform="translate(-32)"/>\n</svg>\n\r\n		</div>\r\n		<div class="spp-dss-subscribe-text">\r\n			<div class="spp-dss-subscribe-text-2">\r\n				<%="Subscribe".toLocaleString()%>\r\n			</div>\r\n			<div class="spp-dss-subscribe-icon-list">\r\n				<% if ( data.subscribe_itunes !== "" && data.subscribe_itunes !== "false" ) { %>\r\n					<div class="spp-subscribe-icon-container1">\r\n						<div class="spp-subscribe-icon-container">\r\n							<a href="<%= data.subscribe_itunes %>" target="_blank">\r\n								<img class="spp-subscribe-btn spp-itunes"\r\n										src="<%= AP_Player.baseUrl %>../images/SPP-sprite.png" alt="Subscribe via iTunes">\r\n							</a>\r\n						</div>\r\n					</div>\r\n				<% } %>\r\n				<% if ( data.subscribe_buzzsprout !== "" && data.subscribe_buzzsprout !== "false" ) { %>\r\n					<div class="spp-subscribe-icon-container1">\r\n						<div class="spp-subscribe-icon-container">\r\n							<a href="<%= data.subscribe_buzzsprout %>" target="_blank">\r\n								<img class="spp-subscribe-btn spp-buzzsprout"\r\n										src="<%= AP_Player.baseUrl %>../images/SPP-sprite.png" alt="Subscribe via Buzzsprout">\r\n							</a>\r\n						</div>\r\n					</div>\r\n				<% } %>\r\n				<% if ( data.subscribe_googleplay !== "" && data.subscribe_googleplay !== "false" ) { %>\r\n					<div class="spp-subscribe-icon-container1">\r\n						<div class="spp-subscribe-icon-container">\r\n							<a href="<%= data.subscribe_googleplay %>" target="_blank">\r\n								<img class="spp-subscribe-btn spp-googleplay"\r\n										src="<%= AP_Player.baseUrl %>../images/SPP-sprite.png" alt="Subscribe via Google Play">\r\n							</a>\r\n						</div>\r\n					</div>\r\n				<% } %>\r\n				<% if ( data.subscribe_iheartradio !== "" && data.subscribe_iheartradio !== "false" ) { %>\r\n					<div class="spp-subscribe-icon-container1">\r\n						<div class="spp-subscribe-icon-container">\r\n							<a href="<%= data.subscribe_iheartradio %>" target="_blank">\r\n								<img class="spp-subscribe-btn spp-iheartradio"\r\n										src="<%= AP_Player.baseUrl %>../images/SPP-sprite.png" alt="Subscribe via iHeartRadio">\r\n							</a>\r\n						</div>\r\n					</div>\r\n				<% } %>\r\n				<% if ( data.subscribe_pocketcasts !== "" && data.subscribe_pocketcasts !== "false" ) { %>\r\n					<div class="spp-subscribe-icon-container1">\r\n						<div class="spp-subscribe-icon-container">\r\n							<a href="<%= data.subscribe_pocketcasts %>" target="_blank">\r\n								<img class="spp-subscribe-btn spp-pocketcasts"\r\n										src="<%= AP_Player.baseUrl %>../images/SPP-sprite.png" alt="Subscribe via PocketCasts">\r\n							</a>\r\n						</div>\r\n					</div>\r\n				<% } %>\r\n				<% if ( data.subscribe_soundcloud !== "" && data.subscribe_soundcloud !== "false" ) { %>\r\n					<div class="spp-subscribe-icon-container1">\r\n						<div class="spp-subscribe-icon-container">\r\n							<a href="<%= data.subscribe_soundcloud %>" target="_blank">\r\n								<img class="spp-subscribe-btn spp-soundcloud"\r\n										src="<%= AP_Player.baseUrl %>../images/SPP-sprite.png" alt="Subscribe via Soundcloud">\r\n							</a>\r\n						</div>\r\n					</div>\r\n				<% } %>\r\n				<% if ( data.subscribe_stitcher !== "" && data.subscribe_stitcher !== "false" ) { %>\r\n					<div class="spp-subscribe-icon-container1">\r\n						<div class="spp-subscribe-icon-container">\r\n							<a href="<%= data.subscribe_stitcher %>" target="_blank">\r\n								<img class="spp-subscribe-btn spp-stitcher"\r\n										src="<%= AP_Player.baseUrl %>../images/SPP-sprite.png" alt="Subscribe via Stitcher">\r\n							</a>\r\n						</div>\r\n					</div>\r\n				<% } %>\r\n				<% if ( data.subscribe_rss !== "" && data.subscribe_rss !== "false" ) { %>\r\n					<div class="spp-subscribe-icon-container1">\r\n						<div class="spp-subscribe-icon-container">\r\n							<a href="<%= data.subscribe_rss %>" target="_blank">\r\n								<img class="spp-subscribe-btn spp-rss"\r\n										src="<%= AP_Player.baseUrl %>../images/SPP-sprite.png" alt="Subscribe via RSS">\r\n							</a>\r\n						</div>\r\n					</div>\r\n				<% } %>\r\n			</div>\r\n		</div>\r\n	</div>\r\n<% } %>\r\n<% if ( data.social === "true" ) { %>\r\n	<div class="spp-dss-row">\r\n		<div class="spp-dss-image-container">\r\n			<svg xmlns="http://www.w3.org/2000/svg" class="spp-control spp-dss-image spp-share-image" tabindex="0" aria-labelledby="spp-svg-title-share" role="img" width="24" height="24" viewBox="0 0 24 24">\n  <title id="spp-svg-title-share">Share</title>\n  <path id="Share" d="M84,8a3.975,3.975,0,0,1-2.946-1.314L71.9,11.12a3.767,3.767,0,0,1,0,1.761l9.158,4.434a4.027,4.027,0,1,1-.95,1.805l-9.158-4.434a4,4,0,1,1,0-5.371L80.1,4.88A4,4,0,1,1,84,8Zm0,14a2,2,0,0,0,0-4,1.978,1.978,0,0,0-.98.267,2.029,2.029,0,0,0-.724.7c-0.011.019-.02,0.039-0.031,0.058a1.966,1.966,0,0,0-.162.374c-0.012.038-.026,0.075-0.035,0.114A1.958,1.958,0,0,0,82,20a0.11,0.11,0,0,0,0,.014A2,2,0,0,0,84,22ZM69.9,11.4a1.967,1.967,0,0,0-.162-0.374c-0.011-.019-0.02-0.039-0.031-0.058a2.03,2.03,0,0,0-.724-0.7h0A1.978,1.978,0,0,0,68,10a2,2,0,0,0,0,4,1.975,1.975,0,0,0,.981-0.267,2.029,2.029,0,0,0,.716-0.689c0.016-.027.03-0.055,0.045-0.082a1.967,1.967,0,0,0,.149-0.343c0.015-.045.031-0.088,0.043-0.134a1.8,1.8,0,0,0,0-.975C69.923,11.471,69.909,11.434,69.9,11.4ZM84,2a2,2,0,0,0-2,1.984A0.12,0.12,0,0,0,82,4a1.958,1.958,0,0,0,.068.49c0.01,0.039.023,0.076,0.035,0.114a1.966,1.966,0,0,0,.162.374C82.276,5,82.285,5.016,82.3,5.035a2.03,2.03,0,0,0,.723.7A1.979,1.979,0,0,0,84,6,2,2,0,0,0,84,2Z" transform="translate(-64)"/>\n</svg>\n\r\n		</div>\r\n		<div class="spp-dss-share-text">\r\n			<div class="spp-dss-share-text-2">\r\n				<%="Share".toLocaleString()%>\r\n			</div>\r\n			<div class="spp-dss-share-icon-list">\r\n				<% if( data.social_twitter === "true" ) { %>\r\n					<div class="spp-share-icon-container1">\r\n						<div class="spp-share-icon-container">\r\n							<img class="spp-control spp-share-btn spp-twitter"\r\n									src="<%= AP_Player.baseUrl %>../images/SPP-sprite.png" alt="Share on Twitter">\r\n						</div>\r\n					</div>\r\n				<% } %>\r\n				<% if( data.social_facebook === "true" ) { %>\r\n					<div class="spp-share-icon-container1">\r\n						<div class="spp-share-icon-container">\r\n							<img class="spp-control spp-share-btn spp-facebook"\r\n									src="<%= AP_Player.baseUrl %>../images/SPP-sprite.png" alt="Share on Facebook">\r\n						</div>\r\n					</div>\r\n				<% } %>\r\n				<% if( data.social_linkedin === "true" ) { %>\r\n					<div class="spp-share-icon-container1">\r\n						<div class="spp-share-icon-container">\r\n							<img class="spp-control spp-share-btn spp-linked-in"\r\n									src="<%= AP_Player.baseUrl %>../images/SPP-sprite.png" alt="Share on Linked In">\r\n						</div>\r\n					</div>\r\n				<% } %>\r\n				<% if( data.social_gplus === "true" ) { %>\r\n					<div class="spp-share-icon-container1">\r\n						<div class="spp-share-icon-container">\r\n							<img class="spp-control spp-share-btn spp-google-plus"\r\n									src="<%= AP_Player.baseUrl %>../images/SPP-sprite.png" alt="Share on Google Plus">\r\n						</div>\r\n					</div>\r\n				<% } %>\r\n				<% if( data.social_pinterest === "true" ) { %>\r\n					<div class="spp-share-icon-container1">\r\n						<div class="spp-share-icon-container">\r\n							<img class="spp-control spp-share-btn spp-pinterest"\r\n									src="<%= AP_Player.baseUrl %>../images/SPP-sprite.png" alt="Share on Pinterest">\r\n						</div>\r\n					</div>\r\n				<% } %>\r\n				<% if( data.social_email === "true" ) { %>\r\n					<div class="spp-share-icon-container1">\r\n						<div class="spp-share-icon-container">\r\n							<a href="mailto:<%= data.email %>" target="_blank">\r\n								<img class="spp-share-btn spp-email"\r\n										src="<%= AP_Player.baseUrl %>../images/SPP-sprite.png" alt="Share via email">\r\n							</a>\r\n						</div>\r\n					</div>\r\n				<% } %>\r\n			</div>\r\n		</div>\r\n	</div>\r\n<% } %>\r\n\r\n<iframe class="spp-downloader" style="display:none"></iframe>\r\n'}),p("text!templates/dss-sticky-template.html",[],function(){return'<div class="spp-dsst-top-matter">\r\n	<div class="spp-show-logo">\r\n		<% if ( data.show_logo != undefined && data.show_logo != null && data.show_logo != "" ) { %>\r\n			<img src="<%= data.show_logo %>" alt="<%= data.show_name %>" />\r\n		<% } %>\r\n	</div>\r\n	<div class="spp-artist-and-title">\r\n		<p class="spp-show-title"><%= data.show_name || data.artist %></p>\r\n		<p class="spp-track-title"><%= data.title %></p>\r\n	</div>\r\n</div>\r\n\r\n<div class="spp-dsst-separator"></div>\r\n\r\n<% if ( data.download == "true" || data.social_facebook === "true"\r\n		|| data.social_twitter === "true" || data.social_gplus === "true"\r\n		|| data.social_linkedin === "true" || data.social_pinterest === "true"\r\n		|| data.social_email === "true") { %>\r\n	<div class="spp-dsst-row">\r\n		<div class="spp-dsst-row-text">Share</div>\r\n		<div class="spp-dsst-icon-list-outer">\r\n		<div class="spp-dsst-icon-list-inner">\r\n			<% if( data.download == "true" ) { %>\r\n				<div class="spp-dsst-icon-container">\r\n					<% var valid_title = data.title.indexOf(">") == -1; %>\r\n					<% if (valid_title) { %>\r\n						<a class="spp-button-download spp-control" href="<%= data.download_url %>" \r\n									target="_blank" download="<%= data.title %>">\r\n							<img src="<%= AP_Player.baseUrl %>../images/icon_download.png" alt="Download">\r\n						</a>\r\n					<% } else { %>\r\n						<a class="spp-button-download spp-control" href="<%= data.download_url %>" \r\n									target="_blank" download>\r\n							<img src="<%= AP_Player.baseUrl %>../images/icon_download.png" alt="Download">\r\n						</a>\r\n					<% } %>\r\n					<div class="spp-dsst-icon-text">Download</div>\r\n				</div>\r\n			<% } %>\r\n			<% if( data.social_facebook === "true" ) { %>\r\n				<div class="spp-dsst-icon-container">\r\n					<img class="spp-control spp-share-btn spp-facebook"\r\n							src="<%= AP_Player.baseUrl %>../images/icon_facebook.png" alt="Share on Facebook">\r\n					<div class="spp-dsst-icon-text">Facebook</div>\r\n				</div>\r\n			<% } %>\r\n			<% if( data.social_twitter === "true" ) { %>\r\n				<div class="spp-dsst-icon-container">\r\n					<img class="spp-control spp-share-btn spp-twitter"\r\n							src="<%= AP_Player.baseUrl %>../images/icon_twitter.png" alt="Share on Twitter">\r\n					<div class="spp-dsst-icon-text">Twitter</div>\r\n				</div>\r\n			<% } %>\r\n			<% if( data.social_gplus === "true" ) { %>\r\n				<div class="spp-dsst-icon-container">\r\n					<img class="spp-control spp-share-btn spp-google-plus"\r\n							src="<%= AP_Player.baseUrl %>../images/icon_googleplus.png" alt="Share on Google Plus">\r\n					<div class="spp-dsst-icon-text">Google+</div>\r\n				</div>\r\n			<% } %>\r\n			<% if( data.social_linkedin === "true" ) { %>\r\n				<div class="spp-dsst-icon-container">\r\n					<img class="spp-control spp-share-btn spp-linked-in"\r\n							src="<%= AP_Player.baseUrl %>../images/icon_linkedin.png" alt="Share on LinkedIn">\r\n					<div class="spp-dsst-icon-text">LinkedIn</div>\r\n				</div>\r\n			<% } %>\r\n			<% if( data.social_pinterest === "true" ) { %>\r\n				<div class="spp-dsst-icon-container">\r\n					<img class="spp-control spp-share-btn spp-pinterest"\r\n							src="<%= AP_Player.baseUrl %>../images/icon_pinterest.png" alt="Share on Pinterest">\r\n					<div class="spp-dsst-icon-text">Pinterest</div>\r\n				</div>\r\n			<% } %>\r\n			<% if( data.social_email === "true" ) { %>\r\n				<div class="spp-dsst-icon-container">\r\n					<img class="spp-control spp-share-btn spp-email"\r\n							src="<%= AP_Player.baseUrl %>../images/icon_email.png" alt="Share on Email">\r\n					<div class="spp-dsst-icon-text">Email</div>\r\n				</div>\r\n			<% } %>\r\n		</div>\r\n		</div>\r\n		<div class="spp-dsst-scroll spp-dsst-scroll-left">\r\n			<div class="spp-dsst-scroll-icon spp-dsst-scroll-icon-left">\r\n				<?xml version="1.0" encoding="UTF-8"?>\n<svg viewBox="0 0 15 8" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <path stroke="none" stroke-width="1" fill-rule="evenodd" transform="translate(-13.000000, -15.000000)" d="M20.3876042,15.0054326 C20.14278,15.0294623 19.909657,15.1291765 19.7222326,15.2937705 L13.4247723,20.8298584 C13.1811206,21.0413062 13.0300115,21.3428692 13.0042519,21.6684527 C12.9773108,21.9952356 13.0792217,22.3184201 13.2865611,22.5671135 C13.4927279,22.8158038 13.7879289,22.9707866 14.1053808,22.9960065 C14.4240023,23.0212357 14.7379457,22.9167144 14.9804279,22.704064 L20.5000019,17.8504528 L26.0195759,22.704064 C26.2620551,22.9167144 26.5760015,23.0224506 26.894623,22.9960065 C27.2120749,22.9707774 27.5072759,22.8157946 27.7134427,22.5671135 C27.9207821,22.3184232 28.022678,21.9952356 27.9957519,21.6696521 C27.9699803,21.3428692 27.8188712,21.0413062 27.5752315,20.8298584 L21.2777712,15.2937705 C21.0306049,15.0787181 20.7096503,14.9741844 20.3874903,15.0054326 L20.3876042,15.0054326 Z" id="Fill-1"></path>\n</svg>\r\n			</div>\r\n		</div>\r\n		<div class="spp-dsst-scroll spp-dsst-scroll-right">\r\n			<div class="spp-dsst-scroll-icon spp-dsst-scroll-icon-right">\r\n				<?xml version="1.0" encoding="UTF-8"?>\n<svg viewBox="0 0 15 8" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <path stroke="none" stroke-width="1" fill-rule="evenodd" transform="translate(-13.000000, -15.000000)" d="M20.3876042,15.0054326 C20.14278,15.0294623 19.909657,15.1291765 19.7222326,15.2937705 L13.4247723,20.8298584 C13.1811206,21.0413062 13.0300115,21.3428692 13.0042519,21.6684527 C12.9773108,21.9952356 13.0792217,22.3184201 13.2865611,22.5671135 C13.4927279,22.8158038 13.7879289,22.9707866 14.1053808,22.9960065 C14.4240023,23.0212357 14.7379457,22.9167144 14.9804279,22.704064 L20.5000019,17.8504528 L26.0195759,22.704064 C26.2620551,22.9167144 26.5760015,23.0224506 26.894623,22.9960065 C27.2120749,22.9707774 27.5072759,22.8157946 27.7134427,22.5671135 C27.9207821,22.3184232 28.022678,21.9952356 27.9957519,21.6696521 C27.9699803,21.3428692 27.8188712,21.0413062 27.5752315,20.8298584 L21.2777712,15.2937705 C21.0306049,15.0787181 20.7096503,14.9741844 20.3874903,15.0054326 L20.3876042,15.0054326 Z" id="Fill-1"></path>\n</svg>\r\n			</div>\r\n		</div>\r\n	</div>\r\n\r\n	<div class="spp-dsst-separator"></div>\r\n<% } %>\r\n\r\n<% if ( \r\n		( data.subscribe_itunes !== "" && data.subscribe_itunes !== "false" ) ||\r\n		( data.subscribe_buzzsprout !== "" && data.subscribe_buzzsprout !== "false" ) ||\r\n		( data.subscribe_googleplay !== "" && data.subscribe_googleplay !== "false" ) ||\r\n		( data.subscribe_iheartradio !== "" && data.subscribe_iheartradio !== "false" ) ||\r\n		( data.subscribe_pocketcasts !== "" && data.subscribe_pocketcasts !== "false" ) ||\r\n		( data.subscribe_soundcloud !== "" && data.subscribe_soundcloud !== "false" ) ||\r\n		( data.subscribe_stitcher !== "" && data.subscribe_stitcher !== "false" ) ||\r\n		( data.subscribe_rss !== "" && data.subscribe_rss !== "false" ) \r\n	) { %>\r\n	<div class="spp-dsst-row">\r\n		<div class="spp-dsst-row-text">Subscribe</div>\r\n		<div class="spp-dsst-icon-list-outer">\r\n		<div class="spp-dsst-icon-list-inner">\r\n			<% if ( data.subscribe_itunes !== "" && data.subscribe_itunes !== "false" ) { %>\r\n				<div class="spp-dsst-icon-container">\r\n					<a href="<%= data.subscribe_itunes %>" target="_blank">\r\n						<img class="spp-subscribe-btn spp-itunes"\r\n								src="<%= AP_Player.baseUrl %>../images/icon_itunes.png" alt="Subscribe via iTunes">\r\n					</a>\r\n					<div class="spp-dsst-icon-text">iTunes</div>\r\n				</div>\r\n			<% } %>\r\n			<% if ( data.subscribe_buzzsprout !== "" && data.subscribe_buzzsprout !== "false" ) { %>\r\n				<div class="spp-dsst-icon-container">\r\n					<a href="<%= data.subscribe_buzzsprout %>" target="_blank">\r\n						<img class="spp-subscribe-btn spp-buzzsprout"\r\n								src="<%= AP_Player.baseUrl %>../images/icon_buzzsprout.png" alt="Subscribe via Buzzsprout">\r\n					</a>\r\n					<div class="spp-dsst-icon-text">Buzzsprout</div>\r\n				</div>\r\n			<% } %>\r\n			<% if ( data.subscribe_googleplay !== "" && data.subscribe_googleplay !== "false" ) { %>\r\n				<div class="spp-dsst-icon-container">\r\n					<a href="<%= data.subscribe_googleplay %>" target="_blank">\r\n						<img class="spp-subscribe-btn spp-googleplay"\r\n								src="<%= AP_Player.baseUrl %>../images/icon_google.png" alt="Subscribe via Google Play">\r\n					</a>\r\n					<div class="spp-dsst-icon-text">Google Play</div>\r\n				</div>\r\n			<% } %>\r\n			<% if ( data.subscribe_iheartradio !== "" && data.subscribe_iheartradio !== "false" ) { %>\r\n				<div class="spp-dsst-icon-container">\r\n					<a href="<%= data.subscribe_iheartradio %>" target="_blank">\r\n						<img class="spp-subscribe-btn spp-iheartradio"\r\n								src="<%= AP_Player.baseUrl %>../images/icon_iheartradio.png" alt="Subscribe via iHeartRadio">\r\n					</a>\r\n					<div class="spp-dsst-icon-text">iHeartRadio</div>\r\n				</div>\r\n			<% } %>\r\n			<% if ( data.subscribe_pocketcasts !== "" && data.subscribe_pocketcasts !== "false" ) { %>\r\n				<div class="spp-dsst-icon-container">\r\n					<a href="<%= data.subscribe_pocketcasts %>" target="_blank">\r\n						<img class="spp-subscribe-btn spp-pocketcasts"\r\n								src="<%= AP_Player.baseUrl %>../images/icon_pocketcasts.png" alt="Subscribe via PocketCasts">\r\n					</a>\r\n					<div class="spp-dsst-icon-text">PocketCasts</div>\r\n				</div>\r\n			<% } %>\r\n			<% if ( data.subscribe_soundcloud !== "" && data.subscribe_soundcloud !== "false" ) { %>\r\n				<div class="spp-dsst-icon-container">\r\n					<a href="<%= data.subscribe_soundcloud %>" target="_blank">\r\n						<img class="spp-subscribe-btn spp-soundcloud"\r\n								src="<%= AP_Player.baseUrl %>../images/icon_soundcloud.png" alt="Subscribe via Soundcloud">\r\n					</a>\r\n					<div class="spp-dsst-icon-text">Soundcloud</div>\r\n				</div>\r\n			<% } %>\r\n			<% if ( data.subscribe_stitcher !== "" && data.subscribe_stitcher !== "false" ) { %>\r\n				<div class="spp-dsst-icon-container">\r\n					<a href="<%= data.subscribe_stitcher %>" target="_blank">\r\n						<img class="spp-subscribe-btn spp-stitcher"\r\n								src="<%= AP_Player.baseUrl %>../images/icon_stitcher.png" alt="Subscribe via Stitcher">\r\n					</a>\r\n					<div class="spp-dsst-icon-text">Stitcher</div>\r\n				</div>\r\n			<% } %>\r\n			<% if ( data.subscribe_rss !== "" && data.subscribe_rss !== "false" ) { %>\r\n				<div class="spp-dsst-icon-container">\r\n					<a href="<%= data.subscribe_rss %>" target="_blank">\r\n						<img class="spp-subscribe-btn spp-rss"\r\n								src="<%= AP_Player.baseUrl %>../images/icon_rss.png" alt="Subscribe via RSS">\r\n					</a>\r\n					<div class="spp-dsst-icon-text">RSS</div>\r\n				</div>\r\n			<% } %>\r\n		</div>\r\n		</div>\r\n		<div class="spp-dsst-scroll spp-dsst-scroll-left">\r\n			<div class="spp-dsst-scroll-icon spp-dsst-scroll-icon-left">\r\n				<?xml version="1.0" encoding="UTF-8"?>\n<svg viewBox="0 0 15 8" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <path stroke="none" stroke-width="1" fill-rule="evenodd" transform="translate(-13.000000, -15.000000)" d="M20.3876042,15.0054326 C20.14278,15.0294623 19.909657,15.1291765 19.7222326,15.2937705 L13.4247723,20.8298584 C13.1811206,21.0413062 13.0300115,21.3428692 13.0042519,21.6684527 C12.9773108,21.9952356 13.0792217,22.3184201 13.2865611,22.5671135 C13.4927279,22.8158038 13.7879289,22.9707866 14.1053808,22.9960065 C14.4240023,23.0212357 14.7379457,22.9167144 14.9804279,22.704064 L20.5000019,17.8504528 L26.0195759,22.704064 C26.2620551,22.9167144 26.5760015,23.0224506 26.894623,22.9960065 C27.2120749,22.9707774 27.5072759,22.8157946 27.7134427,22.5671135 C27.9207821,22.3184232 28.022678,21.9952356 27.9957519,21.6696521 C27.9699803,21.3428692 27.8188712,21.0413062 27.5752315,20.8298584 L21.2777712,15.2937705 C21.0306049,15.0787181 20.7096503,14.9741844 20.3874903,15.0054326 L20.3876042,15.0054326 Z" id="Fill-1"></path>\n</svg>\r\n			</div>\r\n		</div>\r\n		<div class="spp-dsst-scroll spp-dsst-scroll-right">\r\n			<div class="spp-dsst-scroll-icon spp-dsst-scroll-icon-right">\r\n				<?xml version="1.0" encoding="UTF-8"?>\n<svg viewBox="0 0 15 8" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <path stroke="none" stroke-width="1" fill-rule="evenodd" transform="translate(-13.000000, -15.000000)" d="M20.3876042,15.0054326 C20.14278,15.0294623 19.909657,15.1291765 19.7222326,15.2937705 L13.4247723,20.8298584 C13.1811206,21.0413062 13.0300115,21.3428692 13.0042519,21.6684527 C12.9773108,21.9952356 13.0792217,22.3184201 13.2865611,22.5671135 C13.4927279,22.8158038 13.7879289,22.9707866 14.1053808,22.9960065 C14.4240023,23.0212357 14.7379457,22.9167144 14.9804279,22.704064 L20.5000019,17.8504528 L26.0195759,22.704064 C26.2620551,22.9167144 26.5760015,23.0224506 26.894623,22.9960065 C27.2120749,22.9707774 27.5072759,22.8157946 27.7134427,22.5671135 C27.9207821,22.3184232 28.022678,21.9952356 27.9957519,21.6696521 C27.9699803,21.3428692 27.8188712,21.0413062 27.5752315,20.8298584 L21.2777712,15.2937705 C21.0306049,15.0787181 20.7096503,14.9741844 20.3874903,15.0054326 L20.3876042,15.0054326 Z" id="Fill-1"></path>\n</svg>\r\n			</div>\r\n		</div>\r\n	</div>\r\n<% } %>\r\n\r\n<div class="spp-dsst-separator"></div>\r\n<div class="spp-dsst-cancel">\r\n	<div class="spp-dsst-cancel-btn">Cancel</div>\r\n</div>\r\n\r\n<iframe class="spp-downloader" style="display:none"></iframe>\r\n'}),function(){"use strict";var e,t,s="undefined",i="string",n=self.navigator,a=String,r=Object.prototype.hasOwnProperty,o={},l={},d=!1,p=!0,c=/^\s*application\/(?:vnd\.oftn\.|x-)?l10n\+json\s*(?:$|;)/i,u="locale",h="defaultLocale",f="toLocaleString",m="toLowerCase",g=Array.prototype.indexOf||function(e){for(var t=this.length,s=0;t>s;s++)if(s in this&&this[s]===e)return s;return-1},v=function(t){var s=new e,i={};s.open("GET",t,d),s.send(null);try{i=JSON.parse(s.responseText)}catch(n){setTimeout(function(){var e=new Error("Unable to load localization data: "+t);throw e.name="Localization Error",e},0)}return i},b=a[f]=function(e){if(arguments.length>0&&"number"!=typeof e)if(typeof e===i)b(v(e));else if(e===d)l={};else{var t,s,n;for(t in e)if(r.call(e,t)){if(s=e[t],t=t[m](),t in l&&s!==d||(l[t]={}),s===d)continue;if(typeof s===i){if(0!==a[u][m]().indexOf(t)){t in o||(o[t]=[]),o[t].push(s);continue}s=v(s)}for(n in s)r.call(s,n)&&(l[t][n]=s[n])}}return Function.prototype[f].apply(a,arguments)},y=function(e){for(var t,s=o[e],i=0,n=s.length;n>i;i++)t={},t[e]=v(s[i]),b(t);delete o[e]},w=a.prototype[f]=function(){var e,s=t,i=a[s?h:u],n=i[m]().split("-"),r=n.length,c=this.valueOf();t=d;do if(e=n.slice(0,r).join("-"),e in o&&y(e),e in l&&c in l[e])return l[e][c];while(r--);return!s&&a[h]?(t=p,w.call(c)):c};if(typeof XMLHttpRequest===s&&typeof ActiveXObject!==s){var _=ActiveXObject;e=function(){try{return new _("Msxml2.XMLHTTP.6.0")}catch(e){}try{return new _("Msxml2.XMLHTTP.3.0")}catch(t){}try{return new _("Msxml2.XMLHTTP")}catch(s){}throw new Error("XMLHttpRequest not supported by this browser.")}}else e=XMLHttpRequest;if(a[h]=a[h]||"",a[u]=n&&(n.language||n.userLanguage)||"",typeof document!==s)for(var k,P=document.getElementsByTagName("link"),x=P.length;x--;){var S=P[x],C=(S.getAttribute("rel")||"")[m]().split(/\s+/);c.test(S.type)&&(-1!==g.call(C,"localizations")?b(S.getAttribute("href")):-1!==g.call(C,"localization")&&(k={},k[(S.getAttribute("hreflang")||"")[m]()]=S.getAttribute("href"),b(k)))}}(),p("l10n",function(){}),String.toLocaleString({"":{Search:"Search",Download:"Download",Subscribe:"Subscribe",Episodes:"Episodes","Now Playing":"Now playing",Details:"Details","Episode Details":"Episode Details",more:"more",Share:"Share",of:"of","Sign up to receive email updates":"Sign up to receive email updates","Enter your name and email address below and I'll send you periodic updates about the podcast.":"Enter your name and email address below and I'll send you periodic updates about the podcast.",Name:"Name","Email Address":"Email Address","First Name":"First Name","Last Name":"Last Name",Close:"Close","Send Me Updates":"Send Me Updates","An error occurred while signing you up.  The message is:":"An error occurred while signing you up.  The message is:","Thanks! You'll be hearing from us soon.":"Thanks! You'll be hearing from us soon.","You're already subscribed to this list.  Thanks!":"You're already subscribed to this list.  Thanks!","You should receive an email confirmation soon.":"You should receive an email confirmation soon."},es:{Search:"Buscar",Download:"Descargar",Subscribe:"Suscribirse",Episodes:"Episodios","Now Playing":"Reproducción en curso",Details:"Detalles","Episode Details":"Detalles del episodio",more:"Más",Share:"Compartir",of:"de","Sign up to receive email updates":"Regístrese para recibir actualizaciones por email","Enter your name and email address below and I'll send you periodic updates about the podcast.":"Insertar su nombre y apellidos abajo y te enviare actualizaciones periódicas sobre el podcast",Name:"Nombre","Email Address":"Dirección de email","First Name":"Primer nombre","Last Name":"Apellido",Close:"Cerrar","Send Me Updates":"Envíarme actualizaciones","An error occurred while signing you up.  The message is:":"Ha ocurrido un error mientras se registraba. El mensaje es:","Thanks! You'll be hearing from us soon.":"Gracias. Sabras de nosotros pronto","You're already subscribed to this list.  Thanks!":"Ya estas inscrito en esta lista; Gracias!","You should receive an email confirmation soon.":"Recibirás un email de confirmación en breve"},fr:{Search:"Rechercher",Download:"Télécharger",Subscribe:"S’abonner",Episodes:"Épisodes","Now Playing":"Lecture en cours",Details:"Détails","Episode Details":"Détails de l'épisode",more:"plus",Share:"Partager",of:"de","Sign up to receive email updates":"Inscrivez-vous pour recevoir des mises à jour par courriel","Enter your name and email address below and I'll send you periodic updates about the podcast.":"Entrez votre nom et votre adresse électronique ci-dessous et je vous enverrai des mises à jour périodiques sur le podcast.",Name:"le nom","Email Address":"Votre email","First Name":"Votre prénom","Last Name":"Nom de famille",Close:"Fermer","Send Me Updates":"M'envoyer des mises à jour","An error occurred while signing you up.  The message is:":"Une erreur s'est produite lors de votre inscription. Le message est:","Thanks! You'll be hearing from us soon.":"Merci! Vous allez bientôt entendre parler de nous.","You're already subscribed to this list.  Thanks!":"Vous êtes déjà inscrit à cette liste. Merci!","You should receive an email confirmation soon.":"Vous devriez bientôt recevoir une confirmation par courrier électronique"},it:{Search:"Ricerca",Download:"Scarica",Subscribe:"Iscriviti",Episodes:"Episodi","Now Playing":"In riproduzione",Details:"Dettagli","Episode Details":"Dettagli della puntata",more:"Di Più",Share:"Partecipare",of:"di","Sign up to receive email updates":"Iscriviti per ricevere aggiornamenti via email","Enter your name and email address below and I'll send you periodic updates about the podcast.":"Inserisci il tuo nome e indirizzo e-mail qui sotto e ti invierò aggiornamenti periodici sul podcast.",Name:"il nome","Email Address":"indirizzo email","First Name":"Nome di battesimo","Last Name":"Cognome",Close:"Chiudere","Send Me Updates":"Inviami aggiornamenti","An error occurred while signing you up.  The message is:":"Si è verificato un errore durante la firma. Il messaggio è:","Thanks! You'll be hearing from us soon.":"Grazie! Sarai ascoltato da noi presto.","You're already subscribed to this list.  Thanks!":"Sei già iscritto a questo elenco. Grazie!","You should receive an email confirmation soon.":"Bisogna ricevere presto una conferma via email."},pt:{Search:"Pesquisar",Download:"Baixar",Subscribe:"Cadastre-se",Episodes:"Episódios","Now Playing":"Tocando agora",Details:"Detalhes","Episode Details":"Detalhes do episódio",more:"mais",Share:"Compartilhar",of:"de","Sign up to receive email updates":"Inscreva-se para receber atualizações de e-mail","Enter your name and email address below and I'll send you periodic updates about the podcast.":"Digite seu nome e endereço de e-mail abaixo e eu lhe enviarei atualizações periódicas sobre o podcast.",Name:"o nome","Email Address":"endereço de e-mail","First Name":"o primeiro nome","Last Name":"o sobrenome",Close:"fechar","Send Me Updates":"Me envie atualizações","An error occurred while signing you up.  The message is:":"Ocorreu um erro ao assinar você. A mensagem é:","Thanks! You'll be hearing from us soon.":"Obrigado! Você vai ter notícias de nós em breve.","You're already subscribed to this list.  Thanks!":"Você já está inscrito nesta lista. Obrigado!","You should receive an email confirmation soon.":"Você deve receber uma confirmação de e-mail em breve."},ru:{Search:"поиск",Download:"скачать",Subscribe:"подписываться",Episodes:"эпизоды","Now Playing":"сейчас играет",Details:"Детали","Episode Details":"Эпизод",more:"Больше",Share:"делиться",of:"из","Sign up to receive email updates":"Зарегистрируйтесь, чтобы получать обновления по электронной почте","Enter your name and email address below and I'll send you periodic updates about the podcast.":"Введите свое имя и адрес электронной почты ниже, и я пришлю вам периодические обновления о подкасте.",Name:"название","Email Address":"адрес электронной почты","First Name":"имя","Last Name":"Фамилия",Close:"кончать","Send Me Updates":"Отправить мне обновления","An error occurred while signing you up.  The message is:":"Произошла ошибка при подписании вами. Это сообщение:","Thanks! You'll be hearing from us soon.":"Благодаря! Вы скоро услышите от нас.","You're already subscribed to this list.  Thanks!":"Вы уже подписаны на этот список. Благодаря!","You should receive an email confirmation soon.":"Вскоре вы получите подтверждение по электронной почте."},pl:{Search:"Poszukiwanie",Download:"pobieranie",Subscribe:"subskrybować",Episodes:"Epizody","Now Playing":"Teraz odtwarzane",Details:"Detale","Episode Details":"Szczegóły epizodu",more:"dalszy",Share:"Podzielać",of:"z","Sign up to receive email updates":"Zarejestruj się, aby otrzymywać aktualizacje e-mailowe","Enter your name and email address below and I'll send you periodic updates about the podcast.":"Podaj swoje imię i adres e-mail poniżej i wysyłam Ci okresowe aktualizacje podcastu.",Name:"Nazwa","Email Address":"Adres e-mail","First Name":"pierwsze imię","Last Name":"nazwisko",Close:"domknąć","Send Me Updates":"Wyślij aktualizacje","An error occurred while signing you up.  The message is:":"Podczas rejestrowania wystąpił błąd. Wiadomość jest:","Thanks! You'll be hearing from us soon.":"Dzięki! Już wkrótce usłyszysz od nas.","You're already subscribed to this list.  Thanks!":"Jesteś już zapisany do tej listy. Dzięki!","You should receive an email confirmation soon.":"Wkrótce otrzymasz e-maila z potwierdzeniem"},de:{Search:"Suchen",Download:"Herunterladen",Subscribe:"Abonnieren",Episodes:"Episoden","Now Playing":"Gerade läuft",Details:"Details","Episode Details":"Episodendetails",more:"mehr",Share:"Teilen",of:"von","Sign up to receive email updates":"Melde dich an, um E-Mail-Updates zu erhalten","Enter your name and email address below and I'll send you periodic updates about the podcast.":"Geben Sie Ihren Namen und Ihre E-Mail-Adresse unten ein und ich sende Ihnen regelmäßige Updates über den Podcast.",Name:"der Name","Email Address":"E-Mail-Addresse","First Name":"Vorname","Last Name":"der Nachname",Close:"Schließen","Send Me Updates":"Sende mir Updates","An error occurred while signing you up.  The message is:":"Bei der Anmeldung ist ein Fehler aufgetreten. Die Nachricht lautet:","Thanks! You'll be hearing from us soon.":"Danke, du wirst bald von uns hören.","You're already subscribed to this list.  Thanks!":"Du hast diese Liste schon abonniert. Danke!","You should receive an email confirmation soon.":"Du solltest bald eine E-Mail-Bestätigung erhalten."},fi:{Search:"Hae",Download:"Lataa",Subscribe:"Tilaa",Episodes:"Jaksot","Now Playing":"Soitetaan",Details:"Tiedot","Episode Details":"Jakson tiedot",more:"lisää",Share:"Jaa",of:"/","Sign up to receive email updates":"Rekisteröidy sähköpostilistallemme","Enter your name and email address below and I'll send you periodic updates about the podcast.":"Kirjoita alle nimesi ja sähköpostiosoitteesi, niin saat jatkossa tiedon uusista jaksoista suoraan sähköpostiisi",Name:"Nimi","Email Address":"Sähköpostiosoite","First Name":"Etunimi","Last Name":"Sukunimi",Close:"Sulje","Send Me Updates":"Haluan uutiskirjeenne","An error occurred while signing you up. The message is:":"Rekisteröitymisessä tapahtui virhe. Virheilmoitus:","Thanks! You'll be hearing from us soon.":"Kiitos! Kuulet meistä piakkoin.","You're already subscribed to this list. Thanks!":"Olet jo rekisteröitynyt. Kiitos!","You should receive an email confirmation soon.":"Saat pian vahvistuslinkin sähköpostiisi."},ar:{Search:"بحث",Download:"تحميل",Subscribe:"اشترك",Episodes:"الحلقات","Now Playing":"جاري القراءة",Details:"التفاصيل","Episode Details":"تفاصيل الحلقة",more:"أكثر",Share:"شارك",of:"من","Sign up to receive email updates":"قم بالتسجيل لتستلم تحديث الايميل","Enter your name and email address below and I'll send you periodic updates about the podcast.":"أدخل اسمك وعنوان بريدك الإلكتروني أدناه وسأرسل إليك تحديثات دورية حول البودكاست.",Name:"اسم","Email Address":"عنوان البريد الإلكتروني","First Name":"الاسم الخاص","Last Name":"اسم العائلة",Close:"أغلق","Send Me Updates":"أرسل لي التحديثات","An error occurred while signing you up.  The message is:":"حدث خطأ أثناء تسجيل دخولك. الرسالة هي:","Thanks! You'll be hearing from us soon.":"شكر! عليك أن تسمع منا قريبا.","You're already subscribed to this list.  Thanks!":"أنت مشترك بالفعل في هذه القائمة. شكر!","You should receive an email confirmation soon.":"يجب أن تتلقى رسالة تأكيد بالبريد الإلكتروني قريبا."},hi:{Search:"खोज",Download:"डाउनलोड",Subscribe:"सदस्यता के",Episodes:"एपिसोड","Now Playing":"अभी खेल रहे है",Details:"विवरण","Episode Details":"प्रकरण विवरण",more:"और",Share:"बँटना",of:"में से","Sign up to receive email updates":"ईमेल अपडेट प्राप्त करने के लिए साइन अप करें","Enter your name and email address below and I'll send you periodic updates about the podcast.":"नीचे अपना नाम और ईमेल पता दर्ज करें और मैं आपको पॉडकास्ट के बारे में आवधिक अपडेट भेजूंगा।",Name:"नाम","Email Address":"ई-मेल एड्रेस","First Name":"पहला नाम","Last Name":"अंतिम नाम",Close:"समाप्त करना","Send Me Updates":"मुझे अपडेट भेजें","An error occurred while signing you up.  The message is:":"आपको साइन अप करते समय एक त्रुटि हुई संदेश है:","Thanks! You'll be hearing from us soon.":"धन्यवाद! आप जल्द ही हमारी ओर से सुनेंगे","You're already subscribed to this list.  Thanks!":"आप पहले से ही इस सूची में सदस्यता ले चुके हैं। धन्यवाद!","You should receive an email confirmation soon.":"आपको शीघ्र ही एक ईमेल पुष्टि प्राप्त होनी चाहिए"},zh:{Search:"搜索",Download:"下载",Subscribe:"订阅",Episodes:"播客節目","Now Playing":"廣播中",Details:"细节","Episode Details":"剧集细节",more:"更多",Share:"分享",of:"的","Sign up to receive email updates":"注册接收电子邮件更新","Enter your name and email address below and I'll send you periodic updates about the podcast.":"在下面输入您的姓名和电子邮件地址，我们会定期向您发送有关播客的更新。",Name:"名称","Email Address":"电子邮件","First Name":"名字","Last Name":"姓",Close:"关闭","Send Me Updates":"发送我更新","An error occurred while signing you up.  The message is:":"注册时发生错误。消息是：","Thanks! You'll be hearing from us soon.":"谢谢！你会很快听到我们的声音。","You're already subscribed to this list.  Thanks!":"您已经订阅了此列表。谢谢！","You should receive an email confirmation soon.":"您应该很快收到一封电子邮件确认。"},ja:{Search:"検索",Download:"ダウンロード",Subscribe:"登録",Episodes:"エピソード","Now Playing":"再生中",Details:"詳細","Episode Details":"エピソードの詳細",more:"もっと",Share:"分け合う",of:"の","Sign up to receive email updates":"電子メールの更新を受け取るためにサインアップする","Enter your name and email address below and I'll send you periodic updates about the podcast.":"下にあなたの名前とEメールアドレスを入力してください。ポッドキャストに関する定期的なアップデートをお送りします。",Name:"名","Email Address":"電子メールアドレス","First Name":"ファーストネーム","Last Name":"苗字",Close:"閉じる","Send Me Updates":"アップデートを送信する","An error occurred while signing you up.  The message is:":"サインアップ中にエラーが発生しました。メッセージは次のとおりです。","Thanks! You'll be hearing from us soon.":"ありがとう！あなたは私たちからすぐに聞くでしょう。","You're already subscribed to this list.  Thanks!":"既にこのリストに登録しています。ありがとう！","You should receive an email confirmation soon.":"すぐに確認メールが届きます。"},bn:{Search:"অনুসন্ধান",Download:"ডাউনলোড",Subscribe:"সাবস্ক্রাইব",Episodes:"পর্ব","Now Playing":"এখন চলছে",Details:"বিস্তারিত","Episode Details":"পর্বের বিবরণ",more:"অধিক",Share:"অংশ দেত্তয়া",of:"এর","Sign up to receive email updates":"ইমেল আপডেটগুলি পেতে সাইন আপ করুন","Enter your name and email address below and I'll send you periodic updates about the podcast.":"নীচের আপনার নাম এবং ইমেল ঠিকানা লিখুন এবং আমি পডকাস্ট সম্পর্কে আপনি নিয়মিত আপডেট পাঠাতে হবে।",Name:"নাম","Email Address":"পর্বের বিবরণ","First Name":"নামের প্রথমাংশ","Last Name":"পদবি",Close:"বন্ধ করা","Send Me Updates":"আমাকে আপডেট পাঠান","An error occurred while signing you up.  The message is:":"আপনাকে সাইন ইন করার সময় একটি ত্রুটি ঘটেছে। বার্তাটি হল:","Thanks! You'll be hearing from us soon.":"ধন্যবাদ! আপনি শীঘ্রই আমাদের কাছ থেকে শুনতে হবে","You're already subscribed to this list.  Thanks!":"আপনি ইতিমধ্যে এই তালিকা সাবস্ক্রাইব করছি। ধন্যবাদ!","You should receive an email confirmation soon.":"আপনি শীঘ্রই একটি ইমেল নিশ্চয়তা পাবেন।"}}),p("translations",function(){}),p("apps/smart-podcast-player/dss",["spp-app","text!templates/download-subscribe-share-template.html","text!templates/dss-sticky-template.html","entities/track-model","l10n","translations"],function(e,t,s){return e.module("Dss",function(e,i,n,a,r,o){var l="<% if (data.isSticky) { %>"+s+"<% } else { %>"+t+"<% } %>";
e.DssLayout=a.Layout.extend({template:o.template(l,void 0,{escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g}),className:"spp-dss-layout",events:{"click    .spp-dsst-scroll":"scrollerClick","keypress .spp-dsst-scroll":"scrollerClick","click    .spp-dsst-cancel-btn":"unblock","keypress .spp-dsst-cancel-btn":"unblock","click    .spp-share-btn":"shareButtonClick","keypress .spp-share-btn":"shareButtonClick","click    .spp-button-download":"download","keypress .spp-button-download":"download","keypress .spp-download-image":"download","mouseenter .spp-dss-row":"showIcons","keypress .spp-dss-row":"toggleIcons","touchend .spp-dss-row":"showIcons","keyup *":function(e){27==e.which&&this.unblock()}},onRender:function(){var e=this.model.get("data");if(e.isSticky)return void("dark"==e.style&&this.$el.addClass("spp-dark"));var t=0;e.social_facebook&&"false"!==e.social_facebook&&t++,e.social_twitter&&"false"!==e.social_twitter&&t++,e.social_gplus&&"false"!==e.social_gplus&&t++,e.social_linkedin&&"false"!==e.social_linkedin&&t++,e.social_pinterest&&"false"!==e.social_pinterest&&t++,e.social_email&&"false"!==e.social_email&&t++;var s="14%";6==t?s="14%":5==t?s="17%":4==t?s="22%":3==t?s="22%":2==t?s="29%":1==t&&(s="45%"),this.$(".spp-share-icon-container1").cssExtended("max-width",s,AP_Player.importantStr),this.$(".spp-share-icon-container").cssExtended("max-width",s,AP_Player.importantStr);var i=0;e.subscribe_rss&&"false"!==e.subscribe_rss&&i++,e.subscribe_itunes&&"false"!==e.subscribe_itunes&&i++,e.subscribe_stitcher&&"false"!==e.subscribe_stitcher&&i++,e.subscribe_soundcloud&&"false"!==e.subscribe_soundcloud&&i++,e.subscribe_buzzsprout&&"false"!==e.subscribe_buzzsprout&&i++,e.subscribe_iheartradio&&"false"!==e.subscribe_iheartradio&&i++,e.subscribe_googleplay&&"false"!==e.subscribe_googleplay&&i++,e.subscribe_pocketcasts&&"false"!==e.subscribe_pocketcasts&&i++;var s="8%";8==i?s="8%":7==i?s="11%":6==i?s="14%":5==i?s="17%":4==i?s="22%":3==i?s="22%":2==i?s="29%":1==i&&(s="45%"),this.$(".spp-subscribe-icon-container1").cssExtended("max-width",s,AP_Player.importantStr),this.$(".spp-subscribe-icon-container").cssExtended("max-width",s,AP_Player.importantStr)},onShow:function(){var e=this.model.get("data");e.isSticky&&((null===e.show_logo||void 0===e.show_logo)&&this.$el.closest(".spp-dsst-region").addClass("spp-no-image"),this.$(".spp-dsst-icon-list-outer").jScrollPane(),this.$(".spp-dsst-row").each(function(){var e=0;window.innerWidth>768&&(e+=40),r(this).find(".spp-dsst-icon-list-inner > *").each(function(){e+=r(this).outerWidth(!0)}),r(this).find(".spp-dsst-icon-list-inner").css("width",e+"px");var t=r(this).find(".spp-dsst-icon-list-outer"),s=(r(this).find(".spp-dsst-icon-list-inner"),parseInt(t.css("width"),10)),i=e;s>=i&&r(this).find(".spp-dsst-scroll").css("visibility","hidden")}))},scrollerClick:function(e){var t=r(e.currentTarget),s=t.closest(".spp-dsst-row"),i=s.find(".jspPane"),n=parseInt(i.css("left"),10)||0;r(e.currentTarget).hasClass("spp-dsst-scroll-left")?n+=300:n-=300;var a=parseInt(i.find(".spp-dsst-icon-list-inner").css("width"),10)-parseInt(i.css("width"),10);a=-Math.max(a,0),n=Math.min(n,0),n=Math.max(n,a),i.css("left",n+"px"),n>=0?s.find(".spp-dsst-scroll-left").cssExtended("visibility","hidden",AP_Player.importantStr):s.find(".spp-dsst-scroll-left").cssExtended("visibility","visible",AP_Player.importantStr),a>=n?s.find(".spp-dsst-scroll-right").cssExtended("visibility","hidden",AP_Player.importantStr):s.find(".spp-dsst-scroll-right").cssExtended("visibility","visible",AP_Player.importantStr)},unblock:function(){var e=this.model.get("data");if(e.isSticky)r.unblockUI();else{var t=this.$el.closest(".spp-player-layout");t.children(".blockUI").length>0&&(t.unblock(),t.find(".spp-more").first().find(".spp-control").focus())}},showIcons:function(e){var t=this.model.get("data");t.isSticky||r(e.currentTarget).hasClass("spp-show-icons")||(this.$el.find(".spp-dss-row").removeClass("spp-show-icons"),r(e.currentTarget).addClass("spp-show-icons"),r(e.currentTarget).find(".spp-control").attr("tabindex","0"),e.preventDefault())},hideIcons:function(e){var t=this.model.get("data");t.isSticky||r(e.currentTarget).hasClass("spp-show-icons")&&(r(e.currentTarget).removeClass("spp-show-icons"),r(e.currentTarget).find(".spp-control").removeAttr("tabindex"),e.preventDefault())},toggleIcons:function(e){var t=this.model.get("data");t.isSticky||(r(e.currentTarget).hasClass("spp-show-icons")?this.hideIcons(e):this.showIcons(e))},socialPopup:function(e){window.open(e,"pinterest","screenX=100,screenY=100,height=360,width=730")},shareButtonClick:function(e){var t,s=this,i=s.model.get("data"),n=r(e.currentTarget);if(t=i.permalink?i.permalink:window.location.href,n.hasClass("spp-facebook")&&this.socialPopup("http://www.facebook.com/sharer/sharer.php?m2w&s=100&p[url]="+encodeURIComponent(t)+"&p[images][0]=&p[title]="+encodeURIComponent(i.title)),n.hasClass("spp-twitter")){var a="https://twitter.com/intent/tweet?";if(a+=i.tweet_text?"text="+encodeURIComponent(i.tweet_text):"text="+encodeURIComponent(i.title),a+="&url="+encodeURIComponent(t),i.hashtag){a+="&hashtags=";for(var o=i.hashtag.split(","),l=0;l<o.length;l++)a+=encodeURIComponent(o[l].replace("#",""))+","}i.twitter_username&&(a+="&via="+encodeURIComponent(i.twitter_username.replace("@",""))),this.socialPopup(a)}n.hasClass("spp-linked-in")&&this.socialPopup("https://www.linkedin.com/shareArticle?mini=true&url="+encodeURIComponent(t)+"&title="+encodeURIComponent(i.title)),n.hasClass("spp-google-plus")&&this.socialPopup("https://plus.google.com/share?url="+encodeURIComponent(t)),n.hasClass("spp-pinterest")&&this.socialPopup("https://pinterest.com/pin/create/button/?url="+encodeURIComponent(t)),n.hasClass("spp-stumble")&&this.socialPopup("http://www.stumbleupon.com/submit?url="+encodeURIComponent(t)+"&title="+encodeURIComponent(i.title))},elementsTabbable:function(e){e?(this.$el.find(".spp-button-downloada").removeAttr("tabindex"),this.$el.find(".spp-subscribe-image").attr("tabindex","0"),this.$el.find(".spp-share-image").attr("tabindex","0")):(this.$el.find(".spp-button-downloada").attr("tabindex","-1"),this.$el.find(".spp-subscribe-image").removeAttr("tabindex"),this.$el.find(".spp-share-image").removeAttr("tabindex"))},removeOutlines:function(){this.$el.find(".spp-control").each(function(){this.classList&&this.classList.add("spp-no-outline")})},focusFirstControl:function(){this.$el.find(".spp-subscribe-image").first().focus()},download:function(e){e.preventDefault();var t=this.model.get("data"),s=t.download_url,i=t.download_id;"https:"===location.protocol&&(s=s.replace(/^http:\/\//i,"https://"));var n=AP_Player.homeUrl+"/?spp_download="+i,a=/iPhone|iPad|iPod/i.test(navigator.userAgent);a?window.open(s,"_blank"):this.$(".spp-downloader").prop("src",n)}})}),e.Dss.DssLayout}),p("text!templates/newsletter-template.html",[],function(){return'<div class="spp-close spp-close-action"><svg xmlns="http://www.w3.org/2000/svg" class="spp-control" width="11" height="11" viewBox="0 0 11 11">\n  <path id="Close" d="M225,16.625L223.625,18,219.5,13.875,215.375,18,214,16.625l4.126-4.125L214,8.375,215.375,7l4.125,4.125L223.625,7,225,8.375,220.875,12.5Z" transform="translate(-214 -7)"/>\n</svg>\n</div>\r\n<div class="spp-news-custom-cta">\r\n	<% if (options.email_portal === "ck") { %>\r\n		<%= options.email_ck_html %>\r\n	<% } else if (options.email_portal === "mc") { %>\r\n		<%= options.email_mc_html %>\r\n	<% } else if (options.email_portal === "enable") { %>\r\n		<% if (options.email_service === "ctct") { %>\r\n			<%= options.email_embed_html_ctct %>\r\n		<% } else { %>\r\n			<%= options.email_embed_html %>\r\n		<% } %>\r\n	<% } %>\r\n</div>\r\n'}),p("entities/news",["spp-app","text!templates/newsletter-template.html","l10n","translations"],function(e,t){return e.module("News",function(e,s,i,n,a,r){e.NewsLayout=n.Layout.extend({template:r.template(t,void 0,{escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g}),className:"spp-news-layout",events:{"click    .spp-subscribe-action":"subscribeClick","click    .spp-close-action":"closeOverlay","keypress .spp-close-action":"closeOverlay","keyup div":function(e){27==e.which&&this.closeOverlay()},"keyup .spp-email-input":function(e){13==e.which&&this.subscribeClick()}},setWidthLeftAndTop:function(e){var t=e.closest(".spp-news-overlay"),s=e.width(),i=e.height(),n=(a(window).width()-s)/2;n+=a(window).scrollLeft(),0>n&&(n=0);var r=(a(window).height()-i)/2;0>r&&(r=0),t.css("width",s),t.css("left",n+"px"),t.css("top",r+"px")},setHeight:function(e,t){var s=e.closest(".spp-news-overlay"),i=e.height();s.css("height",i+t),i>a(window).height()&&(s.css("top",""),s.css("bottom","25px"))},onShow:function(){{var e=this;this.model.get("options")}a(".spp-ctct").detach().appendTo(this.$el.find(".spp-news-custom-cta")).show(),e.setWidthLeftAndTop(e.$el),e.setHeight(e.$el,0),this.$el.find("img").load(function(){e.setWidthLeftAndTop(e.$el),e.setHeight(e.$el,0)})},closeOverlay:function(){this.$el.find(".spp-ctct").hide().detach().appendTo(a("body")),a.unblockUI();var e=this.$el.closest(".spp-player-layout");e.children(".blockUI").length>0&&(e.unblock(),e.find(".spp-news").first().focus());var t=this.model.get("playerView");t&&t.$el.closest(".spp-player-layout").find(".spp-main-image").show()},elementsTabbable:function(e){e?this.$el.find(".spp-close").attr("tabindex","0"):this.$el.find(".spp-close").removeAttr("tabindex")},removeOutlines:function(){this.$el.find(".spp-control").each(function(){this.classList&&this.classList.add("spp-no-outline")})},focusFirstControl:function(){this.$el.find(".spp-first-name-input").first().focus()},subscribeClick:function(){options=this.model.get("options"),form_data={action:"spp_newsletter_subscribe",address:this.$(".spp-email-input").val(),first_name:this.$(".spp-first-name-input").val(),last_name:this.$(".spp-last-name-input").val(),portal:options.email_portal},options.email_ck_form_id&&(form_data.ck_form_id=options.email_ck_form_id),options.email_mc_list_id&&(form_data.mc_list_id=options.email_mc_list_id);var e,t,s;"string"!=typeof form_data.address||0===form_data.address.length?(e=!0,this.$(".spp-email-input").cssExtended("background-color","#dd3333",AP_Player.importantStr)):this.$(".spp-email-input").cssExtended("background-color","",AP_Player.importantStr),"true"!==options.email_cta_require_first_name||"string"==typeof form_data.first_name&&0!==form_data.first_name.length?this.$(".spp-first-name-input").cssExtended("background-color","",AP_Player.importantStr):(t=!0,this.$(".spp-first-name-input").cssExtended("background-color","#dd3333",AP_Player.importantStr)),"true"!==options.email_cta_require_last_name||"string"==typeof form_data.last_name&&0!==form_data.last_name.length?this.$(".spp-last-name-input").cssExtended("background-color","",AP_Player.importantStr):(s=!0,this.$(".spp-last-name-input").cssExtended("background-color","#dd3333",AP_Player.importantStr)),e||t||s||a.ajax({url:AP_Player.ajaxurl,dataType:"json",type:"POST",async:!0,data:form_data,success:o,error:l})}});var o=function(e){var t,s=!1;"error"===e.status?(t="An error occurred while signing you up.  The message is:".toLocaleString()+' <br>"',e.error&&(t+=e.error),e.message&&(t+=": "+e.message),t+='"'):"success"===e.status||"unknown"===e.status?(t="Thanks! You'll be hearing from us soon.".toLocaleString(),s=!0):"exists"===e.status&&(t="You're already subscribed to this list.  Thanks!".toLocaleString(),s=!0),a(".spp-news-response-text").html(t),s&&(a(".spp-news-subscribe").removeClass("spp-subscribe-action"),a(".spp-news-subscribe").addClass("spp-close-action"),a(".spp-news-subscribe").text("Close".toLocaleString()))},l=function(e){a(".spp-news-response-text").html("An error occured while signing you up.  The message is:".toLocaleString()+'<br>"'+e.responseJSON.error+": "+e.responseJSON.message+'"')}}),e.News.NewsLayout}),p("text!templates/progress-bar-template.html",[],function(){return'<div class="spp-progress-bar">\r\n	<div class="spp-progress-bar-bar">\r\n		<div class="spp-progress-played"></div>\r\n		<div class="spp-position"></div>\r\n		<div class="spp-seek-time"></div>\r\n	</div>\r\n	<div class="spp-time-elapsed"></div>\r\n	<div class="spp-time-remaining"></div>\r\n</div>\r\n'}),p("entities/progress-bar",["spp-app","text!templates/progress-bar-template.html"],function(e,t){return e.module("ProgressBar",function(e,i,n,a,r,o){e.ProgressBarLayout=a.Layout.extend({template:o.template(t),className:"spp-progress-bar-layout",events:{"mousemove  .spp-progress-bar":"cursorMove","mouseout   .spp-progress-bar":"cursorOut","touchstart .spp-progress-bar-bar":"touchStart","touchmove  .spp-progress-bar-bar":"touchMove","touchend   .spp-progress-bar-bar":"touchEnd","click      .spp-position":"positionClick","keypress   .spp-position":"positionClick","click      .spp-time-elapsed":"positionClick","keypress   .spp-time-elapsed":"positionClick","click      .spp-time-remaining":"positionClick","keypress   .spp-time-remaining":"positionClick"},parentView:function(){return this.model.get("data").parentView},shortcode_options:function(){return this.model.get("data").shortcode_options},onRender:function(){this.$bar=this.$el.find(".spp-progress-bar"),this.$barbar=this.$el.find(".spp-progress-bar-bar"),this.$position=this.$el.find(".spp-position"),this.$seek_time=this.$el.find(".spp-seek-time"),this.$progress_played=this.$el.find(".spp-progress-played"),this.$time_elapsed=this.$el.find(".spp-time-elapsed"),this.$time_remaining=this.$el.find(".spp-time-remaining")},cursorMove:function(e){var t=this.isCursorMoving;if(this.isCursorMoving=!0,t&&this.parentView().isSoundLoaded()){var s=this.$bar.offset(),i=e.pageX-this.$barbar.offset().left,n=e.pageY-this.$bar.offset().top;if(!(0>n||n>this.$bar[0].clientHeight||0>i||i>this.$barbar[0].clientWidth)){var s=this.$barbar.offset(),i=e.pageX-s.left;this.showTimestamp(i,this.model)}}},cursorOut:function(){if(this.parentView().isSoundLoaded()){{this.$barbar.offset()}this.hideTimestamp()}},touchStart:function(e){this.isTouchMoving=!1,this.horizontalTouchMove=!1,this.touchStartX=e.originalEvent.touches[0].clientX,this.touchStartY=e.originalEvent.touches[0].clientY},touchMove:function(e){if(this.isTouchMoving=!0,this.parentView().isSoundLoaded()){var t=e.originalEvent.touches[0];if(this.horizontalTouchMove||!(Math.abs(this.touchStartX-t.clientX)<Math.abs(this.touchStartY-t.clientY))){this.horizontalTouchMove=!0;var s=t.pageX-this.$barbar.offset().left;0>s&&(s=0),this.showTimestamp(s,this.model)}}},touchEnd:function(e){if(this.isTouchMoving&&this.parentView().isSoundLoaded()){var t=e.originalEvent.changedTouches[e.originalEvent.changedTouches.length-1];if(this.horizontalTouchMove||!(Math.abs(this.touchStartX-t.clientX)<Math.abs(this.touchStartY-t.clientY))){{var s=this.$barbar.offset(),i=t.pageX-s.left;t.pageY-s.top}0>i&&(i=0);var n=this.$barbar.outerWidth();this.parentView().seek(i/n),this.hideTimestamp()}}},positionClick:function(e){if(this.isCursorMoving=!1,this.parentView().isSoundLoaded()){var t=e.pageX-this.$barbar.offset().left,s=this.$barbar.outerWidth();this.parentView().seek(t/s)}},showTimestamp:function(e){this.hover=!0,this.$bar.addClass("spp-hover"),this.$position.cssExtended("left",e+"px","important");var t=this.$barbar.outerWidth(),s=this.parentView().getSoundDurationEstimate(),i=this.shortcode_options();if(null!==s&&s>0&&i.hover_timestamp){var n=s*e/t/1e3,a=Math.floor(n%60),r=Math.floor(n/60%60),o=Math.floor(n/3600),l=r+":";l+=a>9?a:"0"+a,o>0&&(l=r>9?o+":"+l:o+":0"+l),this.$seek_time.text(l);var d=this.$seek_time.width(),p=e-d/2;this.$seek_time.cssExtended("left",p+"px","important"),this.$seek_time.cssExtended("display","block","important")}},hideTimestamp:function(){var e=this.parentView().getProgressPercent();this.$position.cssExtended("left",e+"%","important"),this.$seek_time.cssExtended("display","none","important"),this.$bar.removeClass("spp-hover"),this.hover=!1},progressUpdate:function(e,t){var s=e/t*100;this.$progress_played.cssExtended("width",s+"%",AP_Player.importantStr),this.$position.cssExtended("display","block",AP_Player.importantStr);var i=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);(!this.hover||i)&&this.$position.cssExtended("left",s+"%",AP_Player.importantStr);var n=this.toTimeString(e),a=this.toTimeString(t-e);this.$time_elapsed.text(n),this.$time_remaining.text(a)},toTimeString:function(e){var t=Math.floor(e%60),i=Math.floor(e/60%60),n=Math.floor(e/3600);return n>0?n+":"+s(i,2)+":"+s(t,2):i+":"+s(t,2)}})}),e.ProgressBar.ProgressBarLayout}),function(){function e(e){function t(t,i){var a,m,g=t==window,v=i&&void 0!==i.message?i.message:void 0;if(i=e.extend({},e.blockUI.defaults,i||{}),!i.ignoreIfBlocked||!e(t).data("blockUI.isBlocked")){if(i.overlayCSS=e.extend({},e.blockUI.defaults.overlayCSS,i.overlayCSS||{}),a=e.extend({},e.blockUI.defaults.css,i.css||{}),i.onOverlayClick&&(i.overlayCSS.cursor="pointer"),m=e.extend({},e.blockUI.defaults.themedCSS,i.themedCSS||{}),v=void 0===v?i.message:v,g&&h&&s(window,{fadeOut:0}),v&&"string"!=typeof v&&(v.parentNode||v.jquery)){var b=v.jquery?v[0]:v,y={};e(t).data("blockUI.history",y),y.el=b,y.parent=b.parentNode,y.display=b.style.display,y.position=b.style.position,y.parent&&y.parent.removeChild(b)}e(t).data("blockUI.onUnblock",i.onUnblock);var w,_,k,P,x=i.baseZ;w=e(p||i.forceIframe?'<iframe class="blockUI" style="z-index:'+x++ +';display:none;border:none;margin:0;padding:0;position:absolute;width:100%;height:100%;top:0;left:0" src="'+i.iframeSrc+'"></iframe>':'<div class="blockUI" style="display:none"></div>'),_=e(i.theme?'<div class="blockUI blockOverlay ui-widget-overlay" style="z-index:'+x++ +';display:none"></div>':'<div class="blockUI blockOverlay" style="z-index:'+x++ +';display:none;border:none;margin:0;padding:0;width:100%;height:100%;top:0;left:0"></div>'),i.theme&&g?(P='<div class="blockUI '+i.blockMsgClass+' blockPage ui-dialog ui-widget ui-corner-all" style="z-index:'+(x+10)+';display:none;position:fixed">',i.title&&(P+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(i.title||"&nbsp;")+"</div>"),P+='<div class="ui-widget-content ui-dialog-content"></div>',P+="</div>"):i.theme?(P='<div class="blockUI '+i.blockMsgClass+' blockElement ui-dialog ui-widget ui-corner-all" style="z-index:'+(x+10)+';display:none;position:absolute">',i.title&&(P+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(i.title||"&nbsp;")+"</div>"),P+='<div class="ui-widget-content ui-dialog-content"></div>',P+="</div>"):P=g?'<div class="blockUI '+i.blockMsgClass+' blockPage" style="z-index:'+(x+10)+';display:none;position:fixed"></div>':'<div class="blockUI '+i.blockMsgClass+' blockElement" style="z-index:'+(x+10)+';display:none;position:absolute"></div>',k=e(P),v&&(i.theme?(k.css(m),k.addClass("ui-widget-content")):k.css(a)),i.theme||_.css(i.overlayCSS),_.css("position",g?"fixed":"absolute"),(p||i.forceIframe)&&w.css("opacity",0);var S=[w,_,k],C=e(g?"body":t);e.each(S,function(){this.appendTo(C)}),i.theme&&i.draggable&&e.fn.draggable&&k.draggable({handle:".ui-dialog-titlebar",cancel:"li"});var M=u&&(!e.support.boxModel||e("object,embed",g?null:t).length>0);if(c||M){if(g&&i.allowBodyStretch&&e.support.boxModel&&e("html,body").css("height","100%"),(c||!e.support.boxModel)&&!g)var T=l(t,"borderTopWidth"),A=l(t,"borderLeftWidth"),E=T?"(0 - "+T+")":0,L=A?"(0 - "+A+")":0;e.each(S,function(e,t){var s=t[0].style;if(s.position="absolute",2>e)g?s.setExpression("height","Math.max(document.body.scrollHeight, document.body.offsetHeight) - (jQuery.support.boxModel?0:"+i.quirksmodeOffsetHack+') + "px"'):s.setExpression("height",'this.parentNode.offsetHeight + "px"'),g?s.setExpression("width",'jQuery.support.boxModel && document.documentElement.clientWidth || document.body.clientWidth + "px"'):s.setExpression("width",'this.parentNode.offsetWidth + "px"'),L&&s.setExpression("left",L),E&&s.setExpression("top",E);else if(i.centerY)g&&s.setExpression("top",'(document.documentElement.clientHeight || document.body.clientHeight) / 2 - (this.offsetHeight / 2) + (blah = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"'),s.marginTop=0;else if(!i.centerY&&g){var n=i.css&&i.css.top?parseInt(i.css.top,10):0,a="((document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "+n+') + "px"';s.setExpression("top",a)}})}if(v&&(i.theme?k.find(".ui-widget-content").append(v):k.append(v),(v.jquery||v.nodeType)&&e(v).show()),(p||i.forceIframe)&&i.showOverlay&&w.show(),i.fadeIn){var O=i.onBlock?i.onBlock:d,I=i.showOverlay&&!v?O:d,$=v?O:d;i.showOverlay&&_._fadeIn(i.fadeIn,I),v&&k._fadeIn(i.fadeIn,$)}else i.showOverlay&&_.show(),v&&k.show(),i.onBlock&&i.onBlock.bind(k)();if(n(1,t,i),g?(h=k[0],f=e(i.focusableElements,h),i.focusInput&&setTimeout(r,20)):o(k[0],i.centerX,i.centerY),i.timeout){var j=setTimeout(function(){g?e.unblockUI(i):e(t).unblock(i)},i.timeout);e(t).data("blockUI.timeout",j)}}}function s(t,s){var a,r=t==window,o=e(t),l=o.data("blockUI.history"),d=o.data("blockUI.timeout");d&&(clearTimeout(d),o.removeData("blockUI.timeout")),s=e.extend({},e.blockUI.defaults,s||{}),n(0,t,s),null===s.onUnblock&&(s.onUnblock=o.data("blockUI.onUnblock"),o.removeData("blockUI.onUnblock"));var p;p=r?e("body").children().filter(".blockUI").add("body > .blockUI"):o.find(">.blockUI"),s.cursorReset&&(p.length>1&&(p[1].style.cursor=s.cursorReset),p.length>2&&(p[2].style.cursor=s.cursorReset)),r&&(h=f=null),s.fadeOut?(a=p.length,p.stop().fadeOut(s.fadeOut,function(){0===--a&&i(p,l,s,t)})):i(p,l,s,t)}function i(t,s,i,n){var a=e(n);if(!a.data("blockUI.isBlocked")){t.each(function(){this.parentNode&&this.parentNode.removeChild(this)}),s&&s.el&&(s.el.style.display=s.display,s.el.style.position=s.position,s.el.style.cursor="default",s.parent&&s.parent.appendChild(s.el),a.removeData("blockUI.history")),a.data("blockUI.static")&&a.css("position","static"),"function"==typeof i.onUnblock&&i.onUnblock(n,i);var r=e(document.body),o=r.width(),l=r[0].style.width;r.width(o-1).width(o),r[0].style.width=l}}function n(t,s,i){var n=s==window,r=e(s);if((t||(!n||h)&&(n||r.data("blockUI.isBlocked")))&&(r.data("blockUI.isBlocked",t),i.bindEvents&&(!t||i.showOverlay))){var o="mousedown mouseup keydown keypress keyup touchstart touchend touchmove";t?e(document).bind(o,i,a):e(document).unbind(o,a)}}function a(t){if("keydown"===t.type&&t.keyCode&&9==t.keyCode&&h&&t.data.constrainTabKey){var s=f,i=!t.shiftKey&&t.target===s[s.length-1],n=t.shiftKey&&t.target===s[0];if(i||n)return setTimeout(function(){r(n)},10),!1}var a=t.data,o=e(t.target);return o.hasClass("blockOverlay")&&a.onOverlayClick&&a.onOverlayClick(t),o.parents("div."+a.blockMsgClass).length>0?!0:0===o.parents().children().filter("div.blockUI").length}function r(e){if(f){var t=f[e===!0?f.length-1:0];t&&t.focus()}}function o(e,t,s){var i=e.parentNode,n=e.style,a=(i.offsetWidth-e.offsetWidth)/2-l(i,"borderLeftWidth"),r=(i.offsetHeight-e.offsetHeight)/2-l(i,"borderTopWidth");t&&(n.left=a>0?a+"px":"0"),s&&(n.top=r>0?r+"px":"0")}function l(t,s){return parseInt(e.css(t,s),10)||0}e.fn._fadeIn=e.fn.fadeIn;var d=e.noop||function(){},p=/MSIE/.test(navigator.userAgent),c=/MSIE 6.0/.test(navigator.userAgent)&&!/MSIE 8.0/.test(navigator.userAgent),u=(document.documentMode||0,e.isFunction(document.createElement("div").style.setExpression));e.blockUI=function(e){t(window,e)},e.unblockUI=function(e){s(window,e)},e.growlUI=function(t,s,i,n){var a=e('<div class="growlUI"></div>');t&&a.append("<h1>"+t+"</h1>"),s&&a.append("<h2>"+s+"</h2>"),void 0===i&&(i=3e3);var r=function(t){t=t||{},e.blockUI({message:a,fadeIn:"undefined"!=typeof t.fadeIn?t.fadeIn:700,fadeOut:"undefined"!=typeof t.fadeOut?t.fadeOut:1e3,timeout:"undefined"!=typeof t.timeout?t.timeout:i,centerY:!1,showOverlay:!1,onUnblock:n,css:e.blockUI.defaults.growlCSS})};r();a.css("opacity");a.mouseover(function(){r({fadeIn:0,timeout:3e4});var t=e(".blockMsg");t.stop(),t.fadeTo(300,1)}).mouseout(function(){e(".blockMsg").fadeOut(1e3)})},e.fn.block=function(s){if(this[0]===window)return e.blockUI(s),this;var i=e.extend({},e.blockUI.defaults,s||{});return this.each(function(){var t=e(this);i.ignoreIfBlocked&&t.data("blockUI.isBlocked")||t.unblock({fadeOut:0})}),this.each(function(){"static"==e.css(this,"position")&&(this.style.position="relative",e(this).data("blockUI.static",!0)),this.style.zoom=1,t(this,s)})},e.fn.unblock=function(t){return this[0]===window?(e.unblockUI(t),this):this.each(function(){s(this,t)})},e.blockUI.version=2.7,e.blockUI.defaults={message:"<h1>Please wait...</h1>",title:null,draggable:!0,theme:!1,css:{padding:0,margin:0,width:"30%",top:"40%",left:"35%",textAlign:"center",color:"#000",border:"3px solid #aaa",backgroundColor:"#fff",cursor:"wait"},themedCSS:{width:"30%",top:"40%",left:"35%"},overlayCSS:{backgroundColor:"#000",opacity:.6,cursor:"wait"},cursorReset:"default",growlCSS:{width:"350px",top:"10px",left:"",right:"10px",border:"none",padding:"5px",opacity:.6,cursor:"default",color:"#fff",backgroundColor:"#000","-webkit-border-radius":"10px","-moz-border-radius":"10px","border-radius":"10px"},iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank",forceIframe:!1,baseZ:1e3,centerX:!0,centerY:!0,allowBodyStretch:!0,bindEvents:!0,constrainTabKey:!0,fadeIn:200,fadeOut:400,timeout:0,showOverlay:!0,focusInput:!0,focusableElements:":input:enabled:visible",onBlock:null,onUnblock:null,onOverlayClick:null,quirksmodeOffsetHack:4,blockMsgClass:"blockMsg",ignoreIfBlocked:!1};var h=null,f=[]}"function"==typeof p&&p.amd&&p.amd.jQuery?p("blockUI",["jquery"],e):e(jQuery)}(),p("entities/player-view",["spp-app","text!templates/main-template.html","apps/smart-podcast-player/dss","entities/news","entities/progress-bar","blockUI","l10n","translations"],function(e,t){return e.module("Player",function(e,s,i,n,a,r){e.PlayerLayout=n.ItemView.extend({template:r.template(t,void 0,{escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g}),className:"spp-main-view",events:{"click    .spp-news":"clickNews","keypress .spp-news":"clickNews","click    .spp-play-pause-circle":"clickPlay","keypress .spp-play-pause-circle":"clickPlay","click    .spp-play-pause":"clickPlay","keypress .spp-play-pause":"clickPlay","click    .spp-speed":"clickSpeed","keypress .spp-speed":"clickSpeed","click    .spp-button-download":"download","keypress .spp-button-download":"download","click    .spp-more":"clickMore","keypress .spp-more":"clickMore","click    .spp-sticky-expand":"clickStickyExpand","keypress .spp-sticky-expand":"clickStickyExpand","click    .spp-more-show-notes":"clickMoreShowNotes","keypress .spp-more-show-notes":function(e){13==e.which&&this.clickMoreShowNotes()},"click    .spp-step-forward":"clickStepForward","keypress .spp-step-forward":"clickStepForward","click    .spp-step-back":"clickStepBack","keypress .spp-step-back":"clickStepBack"},initialize:function(){this.hover=!1;var e=this;a(window).on("resize",function(){e.resize(!1)})},whileplaying:function(e){var t=e.durationEstimate/1e3,s=e.position/1e3;this.progressBarRegion.currentView.progressUpdate(s,t)},clickPlay:function(e){this.isCursorMoving=!1,this.model.get("isPlaying")?this.model.set("isPlaying",!1):this.model.set("isPlaying",!0),a(e.currentTarget).find(".spp-control").focus()},clickSpeed:function(t){this.isCursorMoving=!1;var s=soundManager.getSoundById("track_"+this.model.cid);null!=s&&s.loaded&&(this.options.isStp?e.StpController.rotateTrackSpeed(this.options.stpLayout):e.Controller.rotateTrackSpeed(this.options.sppLayout),a(t.currentTarget).find(".spp-control").focus())},clickNews:function(e){var t=r.template('<div class="spp-news-region"></div>'),n=.95*a(window).width();n>600&&(n=600);var o=/Edge/.test(navigator.userAgent);o&&this.$el.closest(".spp-player-layout").find(".spp-main-image").hide();var l=this;a.blockUI({message:t(),blockMsgClass:"spp-news-overlay",css:{width:n+"px"},centerX:!1,centerY:!1,baseZ:2e5,onOverlayClick:function(){a(".spp-ctct").hide().detach().appendTo(a("body")),a.unblockUI(),l.$el.closest(".spp-player-layout").find(".spp-main-image").show()}});var d=new i.Marionette.Region({el:a("body").find(".spp-news-region").last()});d.show(new s.News.NewsLayout({model:new i.Model({options:this.options.shortcode_options,playerView:this})})),"dark"===this.options.shortcode_options.style&&a(".spp-news-overlay").addClass("spp-news-overlay-dark"),d.currentView.elementsTabbable(!0),"click"==e.type&&d.currentView.removeOutlines(),d.currentView.focusFirstControl()},clickStickyExpand:function(){var e=this.model.get("data"),t=this.$el.closest(".smart-track-player"),s=this.$(".spp-show-logo").children();s=s.add(this.$(".spp-show-logo"));var i=this;if(t.hasClass("spp-sticky-expanded"))o=t.outerHeight()-80,"top"==e.position?t.animate({top:-o+"px"},400,function(){i.makeStickyCollapsed(i)}):t.animate({bottom:-o+"px"},400,function(){i.makeStickyCollapsed(i)});else{t.addClass("spp-stp-mobile"),t.removeClass("spp-stp-desktop"),t.addClass("spp-sticky-expanded"),t.removeClass("spp-sticky-collapsed");var n=(this.el,this.$el.hasClass("spp-no-image")?430:730),r=Math.min(.9*a(window).height(),n)-55-160;r-=this.$(".spp-artist-and-title").outerHeight(),a(window).height()<=550&&(r+=10),r>20?(this.$(".spp-show-logo").cssExtended("display","",AP_Player.importantStr),s.each(function(){a(this).cssExtended("height",r+"px",AP_Player.importantStr),a(this).cssExtended("width",r+"px",AP_Player.importantStr)})):this.$(".spp-show-logo").cssExtended("display","none",AP_Player.importantStr);var o=t.outerHeight()-80;"top"==e.position?(t.css("top",-o+"px"),t.animate({top:0},500)):(t.css("bottom",-o+"px"),t.animate({bottom:0},500))}},makeStickyCollapsed:function(e){var t=this.model.get("data"),s=e.$el.closest(".smart-track-player"),i=e.$(".spp-show-logo").children();i=i.add(e.$(".spp-show-logo")),"top"==t.position?s.css("top",0):s.css("bottom",0),s.removeClass("spp-stp-mobile"),s.addClass("spp-stp-desktop"),s.removeClass("spp-sticky-expanded"),s.addClass("spp-sticky-collapsed"),e.$(".spp-show-logo").cssExtended("display","",AP_Player.importantStr),i.each(function(){a(this).cssExtended("height","",AP_Player.importantStr),a(this).cssExtended("width","",AP_Player.importantStr)})},clickMore:function(e){for(var t=this.model.get("data"),n=[t.download,t.social,t.subscribe_itunes,t.subscribe_buzzsprout,t.subscribe_googleplay,t.subscribe_iheartradio,t.subscribe_pocketcasts,t.subscribe_soundcloud,t.subscribe_stitcher,t.subscribe_rss],o=!1,l=0;l<n.length;l++)n[l]&&"false"!==n[l]&&(o=!0);if(!o)return void s.trigger("toggleEpisodeDetails",this.options.sppLayout,"click"==e.type);var d=this.$el.parents(".spp-player-layout"),p=this.$el;if(t.isSticky){var c=r.template('<div class="spp-dsst-region"></div>'),u=Math.max(document.documentElement.clientWidth,window.innerWidth||0),h=Math.min(70,.12*u)/2,f=Math.min(70,.12*u)+29,m=r.range(h,600,f),g=r.findLastIndex(m,function(e){return u>=e}),v=m[g],b=(a(window).width()-v)/2,y="dark"==t.style?"#111":"#aaa",w="dark"==t.style?"#111":"#FFF";a.blockUI({message:c({data:t}),css:{border:"1px solid "+y,backgroundColor:w,cursor:"default","border-radius":"5px",color:"inherit",width:v+"px",left:b+"px",top:"10%"},overlayCSS:{opacity:.9},centerX:!1,centerY:!1,onOverlayClick:function(){a.unblockUI()}});var _=new i.Marionette.Region({el:a(".spp-dsst-region").last()})}else{var c=r.template('<div class="spp-dss-region"></div>');d.block({message:c({data:t}),css:{left:.05*p.width()+"px",width:.9*p.width()+"px",bottom:t.isCurrentlyStpDesktop?"0":"25px",top:"auto",border:"1px solid #aaa",cursor:"default","border-radius":"5px",color:"inherit"},centerX:!1,centerY:!1,onOverlayClick:function(){d.unblock()}});var _=new i.Marionette.Region({el:d.find(".spp-dss-region").last()})}_.show(new s.Dss.DssLayout({model:this.model})),_.currentView.elementsTabbable(!0),"click"==e.type&&_.currentView.removeOutlines(),_.currentView.focusFirstControl()
},clickMoreShowNotes:function(e){s.trigger("toggleEpisodeDetails",this.options.sppLayout,"click"==e.type)},clickStepBack:function(){var e=soundManager.getSoundById("track_"+this.model.cid);e.setPosition(e.position-15e3)},clickStepForward:function(){var e=soundManager.getSoundById("track_"+this.model.cid);e.setPosition(e.position+6e4)},seek:function(e){var t="track_"+this.model.cid;this.model.get("isPlaying")||(soundManager.pauseAll(),this.model.set("isPlaying",!0));var s=soundManager.getSoundById(t);s.setPosition(e*s.durationEstimate)},download:function(e){this.isCursorMoving=!1,e.preventDefault();var t=this.model.get("data"),s=t.download_url,i=t.download_id;if("https:"===location.protocol&&(s=s.replace(/^http:\/\//i,"https://")),"soundcloud"==t.method)var n=s.includes("?")?"&":"?",a=s+n+"consumer_key="+AP_Player.soundcloudConsumerKey;else var a=AP_Player.homeUrl+"/?spp_download="+i;var r=/iPhone|iPad|iPod/i.test(navigator.userAgent);r?window.open(s,"_blank"):"soundcloud"==t.method?window.location=a:this.$(".spp-downloader").prop("src",a)},animateStpEllipsis:function(){if(this.$(".spp-loading-ellipsis").length>0){var e=this,t=0;this.loading_timer=setInterval(function(){t++;var s=new Array(5);try{s.fill("&nbsp;"),s.fill(".",0,t%5+1),e.$(".spp-loading-ellipsis").html(s.join(""))}catch(i){}},300)}},resize:function(){var e=this.model.get("data");e.isSticky&&this.makeStickyCollapsed(this),(null===e.show_logo||void 0===e.show_logo)&&this.$el.closest(".smart-track-player").addClass("spp-no-image");var t=("mobile"===e.view||window.innerWidth<=768)&&!e.isSticky;if(e.isCurrentlyStpDesktop=e.isStp&&!t,e.isStp&&t&&!e.isSticky&&(this.$el.closest(".smart-track-player").removeClass("spp-stp-desktop").addClass("spp-stp-mobile"),"dark"===e.style&&this.$el.closest(".smart-track-player").addClass("smart-podcast-player-dark"),this.$(".spp-top-matter").cssExtended("width","",AP_Player.importantStr),this.$(".spp-progress-bar").cssExtended("width","100%",AP_Player.importantStr),this.$(".spp-progress-bar").cssExtended("left","",AP_Player.importantStr),this.$(".spp-artist-and-title").cssExtended("width","",AP_Player.importantStr),null===e.show_logo||void 0===e.show_logo?(this.$(".spp-show-logo").cssExtended("display","none",AP_Player.importantStr),this.$el.closest(".smart-track-player").cssExtended("height","262px",AP_Player.importantStr)):this.$el.closest(".smart-track-player").cssExtended("height","372px",AP_Player.importantStr),e.artist||"none"!==e.email_portal?this.$el.find(".spp-track-title").cssExtended("max-height","3.0em",AP_Player.importantStr):this.$el.find(".spp-track-title").cssExtended("max-height","4.5em",AP_Player.importantStr)),e.isStp&&!t&&!e.isSticky){if(this.$el.closest(".smart-track-player").addClass("spp-stp-desktop").removeClass("spp-stp-mobile"),this.$el.closest(".smart-track-player").cssExtended("height","",AP_Player.importantStr),null===e.show_logo||void 0===e.show_logo);else{var s="calc(100% - 100px)",i=/MSIE 10.0;/.test(navigator.userAgent);i&&(s=this.$el.parent().width()-100+"px",this.$(".spp-top-matter").cssExtended("left","100px",AP_Player.importantStr),this.$(".spp-artist-and-title").cssExtended("height","50px",AP_Player.importantStr)),this.$(".spp-top-matter").cssExtended("width",s,AP_Player.importantStr),this.$(".spp-progress-bar").cssExtended("width",s,AP_Player.importantStr),this.$(".spp-progress-bar").cssExtended("left","100px",AP_Player.importantStr)}var n=110;if("false"!==e.download&&(n+=39),("false"!==e.social||e.subscribe!==!1&&(e.subscribe_itunes||e.subscribe_buzzsprout||e.subscribe_googleplay||e.subscribe_iheartradio||e.subscribe_pocketcasts||e.subscribe_soundcloud||e.subscribe_stitcher||e.subscribe_rss))&&(n+=39),("false"!==e.download||"false"!==e.share)&&(n+=10),this.$(".spp-artist-and-title").cssExtended("width","calc(100% - "+n+"px)",AP_Player.importantStr),"none"!==e.email_portal){var a=this.$(".spp-news").outerWidth();a+=10,this.$(".spp-stpd-artist").cssExtended("width","calc(100% - "+a+"px)",AP_Player.importantStr),this.$(".spp-stpd-track-title").cssExtended("width","calc(100% - "+a+"px)",AP_Player.importantStr)}this.$(".spp-top-matter").cssExtended("position","absolute",AP_Player.importantStr)}if(e.isStp&&e.isSticky)if((null===e.show_logo||void 0===e.show_logo)&&this.$(".spp-artist-and-title").cssExtended("margin-left","10px",AP_Player.importantStr),window.innerWidth<=768){this.$(".spp-top-matter").cssExtended("width","",AP_Player.importantStr);var r=this.el.clientHeight;r-=356,this.$(".spp-show-logo").cssExtended("height",r+"px",AP_Player.importantStr),this.$(".spp-show-logo").cssExtended("width",r+"px",AP_Player.importantStr)}else if(this.$(".spp-show-logo").cssExtended("height","",AP_Player.importantStr),this.$(".spp-show-logo").cssExtended("width","",AP_Player.importantStr),null===e.show_logo||void 0===e.show_logo){var s="calc(100% - 110px)";this.$(".spp-artist-and-title").cssExtended("width",s,AP_Player.importantStr),this.$(".spp-artist-and-title").cssExtended("width","",AP_Player.importantStr)}else{var s="calc(100% - 80px)",i=/MSIE 10.0;/.test(navigator.userAgent);i&&(s=this.$el.parent().width()-80+"px",this.$(".spp-top-matter").cssExtended("left","80px",AP_Player.importantStr)),this.$(".spp-top-matter").cssExtended("width",s,AP_Player.importantStr)}if(e.isStp){var o=/Version\/10\..(\..)? Safari/.test(navigator.userAgent);if(o){var l=this.$el.find(".spp-marquee");l.css("animation-play-state","paused")}var d=this.$el.find(".spp-artist-first-container").children()[0],p=this.$el.find(".spp-stpd-artist")[0],c=d&&d.offsetWidth>p.clientWidth;"off"!==e.marquee&&c?(this.$el.find(".spp-artist-first-container").addClass("spp-marquee"),this.$el.find(".spp-artist-second-container").addClass("spp-marquee")):(this.$el.find(".spp-artist-first-container").removeClass("spp-marquee"),this.$el.find(".spp-artist-second-container").removeClass("spp-marquee"));var u=this.$el.find(".spp-track-title-first-container").children()[0],h=this.$el.find(".spp-stpd-track-title")[0],f=u&&u.offsetWidth>h.clientWidth;if("off"!==e.marquee&&f?(this.$el.find(".spp-track-title-first-container").addClass("spp-marquee"),this.$el.find(".spp-track-title-second-container").addClass("spp-marquee")):(this.$el.find(".spp-track-title-first-container").removeClass("spp-marquee"),this.$el.find(".spp-track-title-second-container").removeClass("spp-marquee")),o){var m=this;setTimeout(function(){l.css("animation-play-state","running")},500),this.isFirstResize=!0,setTimeout(function(){m.isFirstResize&&(m.resize(!1),m.isFirstResize=!1)},250)}}e.isStp||(this.setCircleSize(),this.setTruncatedShowNotes(),this.setTitleClamp())},setCircleSize:function(){var e=.16*this.$el.width();if("number"==typeof e){20>e&&(e=20),e>70&&(e=70);var t=this.$el.find(".spp-play-pause-circle");t.cssExtended("width",e+"px","important"),t.cssExtended("height",e+"px","important"),t.cssExtended("top",e/5+"px","important")}},setTruncatedShowNotes:function(){var e=this.$el.height()-this.$el.find(".spp-top-matter").height()-this.$el.find(".spp-main-separator").outerHeight(!0)-this.$el.find(".spp-tag-list").outerHeight(!0)-this.$el.find(".spp-controls").outerHeight(!0),t=this.$el.find(".spp-truncated-show-notes").width(),s=this.model.get("data"),i=' <span class="spp-control spp-more-show-notes" tabindex="0"><u>'+"more".toLocaleString()+"</u></span>";this.$el.find(".spp-truncated-show-notes").html(o(s.truncated_show_notes_700+i,"16px Roboto",t)<e?s.truncated_show_notes_700+i:o(s.truncated_show_notes_560+i,"16px Roboto",t)<e?s.truncated_show_notes_560+i:o(s.truncated_show_notes_420+i,"16px Roboto",t)<e?s.truncated_show_notes_420+i:o(s.truncated_show_notes_280+i,"16px Roboto",t)<e?s.truncated_show_notes_280+i:s.truncated_show_notes_140+i)},setTitleClamp:function(){var e=this.model.get("data");e.show_name?this.$el.find(".spp-track-title").cssExtended("max-height","3.0em",AP_Player.importantStr):this.$el.find(".spp-track-title").css("max-height","")},isSoundLoaded:function(){var e=soundManager.getSoundById("track_"+this.model.cid);return null!==e&&"undefined"!=typeof e&&e.loaded?!0:!1},getSoundDurationEstimate:function(){var e=soundManager.getSoundById("track_"+this.model.cid);return null!=e&&"undefined"!=typeof e?null!==e.duration?e.duration:e.durationEstimate:null},getProgressPercent:function(){var e=soundManager.getSoundById("track_"+this.model.cid);return e?e.position/e.durationEstimate*100:0},onRender:function(){var e=this;this.progressBarRegion=new i.Marionette.Region({el:this.$el.find(".spp-progress-bar-region").last()}),this.progressBarRegion.show(new s.ProgressBar.ProgressBarLayout({model:new i.Model({data:{parentView:e,shortcode_options:this.options.shortcode_options}})})),this.listenTo(this.model,"updateTime",this.timeUpdated);var t=this.model.get("data");if(!t.isStp&&"false"!==t.shortcode_options.show_tags){for(var n="",r=0;r<t.tags.length;r++)n+='<li class="spp-tag">'+t.tags[r]+"</li>";this.$(".spp-tag-list").html(n)}var o=this.options.shortcode_options;if(!t.isStp&&0==o.hide_listens){var l=s.request("tracks:get",this.options.sppLayout),d=l.totalPlaybackCount();if(d){var p=d.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")+" Listens";""!=t.show_name&&void 0!==t.show_name&&(p=" • "+p),this.$(".spp-show-count").text(p)}}this.model.set("isPlaying",!1),this.model.set("speed",1);var c=/MSIE (\d+\.\d+);/.test(navigator.userAgent)||1==!!document.documentMode;if(c&&this.$(".spp-controls").children().each(function(){a(this).hasClass("spp-play-pause-circle")||a(this).cssExtended("height","70px",AP_Player.importantStr)}),t.isStp&&"false"==t.download&&"false"==t.social&&"false"==t.subscribe&&this.$(".spp-more svg").cssExtended("display","none",AP_Player.importantStr),t.isStp&&"blurred_logo"===t.background_type&&t.show_logo){var c=/MSIE (\d+\.\d+);/.test(navigator.userAgent)||1==!!document.documentMode,u=/Edge\//.test(navigator.userAgent);c||u||(this.$(".spp-stpd-main-image").append('<img src="'+t.show_logo+'"/>'),this.$(".spp-stpm-main-image").append('<img src="'+t.show_logo+'"/>'),this.$(".spp-main-image").append('<img src="'+t.show_logo+'"/>'))}t.isSticky&&this.$(".spp-controls").addClass("spp-sticky"),this.resize(!0)},onShow:function(){this.resize(!1)},updateSpeedControl:function(){this.$el.removeClass("spp-speeding-050"),this.$el.removeClass("spp-speeding-075"),this.$el.removeClass("spp-speeding-125"),this.$el.removeClass("spp-speeding-150"),this.$el.removeClass("spp-speeding-175"),this.$el.removeClass("spp-speeding-200"),this.$el.removeClass("spp-speeding-300");var e=this.model.get("speed");.5==e?this.$el.addClass("spp-speeding-050"):.75==e?this.$el.addClass("spp-speeding-075"):1.25==e?this.$el.addClass("spp-speeding-125"):1.5==e?this.$el.addClass("spp-speeding-150"):1.75==e?this.$el.addClass("spp-speeding-175"):2==e?this.$el.addClass("spp-speeding-200"):3==e&&this.$el.addClass("spp-speeding-300")}})}),e.on("changeEpisodePlaying",function(e){var t=e.mainRegion.currentView;if(t){var s=t.model.get("isPlaying");s?(t.$el.addClass("spp-playing"),t.$(".spp-play").attr("aria-label","Pause")):(t.$el.removeClass("spp-playing"),t.$(".spp-play").attr("aria-label","Play"))}}),e.on("changeSpeed",function(e){var t=e.mainRegion.currentView;t&&t.updateSpeedControl()}),e.reqres.setHandler("currentTrack",function(e){var t=e.mainRegion.currentView;return t?t.model:void 0}),e.Player.PlayerLayout}),p("apps/smart-track-player/stp-controller",["spp-app","entities/track-model","entities/player-view","soundmanager2"],function(e,t){return e.module("Player",function(e,s,i,a,r,o){e.StpLayout=a.Layout.extend({template:o.template('<div class="spp-main-region"></div>'),className:"spp-player-layout",regions:{mainRegion:".spp-main-region"},initialize:function(){this.isMouse=!1,this.isStp=!0},events:{"mousedown .spp-control":function(){this.isMouse||(this.isMouse=!0,this.$el.find(".spp-control").each(function(){this.classList&&this.classList.add("spp-no-outline")}),this.$el.find(".spp-episode-details-body").addClass("spp-no-outline"))},"keydown .spp-control":function(e){this.isMouse&&9==e.which&&0==e.altKey&&(this.isMouse=!1,this.$el.find(".spp-control").each(function(){this.classList&&this.classList.remove("spp-no-outline")}),this.$el.find(".spp-episode-details-body").removeClass("spp-no-outline"))}},userTriggers:[]}),e.StpController={init:function(){function s(e){for(var t=o.length,s=0;t>s;s++){var i=o[s].data,n=SmartPodcastPlayer._by_uid[i.uid].mainRegion.currentView,r=e.find(function(e){return e.uid===i.uid});if("undefined"==typeof r)i.title="Unable to retrieve track data";else if(i.title="undefined"==typeof r.title?"Unable to retrieve track data":void 0==i.title_shortcode||""==i.title_shortcode?r.title:i.title_shortcode,i.email=a(i.title,i.permalink),void 0!==typeof r.artist&&void 0==i.artist&&(i.artist=r.artist),"latest"==i.ajax_type&&(i.url=r.stream_url,i.download_url=r.download_url,i.download_id=r.download_id),"soundcloud"==i.ajax_type){if("string"==typeof r.stream_url){var l=r.stream_url.includes("?")?"&":"?";i.url=r.stream_url+l+"consumer_key="+AP_Player.soundcloudConsumerKey}i.artist=i.artist||(r.user?r.user.username:""),i.filename=r.permalink+".mp3",i.download_url=r.download_url,i.download_id=r.download_id}n.model.set({data:i}),void 0!=n.loading_timer&&clearInterval(n.loading_timer),n.render(),n.resize(!0)}}var a=function(e,t){var s="";if(e){var i=encodeURIComponent(e.replace(/&amp;/g,"&").replace(/&quot;/g,'"'));s="?subject="+i}else s="?subject=A podcast for you";return s+="&amp;body=Hi,%0D%0A%0D%0AI thought you might enjoy this podcast:%0D%0A%0D%0A",e&&(s+=i+"%0D%0A"),s+=t?t:window.location.href,s+="%0D%0A%0D%0AEnjoy!"},o=[];if(r(".smart-track-player-container").each(function(s,l){var d=r(l),p=d.data("uid"),c="SmartPodcastPlayer_uid_"+p;"undefined"!=typeof window[c]&&(SmartPodcastPlayer._errors[p]=window[c].errors,SmartPodcastPlayer._options[p]=window[c].options,SmartPodcastPlayer._shortcode_options[p]=window[c].shortcode_options,window[c]=void 0),"undefined"==typeof SmartPodcastPlayer._options[p]&&n("SmartPodcastPlayer_uid_"+p+" not found.");for(var u=0;u<SmartPodcastPlayer._errors[p].length;u++)n(SmartPodcastPlayer._errors[p][u]);var h={method:"file"};for(var f in h)"undefined"==typeof SmartPodcastPlayer._options[p][f]&&(SmartPodcastPlayer._options[p][f]=h[f]);var m=SmartPodcastPlayer._options[p];m.shortcode_options=m,m.isStp=!0,m.title_shortcode=m.title,"number"==typeof m.title_shortcode&&(m.title_shortcode=m.title_shortcode.toString()),m.email=a(m.title_shortcode,m.permalink);var g=void 0!==m.latest;if(g)m.feed_url=m.feed_url;else{m.url=m.url,m.download_url=m.url;var v=document.createElement("a");v.href=m.url||m.feed_url;var b=v.hostname,y=b.indexOf("soundcloud.com")>-1;y&&(m.method="soundcloud")}(g||"soundcloud"==m.method||"file"==m.method&&(void 0==m.title_shortcode||""==m.title_shortcode))&&(m.title='Getting file data<span class="spp-loading-ellipsis">...</span>'),m.playing=!1,m.isStp=!0,m.isSticky="true"===m.sticky;var w=new e.StpLayout;r(l).removeClass("smart-track-player-container"),r(l).addClass("smart-track-player"),m.isSticky&&(r(l).addClass("spp-sticky"),"top"==m.position&&r(l).addClass("spp-sticky-top"));var _=new i.Marionette.Region({el:r(l)});_.show(w);var k=new t.Track({data:m});k.setLayout(w);var P=new e.PlayerLayout({model:k,stpLayout:w,shortcode_options:m.shortcode_options,isStp:!0});P.render(),w.mainRegion.show(P),P.resize(!0),P.animateStpEllipsis(),SmartPodcastPlayer._by_uid[m.uid]=w,"elapsed"===m.email_cta_open?SmartPodcastPlayer.onTimeElapsed(function(){this.find(".spp-news").click()},m.email_cta_elapsed_seconds,m.uid):"remaining"===m.email_cta_open&&SmartPodcastPlayer.onTimeRemaining(function(){this.find(".spp-news").click()},m.email_cta_remaining_seconds,m.uid),g?(m.ajax_type="latest",o.push({data:m})):"soundcloud"==m.method?(m.ajax_type="soundcloud",o.push({data:m})):(void 0==m.title_shortcode||""==m.title_shortcode)&&(m.ajax_type="file",o.push({data:m})),m.isSticky&&"top"==m.position&&r("body.spp").prepend(r(".spp-sticky-bumper"))}),o.length>0){var l=o.map(function(e){return e.data.url}),d=o.map(function(e){return e.data.uid}),p=o.map(function(e){return e.data.ajax_type}),c={action:"get_stp_tracks_new",urls:l,uids:d,types:p};r.ajax({url:AP_Player.ajaxurl,dataType:"json",async:!0,type:"POST",data:c,success:function(e){s(e,o)},error:function(e,t){for(var i=o.length,a=0;i>a;a++){var r=o[a].data,l=SmartPodcastPlayer._by_uid[r.uid].mainRegion.currentView;if(r.title="Unable to retrieve track data",l.model.set({data:r}),void 0!=l.loading_timer&&clearInterval(l.loading_timer),l.render(),l.resize(!0),"parsererror"===t){var d=e.responseText.replace(/(\r\n|\n|\r)/gm,""),p=/((?:<span.*\/span>)|(?:<br \/.*br \/>))(.*)/.exec(d);p&&n('There was an error while retrieving the track data for URL "'+r.url+'". The error message is: ',p[1]);try{var c=JSON.parse(p[2]);s(c,o)}catch(u){}}}}})}},rotateTrackSpeed:function(e){var t=e.mainRegion.currentView.model,s=t.get("speed");t.get("isPlaying")||t.set("isPlaying",!0),.5==s?t.set("speed",.75):.75==s?t.set("speed",1):1==s?t.set("speed",1.25):1.25==s?t.set("speed",1.5):1.5==s?t.set("speed",1.75):1.75==s?t.set("speed",2):2==s?t.set("speed",3):3==s?t.set("speed",.5):t.set("speed",1)}},s.on("changeEpisodePlaying",function(e,t){var s=e.mainRegion.currentView;if(s&&e.isStp){var i="track_"+s.model.cid,n=soundManager.getSoundById(i);if(t.get("isPlaying"))if(n)n.paused?soundManager.resume(i):soundManager.play(i);else{var a=s.model.get("data");if(a.url.toLowerCase().includes("soundcloud.com"))var r=a.url.includes("?")?"&":"?",o=a.url+r+"consumer_key="+AP_Player.soundcloudConsumerKey;else var o=a.url;n=soundManager.createSound({id:i,url:o,whileplaying:function(){s.whileplaying(this)},onload:function(){for(var t=0;t<e.userTriggers.length;t++){var s=e.userTriggers[t];if("undefined"==typeof s.episode||s.episode===a.episode_number)if("elapsed"===s.type){var i=1e3*s.seconds;this.onPosition(i,s.callback,e.$el)}else if("remaining"===s.type){var i=n.durationEstimate-1e3*s.seconds;this.onPosition(i,s.callback,e.$el)}}},onfinish:function(){t.set("isPlaying",!1)}}),soundManager.play(i)}else n&&soundManager.pause(i)}}),s.on("changeSpeed",function(e,t){var s="track_"+t.cid,i=soundManager.getSoundById(s),n=t.get("speed");i&&i.isHTML5&&(i._a.playbackRate=n)})}),e.Player.StpController}),p("text!templates/spp-template.html",[],function(){return'<div class="spp-tabs">\r\n	<div class="spp-tab spp-tab-episodes">\r\n		<div><%="Episodes".toLocaleString()%></div>\r\n	</div>\r\n	<div class="spp-tab spp-tab-now-playing spp-tab-active">\r\n		<div><%="Now Playing".toLocaleString()%></div>\r\n	</div>\r\n	<div class="spp-tab spp-tab-details">\r\n		<div><%="Details".toLocaleString()%></div>\r\n	</div>\r\n</div>\r\n<div class="spp-tab-wrap spp-tab-wrap-center">\r\n	<div class="spp-main-image"></div>\r\n	<div class="spp-main-region"></div>\r\n	<div class="spp-playlist-region"></div>\r\n	<div class="spp-episode-details-region spp-off-to-right"></div>\r\n</div>\r\n '}),p("entities/playlist-model",["spp-app","entities/track-model"],function(e){e.module("Entities",function(e,t,i,a,r){var o=[];e.Tracks=i.Collection.extend({model:e.Track,initialize:function(){this._currentPage=1,this._tracksPerPage=10,this._moreTracksComing=!1},comparators:{newest:function(e){return-e.get("id")},oldest:function(e){return e.get("id")},mostPopular:function(e){return-e.get("playback_count")},leastPopular:function(e){return e.get("playback_count")}},getCurrentPage:function(){return this._currentPage},setCurrentPage:function(e){this._currentPage=e},getPageOfTracks:function(){var t,s=new Array,i=(this._currentPage-1)*this._tracksPerPage,n=this._currentPage*this._tracksPerPage;return t=this.searchedTracks?this.searchedTracks.models:this.models,r.each(t,function(e,t){e>=i&&n>e&&s.push(t)}),new e.Tracks(s)},setComparator:function(e){return this.comparator=this.comparators[e],this},totalPlaybackCount:function(){return"undefined"==typeof this.cached_playback_count&&(this.cached_playback_count=this.models.reduce(function(e,t){var s=t.get("data");return"number"==typeof s.playback_count?e+s.playback_count:e},0)),this.cached_playback_count},getNextTrack:function(e){var t;t=this.searchedTracks?this.searchedTracks.models:this.models;var s=t.indexOf(e);return t.length>s+1?t[s+1]:null},reverseSortOrder:function(){this.models=this.models.reverse(),this.searchedTracks&&(this.searchedTracks.models=this.searchedTracks.models.reverse())},searchTracks:function(t){if(""==t)return void(this.searchedTracks=null);var s=this.filter(function(e){var s=e.get("data");return s.title.toLowerCase().indexOf(t.toLowerCase())>=0?!0:s.tag_list.toLowerCase().indexOf('"'+t.toLowerCase()+'"')>=0?!0:!1});this.searchedTracks=new e.Tracks(s)},getNumTracks:function(){return this.searchedTracks?this.searchedTracks.length:this.length},getNumTracksAfterAjax:function(){return this._numTracksAfterAjax},isMoreTracksComing:function(){return this._moreTracksComing}});var l=function(e,t){var s=e.model.get("options");r.ajax({url:AP_Player.ajaxurl,dataType:"json",type:"POST",async:!0,data:{action:"get_spplayer_tracks",stream:s.url,episode_limit:s.episode_limit,delay:s.ajax_delay},success:c,error:d,invokeData:{Layout:e,playerRegion:t}})},d=function(e,t){if("parsererror"===t){var s=e.responseText.replace(/(\r\n|\n|\r)/gm,""),i=/(<span.*\/span>)(.*)/,a=i.exec(s);if(a){n("There was an error while retrieving the feed. The error message is: ",a[1]);try{var r=JSON.parse(a[2]);u(r,this.invokeData.Layout,this.invokeData.playerRegion,r.length,!1)}catch(o){p(this.invokeData.playerRegion)}}else n("There was an error while retrieving the feed."),p(this.invokeData.playerRegion)}else n("There was an error while retrieving the feed."),p(this.invokeData.playerRegion)},p=function(e){r(e.el[0]).cssExtended("background-image","none",AP_Player.importantStr)},c=function(e){u(e,this.invokeData.Layout,this.invokeData.playerRegion,e.length,!1)},u=function(i,a,l,d,c){if(0==i.length||"object"==typeof i&&i.error_data)return n("Could not retrieve data from the feed.  Check to ensure the feed is valid."),void p(l);var u,h,f,m=(a.model.get("region"),a.model.get("options")),g=m.uid,v=a.model.attributes.options.sort;"undefined"==typeof o[g]?(h=!0,u=new Array):(h=!1,u=o[g].models),"oldest"==v?(i.reverse(),f=1):f=d;var b=u.length;r.each(i,function(t,i){if(b>0)return b--,"oldest"==v?f++:f--,!0;var n=/(?:[^\s"]+|"[^"]*")+/g;if(void 0!==i.tag_list&&""!=i.tag_list.trim()){var r=i.tag_list.match(n);r=r.join(",").replace(/\"|\"|\"|\"/g,""),i.tag_string=r,r=r.split(","),i.tags=r}else i.tags=new Array;var o=Math.ceil(i.duration/1e3),l=Math.floor(o/60),d=Math.floor(l/60),p=d,c=l%60,h=o%60;if(i.duration_time=p+":"+s(c,2)+":"+s(h,2),i.playing=!1,i.paid=m.paid,""!=m.numbering){var g=m.numbering,y=(g.split("#").length-1,new RegExp("[#]{1,10}")),w=g.replace(y,"([0-9]{0,4})"),_=i.title.match(w);_&&(i.episode_number=_[1]);var k=new RegExp(w,"g");i.title_without_episode_number=i.title.replace(k,"")}else i.title_without_episode_number=i.title,i.episode_number=f;i.shortcode_options=m,i.show_episode_numbers=m.show_episode_numbers,i.download=m.download,i.social=m.social,i.social_twitter=m.social_twitter,i.social_facebook=m.social_facebook,i.social_gplus=m.social_gplus,i.social_linkedin=m.social_linkedin,i.social_stumble=m.social_stumble,i.social_pinterest=m.social_pinterest,i.social_email=m.social_email,i.subscribe_rss=m.subscribe_rss,i.subscribe_itunes=m.subscribe_itunes,i.subscribe_stitcher=m.subscribe_stitcher,i.subscribe_soundcloud=m.subscribe_soundcloud,i.subscribe_buzzsprout=m.subscribe_buzzsprout,i.subscribe_iheartradio=m.subscribe_iheartradio,i.subscribe_googleplay=m.subscribe_googleplay,i.subscribe_pocketcasts=m.subscribe_pocketcasts,i.poweredby=m.poweredby,i.speedcontrol=m.speedcontrol,i.show_logo=void 0===m.show_image||"default"===m.show_image?i.artwork_url:m.show_image,i.show_name=m.show_name,i.hashtag=m.hashtag,i.twitter_username=m.twitter_username,i.tweet_text=m.tweet_text,i.permalink=m.permalink?m.permalink:i.permalink_url,i.email="?subject="+encodeURIComponent(i.title.replace(/&amp;/g,"&")),i.email+="&amp;body=Hi,%0D%0A%0D%0AI thought you might enjoy this ",i.email+=void 0!==i.show_name?"episode of "+encodeURIComponent(i.show_name.replace(/&amp;/g,"&"))+":%0D%0A%0D%0A":"podcast:%0D%0A%0D%0A",i.email+=encodeURIComponent(i.title.replace(/&amp;/g,"&"))+"%0D%0A",i.email+=i.permalink?i.permalink:window.location.href,i.email+="%0D%0A%0D%0AEnjoy!",i.method=i.permalink_url.indexOf("soundcloud.com")>0?"soundcloud":"file";var P=/\n/g;if("soundcloud"==i.method){i.show_notes="<p>"+i.description+"</p>",i.show_notes=i.show_notes.replace(P,"</p><p>");var x=/<p>\s*<\/p>/g;i.show_notes=i.show_notes.replace(x,"")}else i.show_notes=i.description;i.stream_url=i.stream_url.indexOf("&")>-1?i.stream_url.slice(0,i.stream_url.indexOf("&")):i.stream_url;var S={data:i},C=new e.Track(S),M=C.get("data");M.cid=C.cid,C.set({data:M}),C.setLayout(a),u.push(C),"oldest"==v?f++:f--}),o[g]=new e.Tracks(u),c&&(o[g]._moreTracksComing=!0),o[g]._numTracksAfterAjax=d,h?t.trigger("tracksInitialized",a,o[g],l):t.trigger("tracksAdded",a)};return t.reqres.setHandler("tracks:initialize",function(e,t){var s=e.model.get("options"),i=!0;if("object"==typeof SmartPodcastPlayer._cached_tracks[s.uid]){var n=SmartPodcastPlayer._cached_tracks[s.uid],a=parseInt(s.featured_episode,10),r="number"!=typeof a||isNaN(a)||n.numTracks-a<n.tracks.length;r&&(n.numTracks==n.tracks.length&&(i=!1),u(n.tracks,e,t,n.numTracks,i))}i&&l(e,t)}),t.reqres.setHandler("tracks:get",function(e){var t=e.model.get("options"),s=t.uid;return o[s]}),t.reqres.setHandler("track:featured",function(e){var t,s=e.model.get("options"),i=s.uid,n=parseInt(s.featured_episode,10),a=o[i].length;return"number"==typeof n&&n>0?(o[i].isMoreTracksComing()&&("oldest"===s.sort?n>20&&(n=0):n-=o[i].getNumTracksAfterAjax()-20),n>a&&(n=a),t="oldest"==s.sort?n-1:a-n):t=0,o[i].models[t]}),t.Entities})}),p("apps/smart-podcast-player/core",["spp-app","text!templates/spp-template.html","entities/track-model","entities/playlist-model","soundmanager2","l10n","translations"],function(e,t){return e.module("Core",function(e,s,i,a,r,o){e.FullLayout=a.Layout.extend({template:o.template(t,void 0,{escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g}),className:"spp-player-layout",regions:{mainRegion:".spp-main-region",playlistRegion:".spp-playlist-region",episodeDetailsRegion:".spp-episode-details-region"},initialize:function(){this.isMouse=!1,this.isStp=!1},events:{"click    .spp-tab-episodes":"tabEpisodes","keypress .spp-tab-episodes":"tabEpisodes","click    .spp-tab-details":"tabDetails","keypress .spp-tab-details":"tabDetails","click    .spp-tab-now-playing":"tabNowPlaying","keypress .spp-tab-now-playing":"tabNowPlaying","mousedown .spp-control":function(){this.isMouse||(this.isMouse=!0,this.$el.find(".spp-control").each(function(){this.classList&&this.classList.add("spp-no-outline")}),this.$el.find(".spp-episode-details-body").addClass("spp-no-outline"))},"keydown .spp-control":function(e){this.isMouse&&9==e.which&&0==e.altKey&&(this.isMouse=!1,this.$el.find(".spp-control").each(function(){this.classList&&this.classList.remove("spp-no-outline")}),this.$el.find(".spp-episode-details-body").removeClass("spp-no-outline"))}},tabEpisodes:function(){this.$el.find(".spp-tab").removeClass("spp-tab-active"),this.$el.find(".spp-tab-episodes").addClass("spp-tab-active"),this.playlistRegion.currentView.triggerMethod("show"),this.$el.find(".spp-tab-wrap").removeClass("spp-tab-wrap-right"),this.$el.find(".spp-tab-wrap").removeClass("spp-tab-wrap-center"),this.$el.find(".spp-tab-wrap").addClass("spp-tab-wrap-left")},tabDetails:function(){this.$el.find(".spp-tab").removeClass("spp-tab-active"),this.$el.find(".spp-tab-details").addClass("spp-tab-active"),this.episodeDetailsRegion.currentView.render(),this.$el.find(".spp-tab-wrap").removeClass("spp-tab-wrap-center"),this.$el.find(".spp-tab-wrap").removeClass("spp-tab-wrap-left"),this.$el.find(".spp-tab-wrap").addClass("spp-tab-wrap-right")},tabNowPlaying:function(){this.$el.find(".spp-tab").removeClass("spp-tab-active"),this.$el.find(".spp-tab-now-playing").addClass("spp-tab-active"),this.$el.find(".spp-tab-wrap").removeClass("spp-tab-wrap-left"),this.$el.find(".spp-tab-wrap").removeClass("spp-tab-wrap-right"),this.$el.find(".spp-tab-wrap").addClass("spp-tab-wrap-center")},userTriggers:[]}),e.Controller={init:function(){r(".smart-podcast-player-container, .smart-podcast-player").each(function(t,a){if(!r(this).hasClass("smart-podcast-player-container"))return!0;var o="SPP_"+t,l=r(a).data("uid"),d="SmartPodcastPlayer_uid_"+l;if(SmartPodcastPlayer._options[l]=SmartPodcastPlayer._options[l]||window[d].options,SmartPodcastPlayer._errors[l]=SmartPodcastPlayer._errors[l]||window[d].errors,SmartPodcastPlayer._shortcode_options[l]=SmartPodcastPlayer._shortcode_options[l]||window[d].shortcode_options,window[d].cached_tracks&&(SmartPodcastPlayer._cached_tracks[l]=window[d].cached_tracks),window[d]=void 0,SmartPodcastPlayer._errors[l])for(var p=0;p<SmartPodcastPlayer._errors[l].length;p++)n(SmartPodcastPlayer._errors[l][p]);var c={consumer_key:AP_Player.soundcloudConsumerKey,current_page:1,tracks_per_page:10};for(var u in c)"undefined"==typeof SmartPodcastPlayer._options[l][u]&&(SmartPodcastPlayer._options[l][u]=c[u]);sppOptions=SmartPodcastPlayer._options[l],sppOptions.social_twitter===!1&&sppOptions.social_facebook===!1&&sppOptions.social_linkedin===!1&&sppOptions.social_gplus===!1&&sppOptions.social_pinterest===!1&&sppOptions.social_email===!1&&(sppOptions.social=!1),"false"!==sppOptions.subscribe_rss&&(sppOptions.subscribe_rss=sppOptions.url),"false"===sppOptions.spp_branding&&r(a).addClass("spp-no-branding");var h=new e.FullLayout({model:new i.Model({region:o,options:sppOptions})});SmartPodcastPlayer._by_uid[sppOptions.uid]=h,"elapsed"===sppOptions.email_cta_open?SmartPodcastPlayer.onTimeElapsed(function(){this.find(".spp-news").click()},sppOptions.email_cta_elapsed_seconds,sppOptions.uid):"remaining"===sppOptions.email_cta_open&&SmartPodcastPlayer.onTimeRemaining(function(){this.find(".spp-news").click()},sppOptions.email_cta_remaining_seconds,sppOptions.uid),r(a).removeClass("smart-podcast-player-container"),r(a).addClass("smart-podcast-player");var f=new i.Marionette.Region({el:r(a)});s.request("tracks:initialize",h,f)})}},s.on("toggleEpisodeDetails",function(e,t){e.episodeDetailsRegion.$el.hasClass("spp-off-to-right")?(e.episodeDetailsRegion.currentView.render(),s.trigger("showEpisodeDetails",e,t)):s.trigger("hideEpisodeDetails",e)}),s.on("tracksInitialized",function(e,t,i){s.trigger("playlist:init",e),s.trigger("episode-details:init",e),s.trigger("player:init",e),i.show(e),i.$el.cssExtended("background-image","none",AP_Player.importantStr);var n=e.model.get("options");if("blurred_logo"==n.background){var a=/MSIE (\d+\.\d+);/.test(navigator.userAgent)||1==!!document.documentMode;if(!a){var r=t.at(0).get("data").show_logo;null!==r&&void 0!==r&&""!==r&&e.$el.find(".spp-main-image").append('<img src="'+r+'"/>')}}})}),e.Core.Controller}),p("text!templates/episode-details-template.html",[],function(){return'<div class="spp-episode-details-header">\r\n	<svg xmlns="http://www.w3.org/2000/svg" class="spp-control spp-more-show-notes" tabindex="0" aria-labelledby="spp-svg-title-back-arrow" role="img" width="22" height="16" viewBox="0 0 22 16">\n  <title id="spp-svg-title-back-arrow">Back to playlist view</title>\n  <path id="Back_Arrow" d="M122.1,11.079H104.254l5.337-5.586a0.863,0.863,0,0,0,0-1.239,0.914,0.914,0,0,0-1.27,0L101,11.973l7.209,7.773a0.913,0.913,0,0,0,1.268,0,0.86,0.86,0,0,0,0-1.238L104.2,12.83H122.1A0.876,0.876,0,1,0,122.1,11.079Z" transform="translate(-101 -4)"/>\n</svg>\n\r\n	<%="Episode Details".toLocaleString()%>\r\n</div>\r\n\r\n<div class="spp-episode-details-body">\r\n	<% /* This extra wrapper is required so special characters do not break the layout */ %>\r\n	<div class="spp-show-notes">\r\n		<%= data.show_notes %>\r\n	</div>\r\n</div>\r\n\r\n<div class="spp-dss-region">\r\n</div>\r\n'
}),function(e){function t(){this===n.elem&&(n.pos=[-260,-260],n.elem=!1,a=3)}var s,i,n={pos:[-260,-260]},a=3,r=document,o=r.documentElement,l=r.body;e.event.special.mwheelIntent={setup:function(){var s=e(this).bind("mousewheel",e.event.special.mwheelIntent.handler);return this!==r&&this!==o&&this!==l&&s.bind("mouseleave",t),s=null,!0},teardown:function(){return e(this).unbind("mousewheel",e.event.special.mwheelIntent.handler).unbind("mouseleave",t),!0},handler:function(t){var r=[t.clientX,t.clientY];return this===n.elem||Math.abs(n.pos[0]-r[0])>a||Math.abs(n.pos[1]-r[1])>a?(n.elem=this,n.pos=r,a=250,clearTimeout(i),i=setTimeout(function(){a=10},200),clearTimeout(s),s=setTimeout(function(){a=3},1500),t=e.extend({},t,{type:"mwheelIntent"}),(e.event.dispatch||e.event.handle).apply(this,arguments)):void 0}},e.fn.extend({mwheelIntent:function(e){return e?this.bind("mwheelIntent",e):this.trigger("mwheelIntent")},unmwheelIntent:function(e){return this.unbind("mwheelIntent",e)}}),e(function(){l=r.body,e(r).bind("mwheelIntent.mwheelIntentDefault",e.noop)})}(jQuery),p("mwheel-intent",function(){}),function(e){"function"==typeof p&&p.amd?p("vendor/jquery.mousewheel",["jquery"],e):"object"==typeof exports?module.exports=e:e(jQuery)}(function(e){function t(t){var r=t||window.event,o=l.call(arguments,1),d=0,p=0,c=0,u=0;if(t=e.event.fix(r),t.type="mousewheel","detail"in r&&(c=-1*r.detail),"wheelDelta"in r&&(c=r.wheelDelta),"wheelDeltaY"in r&&(c=r.wheelDeltaY),"wheelDeltaX"in r&&(p=-1*r.wheelDeltaX),"axis"in r&&r.axis===r.HORIZONTAL_AXIS&&(p=-1*c,c=0),d=0===c?p:c,"deltaY"in r&&(c=-1*r.deltaY,d=c),"deltaX"in r&&(p=r.deltaX,0===c&&(d=-1*p)),0!==c||0!==p){if(1===r.deltaMode){var h=e.data(this,"mousewheel-line-height");d*=h,c*=h,p*=h}else if(2===r.deltaMode){var f=e.data(this,"mousewheel-page-height");d*=f,c*=f,p*=f}return u=Math.max(Math.abs(c),Math.abs(p)),(!a||a>u)&&(a=u,i(r,u)&&(a/=40)),i(r,u)&&(d/=40,p/=40,c/=40),d=Math[d>=1?"floor":"ceil"](d/a),p=Math[p>=1?"floor":"ceil"](p/a),c=Math[c>=1?"floor":"ceil"](c/a),t.deltaX=p,t.deltaY=c,t.deltaFactor=a,t.deltaMode=0,o.unshift(t,d,p,c),n&&clearTimeout(n),n=setTimeout(s,200),(e.event.dispatch||e.event.handle).apply(this,o)}}function s(){a=null}function i(e,t){return p.settings.adjustOldDeltas&&"mousewheel"===e.type&&t%120===0}var n,a,r=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],o="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],l=Array.prototype.slice;if(e.event.fixHooks)for(var d=r.length;d;)e.event.fixHooks[r[--d]]=e.event.mouseHooks;var p=e.event.special.mousewheel={version:"3.1.9",setup:function(){if(this.addEventListener)for(var s=o.length;s;)this.addEventListener(o[--s],t,!1);else this.onmousewheel=t;e.data(this,"mousewheel-line-height",p.getLineHeight(this)),e.data(this,"mousewheel-page-height",p.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var e=o.length;e;)this.removeEventListener(o[--e],t,!1);else this.onmousewheel=null},getLineHeight:function(t){return parseInt(e(t)["offsetParent"in e.fn?"offsetParent":"parent"]().css("fontSize"),10)},getPageHeight:function(t){return e(t).height()},settings:{adjustOldDeltas:!0}};e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})}),e(jQuery,this),p("vendor/jquery.jscrollpane",function(){}),p("apps/smart-podcast-player/episode-details",["spp-app","text!templates/episode-details-template.html","apps/smart-podcast-player/dss","entities/track-model","soundmanager2","vendor/jquery.jscrollpane","vendor/jquery.mousewheel","l10n","translations"],function(e,t){return e.module("EpisodeDetails",function(e,s,i,n,a,r){e.MainLayout=n.Layout.extend({template:r.template(t,void 0,{escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g}),className:"spp-episode-details-layout",regions:{dssRegion:".spp-dss-region"},events:{"click .spp-more-show-notes":function(){s.trigger("toggleEpisodeDetails",this.options.sppLayout,!0)},"keypress .spp-more-show-notes":function(){s.trigger("toggleEpisodeDetails",this.options.sppLayout,!1)}},initialize:function(){var e=this;a(window).on("resize",function(){var t=e.$el.find(".spp-episode-details-body");t.data("jsp")&&t.data("jsp").reinitialise()})},onRender:function(){this.dssRegion.show(new s.Dss.DssLayout({model:this.model}));var e,t=this.options.sppLayout.$el.find(".spp-tabs"),i=this.$el.find(".spp-episode-details-header");"none"!=t.css("display")?(e=t.outerHeight(),e+=parseInt(t.find(".spp-tab-active").css("border-bottom"),10),isNaN(e)&&(e=43)):"none"!=i.css("display")&&(e=i.outerHeight());var n=this.options.sppLayout.$el.outerHeight()-e-this.$el.find(".spp-dss-layout").outerHeight()-parseInt(this.$el.find(".spp-episode-details-body").css("margin-top"),10)-parseInt(this.$el.find(".spp-episode-details-body").css("margin-bottom"),10);isNaN(n)&&(n=199);var a=this.$el.find(".spp-episode-details-body");a.height(n),a.jScrollPane({contentWidth:"0px"}),this.elementsTabbable(!1)},elementsTabbable:function(e){e?(this.$el.find(".spp-episode-details-body").attr("tabindex","0"),this.$el.find(".spp-episode-details-body a").removeAttr("tabindex"),this.$el.find(".spp-more-show-notes").attr("tabindex","0")):(this.$el.find(".spp-episode-details-body").removeAttr("tabindex"),this.$el.find(".spp-episode-details-body a").attr("tabindex","-1"),this.$el.find(".spp-more-show-notes").removeAttr("tabindex")),this.dssRegion.currentView.elementsTabbable(e)}}),e.Controller={init:function(t){var i=s.request("track:featured",t);t.episodeDetailsRegion.show(new e.MainLayout({model:i,sppLayout:t}))}}}),e.on("previewTrack",function(e,t){var s=e.episodeDetailsRegion.currentView;s.model=t,s.dssRegion.currentView.model=t}),e.on("showEpisodeDetails",function(e,t){e.episodeDetailsRegion.$el.removeClass("spp-off-to-right"),e.episodeDetailsRegion.currentView.elementsTabbable(!0),t&&e.episodeDetailsRegion.$el.find(".spp-episode-details-body").addClass("spp-no-outline")}),e.on("hideEpisodeDetails",function(e){e.episodeDetailsRegion.$el.addClass("spp-off-to-right"),e.episodeDetailsRegion.currentView.elementsTabbable(!1)}),e.EpisodeDetails.Controller}),p("text!templates/playlist-track-template.html",[],function(){return'<div class="spp-track-row">\r\n	<div class="spp-episode">\r\n		<% if ( data.show_episode_numbers == "true" ) { %>\r\n			<div class="spp-number"><%= parseInt( data.episode_number, 10) %></div>\r\n		<% } else { %>\r\n			<div class="spp-play-hidden-numbers"></div>\r\n		<% } %>\r\n		<span class="spp-play">\r\n			<svg xmlns="http://www.w3.org/2000/svg" class="spp-control spp-play spp-play-svg" tabindex="0" aria-labelledby="spp-svg-title-play" role="img" viewBox="0 0 20 26">\n  <title id="spp-svg-title-play">Play</title>\n  <path id="Play" d="M110.99,64.008l-20,13V51Z" transform="translate(-91 -51)"/>\n</svg>\n\r\n		</span>\r\n		<span class="spp-equalizer">\r\n			<svg xmlns="http://www.w3.org/2000/svg" class="spp-control spp-eq-svg" width="14" height="16" viewBox="0 0 14 16">\n  <path id="EQ" d="M201,4h2V20h-2V4Zm4,4h2v8h-2V8Zm-8-2h2V18h-2V6Zm-4,4h2v4h-2V10Z" transform="translate(-193 -4)"/>\n</svg>\n\r\n		</span>\r\n	</div>\r\n	<div class="spp-track-title-container">\r\n		<div class="spp-track-title"><%= data.title_without_episode_number %></div>\r\n	</div>\r\n</div>'}),p("text!templates/playlist-template.html",[],function(){return'<div class="spp-playlist-header-region"></div>\r\n<div class="spp-playlist-scroller">\r\n	<div class="spp-playlist-tracks-region"></div>\r\n</div>\r\n<div class="spp-playlist-footer-region"></div>\r\n'}),p("text!templates/playlist-header-template.html",[],function(){return'<div class="spp-search-container">\r\n	<div class="spp-search-icon-container">\r\n		<svg xmlns="http://www.w3.org/2000/svg" width="16.531" height="16.531" viewBox="0 0 16.531 16.531">\n  <defs>\n    <style>\n      .cls-1 {\n        fill-rule: evenodd;\n      }\n    </style>\n  </defs>\n  <path id="Search" class="cls-1" d="M688.536,43.121l-1.415,1.414-4.8-4.8a6.541,6.541,0,1,1,1.415-1.414ZM678.5,30a4.5,4.5,0,1,0,4.5,4.5A4.5,4.5,0,0,0,678.5,30Z" transform="translate(-672 -28)"/>\n</svg>\n\r\n	</div>\r\n	<form>\r\n		<input type="Search" class="spp-search" aria-label="Search episodes" value="<%= data.searchTerm %>">\r\n	</form>\r\n</div>\r\n<div class="spp-sort-container">\r\n	<svg xmlns="http://www.w3.org/2000/svg" class="spp-control spp-sort spp-sort-down" tabindex="0" aria-labelledby="spp-svg-title-sort-down" role="img" width="21" height="17" viewBox="0 0 21 17">\n  <title id="spp-svg-title-sort-down">Sort oldest first</title>\n  <path id="Sort_Down" d="M156,16.994l-4,5-4-5H151V5h2V16.994h3ZM135,11h13v2H135V11Zm0-6h13V7H135V5Zm10,14H135V17h10v2Z" transform="translate(-135 -5)"/>\n</svg>\n\r\n	<svg xmlns="http://www.w3.org/2000/svg" class="spp-control spp-sort spp-sort-up" tabindex="0" aria-labelledby="spp-svg-title-sort-up" role="img" width="21" height="17" viewBox="0 0 21 17">\n  <title id="spp-svg-title-sort-up">Sort newest first</title>\n  <path id="Sort_Up" d="M185,9.006l-4-5-4,5H180V21h2V9.006h3ZM164,15h13V13H164v2Zm0,6h13V19H164v2ZM174,7H164V9h10V7Z" transform="translate(-164 -4)"/>\n</svg>\n\r\n</div>\r\n'}),p("text!templates/playlist-footer-template.html",[],function(){return'<div class="spp-playlist-pagination">\r\n	<svg xmlns="http://www.w3.org/2000/svg" class="spp-control spp-playlist-prev-page" tabindex="0" aria-labelledby="spp-svg-title-page-back" role="img" width="22" height="16" viewBox="0 0 22 16">\n  <title id="spp-svg-title-page-back">Previous page</title>\n  <path id="Page_Back" d="M122.1,11.079H104.254l5.337-5.586a0.863,0.863,0,0,0,0-1.239,0.914,0.914,0,0,0-1.27,0L101,11.973l7.209,7.773a0.913,0.913,0,0,0,1.268,0,0.86,0.86,0,0,0,0-1.238L104.2,12.83H122.1A0.876,0.876,0,1,0,122.1,11.079Z" transform="translate(-101 -4)"/>\n</svg>\n\r\n	<span class="spp-current-page">\r\n		<%= current_page %>\r\n	</span>\r\n	<%="of".toLocaleString()%>\r\n	<span class="spp-num-pages">\r\n		<% if( typeof num_pages === "number" ) { %>\r\n			<%=num_pages%>\r\n		<% } else { %>\r\n			...\r\n		<% } %>\r\n	</span>\r\n	<svg xmlns="http://www.w3.org/2000/svg" class="spp-control spp-playlist-next-page" tabindex="0" aria-labelledby="spp-svg-title-page-forward" role="img" width="22" height="16" viewBox="0 0 22 16">\n  <title id="spp-svg-title-page-forward">Next page</title>\n  <path id="Page_Forward" d="M122.1,11.079H104.254l5.337-5.586a0.863,0.863,0,0,0,0-1.239,0.914,0.914,0,0,0-1.27,0L101,11.973l7.209,7.773a0.913,0.913,0,0,0,1.268,0,0.86,0.86,0,0,0,0-1.238L104.2,12.83H122.1A0.876,0.876,0,1,0,122.1,11.079Z" transform="translate(-101 -4)"/>\n</svg>\n\r\n</div>\r\n'}),p("apps/smart-podcast-player/playlist",["spp-app","text!templates/playlist-track-template.html","text!templates/playlist-template.html","text!templates/playlist-header-template.html","text!templates/playlist-footer-template.html","entities/track-model","entities/playlist-model","vendor/jquery.jscrollpane","vendor/jquery.mousewheel","l10n","translations"],function(e,t,s,i,a){return e.module("Playlist",function(e,n,r,o,l,d){e.HeaderLayout=o.Layout.extend({template:d.template(i,void 0,{escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g}),className:"spp-playlist-header",elementsTabbable:function(e){e?(this.$el.find(".spp-search").removeAttr("tabindex"),this.$el.find(".spp-sort").attr("tabindex","0")):(this.$el.find(".spp-search").attr("tabindex","-1"),this.$el.find(".spp-sort").attr("tabindex","-1"))},onRender:function(){var e=/MSIE (\d+\.\d+);/.test(navigator.userAgent)||1==!!document.documentMode;e&&this.$(".spp-search-icon-container").cssExtended("top","40px",AP_Player.importantStr),this.enableDisableSort()},enableDisableSort:function(){var e=/MSIE (\d+\.\d+);/.test(navigator.userAgent)||1==!!document.documentMode;e||(this.model.get("data").playlistMainLayout.model.isMoreTracksComing()?this.$(".spp-sort")[0].classList.add("spp-disabled"):this.$(".spp-sort")[0].classList.remove("spp-disabled"))}}),e.FooterLayout=o.Layout.extend({template:d.template(a,void 0,{escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g}),className:"spp-playlist-footer",onRender:function(){if(this.enableDisableArrows(),"unknown"===this.model.get("num_pages")){var e=0,t=this;this.loading_timer=setInterval(function(){e++;var s;s=e%3==0?".&nbsp;&nbsp;":e%3==1?"..&nbsp;":"...",t.$el.find(".spp-num-pages").html(s)},400)}},modelEvents:{"change:current_page":"textChanged","change:num_pages":"textChanged"},textChanged:function(){this.$el.find(".spp-current-page").text(this.model.get("current_page"));var e=this.model.get("num_pages");"unknown"!==e&&(this.$el.find(".spp-num-pages").text(e),void 0!==this.loading_timer&&clearInterval(this.loading_timer)),this.enableDisableArrows()},enableDisableArrows:function(){if("undefined"!=typeof this.$(".spp-playlist-prev-page")[0].classList){var e=this.model.get("current_page"),t=this.model.get("num_pages"),s="unknown"===t;s||1==e?(this.$(".spp-playlist-prev-page")[0].classList.add("spp-disabled"),this.$(".spp-playlist-prev-page").attr("tabindex","-1")):(this.$(".spp-playlist-prev-page")[0].classList.remove("spp-disabled"),this.$(".spp-playlist-prev-page").attr("tabindex","0")),s||e==t?(this.$(".spp-playlist-next-page")[0].classList.add("spp-disabled"),this.$(".spp-playlist-next-page").attr("tabindex","-1")):(this.$(".spp-playlist-next-page")[0].classList.remove("spp-disabled"),this.$(".spp-playlist-next-page").attr("tabindex","0"))}},elementsTabbable:function(e){if(e){var t=this.model.get("current_page");t>1&&this.$(".spp-playlist-prev-page").attr("tabindex","0"),t<this.model.get("num_pages")&&this.$(".spp-playlist-next-page").attr("tabindex","0")}else this.$(".spp-playlist-prev-page").attr("tabindex","-1"),this.$(".spp-playlist-next-page").attr("tabindex","-1")}}),e.TrackView=o.ItemView.extend({template:d.template(t,void 0,{escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g}),className:"spp-track",modelEvents:{change:"render"},triggers:{"click .spp-track-row":"track:play","focus .spp-track-row":"track:focus"},events:{"keydown .spp-track-row":function(e){13==e.which?this.triggerMethod("track:play"):(38==e.which||40==e.which)&&this.triggerMethod("keydown",e)}},onRender:function(){var e=this.model.get("data"),t="track_"+this.model.cid;(e.active===!0||"true"===e.active)&&this.$el.addClass("active"),this.$el.find(".spp-track-row").attr("tabindex","0"),this.$el.attr("data-tid",t)}}),e.TrackPageView=o.CollectionView.extend({itemView:e.TrackView,className:"spp-track-list",onItemviewTrackPlay:function(e){var t=n.request("currentTrack",this.options.sppLayout),s=t.get("speed"),i=e.model;t.set("isPlaying",!1),n.trigger("previewTrack",this.options.sppLayout,i),i.set("isPlaying",!0),i.set("speed",s)},onItemviewTrackFocus:function(e){this.children.each(function(e){e.$el.find(".spp-track-row").attr("tabindex","-1")}),e.$el.find(".spp-track-row").attr("tabindex","0")},onItemviewKeydown:function(e,t){var s,i=this.collection.indexOf(e.model);if(38==t.which&&i>0)s=i-1,t.preventDefault();else{if(!(40==t.which&&i<this.collection.length-1))return;s=i+1,t.preventDefault()}this.$el.find(".spp-track-row").attr("tabindex","-1");var n=this.children.findByIndex(s).$el.find(".spp-track-row");n.attr("tabindex","0"),n.focus()},elementsTabbable:function(e){e?this.$el.find(".spp-track-row").attr("tabindex","0"):this.$el.find(".spp-track-row").attr("tabindex","-1")}}),e.MainLayout=o.Layout.extend({template:d.template(s,void 0,{escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g}),className:"spp-playlist",regions:{headerRegion:".spp-playlist-header-region",tracksRegion:".spp-playlist-tracks-region",footerRegion:".spp-playlist-footer-region"},triggers:{"click    .spp-sort":"playlist:sort","keypress .spp-sort-container":"playlist:sort","click    .spp-playlist-prev-page":"paging:prev","keypress .spp-playlist-prev-page":"paging:prev","click    .spp-playlist-next-page":"paging:next","keypress .spp-playlist-next-page":"paging:next"},events:{"click .spp-search":function(){var e=this.$el.find(".spp-search");e.val().toLowerCase()=="Search".toLocaleString().toLowerCase()&&e.val("")},"input .spp-search":"searchInput","keypress .spp-search":"searchKeypress"},initialize:function(){var e=this;l(window).on("resize",function(){var t=e.$el.find(".spp-playlist-scroller");t.data("jsp")>0&&t.data("jsp").reinitialise()})},onRender:function(){var t,s=this.options.sppLayout.model.get("options"),i=this.model.getNumTracks(),n=this.model.getCurrentPage();t=this.model.isMoreTracksComing()?"unknown":Math.ceil(i/s.tracks_per_page);var a=this;this.headerRegion.show(new e.HeaderLayout({model:new r.Model({data:{playlistMainLayout:a,searchTerm:this.searchTerm?this.searchTerm:"Search".toLocaleString()}})})),this.footerRegion.show(new e.FooterLayout({model:new r.Model({current_page:n,num_pages:t,sppLayout:this.options.sppLayout})})),this.tracksRegion.show(new e.TrackPageView({collection:this.model.getPageOfTracks(),sppLayout:this.options.sppLayout}))},onShow:function(){var e,t=this.options.sppLayout.$el.find(".spp-tabs");if("none"!=t.css("display")){e=t.outerHeight();var s=parseInt(t.find(".spp-tab-active").css("border-bottom"),10);isNaN(s)&&(s=3),e+=s}else e=0;var i=this.options.sppLayout.$el.outerHeight()-e-this.headerRegion.currentView.$el.outerHeight()-this.footerRegion.currentView.$el.outerHeight();this.$el.find(".spp-playlist-scroller").height(i),this.$el.find(".spp-playlist-scroller").jScrollPane({enableKeyboardNavigation:!1,contentWidth:"0px"})},onPlaylistSort:function(){if(!this.model.isMoreTracksComing()){this.$el.toggleClass("spp-sort-reverse"),this.model.reverseSortOrder();{this.model.setCurrentPage(1)}this.tracksRegion.currentView.collection=this.model.getPageOfTracks(),this.tracksRegion.currentView.render(),this.footerRegion.currentView.model.set("current_page",this.model.getCurrentPage())}},onPagingPrev:function(){this.model.getCurrentPage()>1&&(this.model.setCurrentPage(this.model.getCurrentPage()-1),this.tracksRegion.currentView.collection=this.model.getPageOfTracks(),this.tracksRegion.currentView.render(),this.footerRegion.currentView.model.set("current_page",this.model.getCurrentPage()),this.$el.find(".spp-playlist-scroller").data("jsp").reinitialise())},onPagingNext:function(){var e=this.options.sppLayout.model.get("options"),t=Math.ceil(this.model.getNumTracks()/e.tracks_per_page);this.model.getCurrentPage()<t&&(this.model.setCurrentPage(this.model.getCurrentPage()+1),this.tracksRegion.currentView.collection=this.model.getPageOfTracks(),this.tracksRegion.currentView.render(),this.footerRegion.currentView.model.set("current_page",this.model.getCurrentPage()),this.$el.find(".spp-playlist-scroller").data("jsp").reinitialise())},searchInput:function(){n.options.searchWhileTyping&&this.searchTracks()},searchKeypress:function(e){13==e.which&&(n.options.searchWhileTyping||this.searchTracks(),e.preventDefault())},searchTracks:function(){this.searchTerm=this.$el.find(".spp-search").val(),this.model.searchTracks(this.searchTerm);var e=this.options.sppLayout.model.get("options"),t=this.model.getNumTracks(),s=Math.ceil(t/e.tracks_per_page);this.footerRegion.currentView.model.set("current_page",1),this.footerRegion.currentView.model.set("num_pages",s),this.model.setCurrentPage(1),this.tracksRegion.currentView.collection=this.model.getPageOfTracks(),this.tracksRegion.currentView.render(),this.$el.find(".spp-search").focus().val("").val(this.searchTerm)},elementsTabbable:function(e){this.headerRegion.currentView.elementsTabbable(e),this.footerRegion.currentView.elementsTabbable(e),this.tracksRegion.currentView.elementsTabbable(e)}}),e.Controller={init:function(t){var s=n.request("tracks:get",t),i=new e.MainLayout({model:s,sppLayout:t});t.playlistRegion.show(i)}}}),e.on("changeEpisodePlaying",function(e,t){if(!e.isStp){var s=e.mainRegion.currentView;if(s){var i=s.model.get("isPlaying"),n=e.playlistRegion.currentView.tracksRegion.currentView;n.children.each(function(e){e.model==t&&i?e.$el.addClass("spp-playing"):e.$el.removeClass("spp-playing")})}}}),e.on("showEpisodeDetails",function(e){e.playlistRegion.currentView.elementsTabbable(!1)}),e.on("hideEpisodeDetails",function(e){e.playlistRegion.currentView.elementsTabbable(!0)}),e.on("tracksAdded",function(t){var s=t.model.get("options"),i=t.playlistRegion.currentView;if(i){var a=e.request("tracks:get",t);i.model=a;var r=i.model.getNumTracks(),o=Math.ceil(r/s.tracks_per_page);i.footerRegion.currentView.model.set("num_pages",o),i.headerRegion.currentView.enableDisableSort()}else n("Tracks added before playlist init in uid "+s.uid)}),e.Playlist.Controller}),p("apps/smart-podcast-player/player-controller",["spp-app","entities/player-view","entities/track-model","soundmanager2"],function(e){return e.module("Player",function(e,t){e.Controller={init:function(s){playerView=new e.PlayerLayout({model:t.request("track:featured",s),sppLayout:s,shortcode_options:s.model.get("options"),isStp:!1}),s.mainRegion.show(playerView)},rotateTrackSpeed:function(e){var t=e.mainRegion.currentView.model,s=t.get("speed");t.get("isPlaying")||t.set("isPlaying",!0),.5==s?t.set("speed",.75):.75==s?t.set("speed",1):1==s?t.set("speed",1.25):1.25==s?t.set("speed",1.5):1.5==s?t.set("speed",1.75):1.75==s?t.set("speed",2):2==s?t.set("speed",3):3==s?t.set("speed",.5):t.set("speed",1)}},t.on("previewTrack",function(e,t){var s=e.mainRegion.currentView;s&&(s.model=t,s.render())}),t.on("changeEpisodePlaying",function(e,s){var i=e.mainRegion.currentView;if(i&&!e.isStp){var n="track_"+i.model.cid,a=soundManager.getSoundById(n);if(s.get("isPlaying")){if(!a){var r=i.model.get("data");if(r.stream_url.toLowerCase().includes("soundcloud.com"))var o=r.stream_url.includes("?")?"&":"?",l=r.stream_url+o+"consumer_key="+AP_Player.soundcloudConsumerKey;else var l=r.stream_url;a=soundManager.createSound({id:n,url:l,whileplaying:function(){i.whileplaying(this)},onload:function(){for(var t=0;t<e.userTriggers.length;t++){var s=e.userTriggers[t];if("undefined"==typeof s.episode||s.episode===r.episode_number)if("elapsed"===s.type){var i=1e3*s.seconds;this.onPosition(i,s.callback,e.$el)}else if("remaining"===s.type){var i=a.durationEstimate-1e3*s.seconds;this.onPosition(i,s.callback,e.$el)}}},onfinish:function(){var i=s.get("speed");s.set("isPlaying",!1);var n=t.request("tracks:get",e),a=n.getNextTrack(s);a&&(t.trigger("previewTrack",e,a),a.set("isPlaying",!0),a.set("speed",i))}})}soundManager.play(n)}else a&&soundManager.pause(n)}}),t.on("changeSpeed",function(e,t){var s="track_"+t.cid,i=soundManager.getSoundById(s),n=t.get("speed");i&&i.isHTML5&&(i._a.playbackRate=n)})}),e.Player.Controller}),p("spp-app",["jquery","marionette","soundmanager2"],function(e,t){var s=new t.Application;return s.options={},s.options.current_page=1,s.options.tracks_per_page=10,s.options.searchWhileTyping=!0,s.on("initialize:after",function(){(jQuery(".smart-podcast-player-container").length>0||jQuery(".smart-track-player-container").length>0)&&(soundManager.setup({flashVersion:9,useHighPerformance:!0,wmode:"transparent",useHTML5Audio:!0,preferFlash:!1,onready:function(){s.trigger("app:core:init"),d(["apps/smart-track-player/stp-controller"],function(e){e.init()})}}),soundManager.beginDelayedInit())}),s.on("app:core:init",function(){d(["apps/smart-podcast-player/core"],function(e){e.init()})}),s.on("episode-details:init",function(e){d(["apps/smart-podcast-player/episode-details"],function(t){t.init(e)})}),s.on("playlist:init",function(e){d(["apps/smart-podcast-player/playlist"],function(t){t.init(e)})}),s.on("player:init",function(e){d(["apps/smart-podcast-player/player-controller"],function(t){t.init(e)})}),s}),t(jQuery),p("style",function(){}),"function"==typeof jQuery&&p("jquery",function(){return jQuery}),"function"==typeof _&&p("underscore",function(){return _}),String.prototype.includes||(String.prototype.includes=function(e,t){"use strict";return"number"!=typeof t&&(t=0),t+e.length>this.length?!1:-1!==this.indexOf(e,t)}),window.SmartPodcastPlayer={},window.SmartPodcastPlayer.initialize=function(){SmartPodcastPlayer.version="2.6.4",void 0===SmartPodcastPlayer._options&&(SmartPodcastPlayer._options={}),void 0===SmartPodcastPlayer._shortcode_options&&(SmartPodcastPlayer._shortcode_options={}),void 0===SmartPodcastPlayer._by_uid&&(SmartPodcastPlayer._by_uid={}),void 0===SmartPodcastPlayer._cached_tracks&&(SmartPodcastPlayer._cached_tracks={}),void 0===SmartPodcastPlayer._errors&&(SmartPodcastPlayer._errors={}),document.getElementsByTagName("body")[0].className+=" spp","undefined"!=typeof AP_Player&&SmartPodcastPlayer.version!==AP_Player.version&&console.log("Warning: Smart Podcast Player version mismatch detected.  Backend is running version '"+AP_Player.version+"' and frontend is running version '"+SmartPodcastPlayer.version+"'.  Try clearing all caches in caching plugins."),(void 0===AP_Player.soundcloudConsumerKey||""===AP_Player.soundcloudConsumerKey)&&(AP_Player.soundcloudConsumerKey="b38b3f6ee1cdb01e911c4d393c1f2f6e"),d(["jquery"],function(e){var t=[];e(".smart-podcast-player-container, .smart-track-player-container").each(function(){t.push(e(this).data("uid"))});var s=[];for(i=0;i<t.length;i++)"undefined"==typeof window["SmartPodcastPlayer_uid_"+t[i]]&&s.push(t[i]);if(s.length>0){var a={action:"spp_get_jsobj",uids:s};e.ajax({url:AP_Player.ajaxurl,dataType:"json",async:!1,type:"POST",data:a,success:function(e){for(i=0;i<e.length;i++){var t=e[i];window["SmartPodcastPlayer_uid_"+t.uid]=t}},failure:function(){n("Failed to get player info")}})}}),void 0===SmartPodcastPlayer.initialize.backbone_loaded&&(SmartPodcastPlayer.initialize.backbone_loaded=!1),d(["jquery","underscore","backbone","spp-app","style"],function(s,i,n,a){if(!SmartPodcastPlayer.initialize.backbone_loaded){{n.noConflict()}SmartPodcastPlayer.initialize.backbone_loaded=!0}t(s),e(jQuery,this),r(s),a.start()})},SmartPodcastPlayer.initialize(),window.addEventListener("load",SmartPodcastPlayer.initialize),window.SmartPodcastPlayer.onTimeElapsed=function(e,t,s,i){a({type:"elapsed",callback:e,seconds:t,player_uid:s,episode:i})},window.SmartPodcastPlayer.onTimeRemaining=function(e,t,s,i){a({type:"remaining",callback:e,seconds:t,player_uid:s,episode:i})},p("main",function(){})}();